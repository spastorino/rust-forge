<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rust Forge</title>
        
        <meta name="robots" content="noindex" />
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Supplemental documentation for contributing to The Rust Programming Language">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="affix"><a href="index.html">Overview</a></li><li><a href="compiler/index.html">Compiler</a></li><li><ol class="section"><li><a href="compiler/bug-fix-procedure.html">Bug Fix Procedure</a></li><li><a href="compiler/cross-compilation/index.html">Cross Compilation</a></li><li><ol class="section"><li><a href="compiler/cross-compilation/windows.html">Windows</a></li></ol></li><li><a href="compiler/diagnostic-codes.html">Diagnostic Codes</a></li><li><a href="compiler/profile-queries.html">Profiling Queries</a></li><li><a href="compiler/triage-meeting.html">Triage Meeting</a></li><li><a href="compiler/steering-meeting.html">Steering Meeting</a></li><li><ol class="section"><li><a href="compiler/steering-meeting/submit.html">Submitting a proposal</a></li><li><a href="compiler/steering-meeting/how-to-run-planning.html">How to run the planning meeting</a></li><li><a href="compiler/steering-meeting/how-to-run-design.html">How to run a design meeting</a></li></ol></li></ol></li><li><a href="infra/index.html">Infrastructure</a></li><li><ol class="section"><li><a href="infra/other-installation-methods.html">Other Installation Methods</a></li><li><a href="infra/channel-layout.html">Release Channel Layout</a></li><li><a href="infra/service-infrastructure.html">Service Infrastructure</a></li><li><a href="infra/team-maintenance.html">Team Maintenance</a></li><li><a href="infra/toolstate.html">The Toolstate System</a></li><li><a href="infra/policies/index.html">Policies</a></li><li><ol class="section"><li><a href="infra/policies/broken-nightlies.html">Broken nightlies</a></li></ol></li><li><a href="infra/guidelines/index.html">Guidelines</a></li><li><ol class="section"><li><a href="infra/guidelines/static-websites.html">Static websites</a></li></ol></li><li><a href="infra/docs/index.html">Documentation</a></li><li><ol class="section"><li><a href="infra/docs/bastion.html">Bastion server</a></li><li><a href="infra/docs/crater-agents.html">Crater agents</a></li><li><a href="infra/docs/discord-mods-bot.html">Discord moderation bot</a></li><li><a href="infra/docs/docs-rs.html">docs.rs</a></li><li><a href="infra/docs/monitoring.html">Monitoring</a></li><li><a href="infra/docs/rust-bots.html">rust-bots server</a></li><li><a href="infra/docs/rustc-ci.html">rust-lang/rust CI</a></li></ol></li></ol></li><li><a href="lang/index.html">Language</a></li><li><ol class="section"><li><a href="lang/rfc-merge-procedure.html">RFC Merge Procedure</a></li><li><a href="lang/triage-meeting-procedure.html">Triage Meeting Procedure</a></li></ol></li><li><a href="release/index.html">Release</a></li><li><ol class="section"><li><a href="release/beta-backporting.html">Beta Backporting</a></li><li><a href="release/platform-support.html">Platform Support</a></li><li><a href="release/release-notes.html">Preparing Release Notes</a></li><li><a href="release/process.html">Release Process</a></li><li><a href="release/rollups.html">Rollup Procedure</a></li><li><a href="release/triage-procedure.html">Triage Procedure</a></li></ol></li><li><a href="archive/index.html">Archive</a></li><li><ol class="section"><li><a href="archive/fott.html">Friends of the Tree</a></li><li><a href="archive/release-history.html">Release History</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Rust Forge</h1>

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                            <a href="https://github.com/rust-lang/rust-forge" title="Git repository" aria-label="Git repository">
                                <i id="git-repository-button" class="fa fa-github"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#rust-forge" id="rust-forge">Rust Forge</a></h1>
<p>Welcome to the Rust Forge! Rust Forge serves as a repository of supplementary
documentation useful for members of <a href="https://rust-lang.org">The Rust Programming Language</a>. If
you find any mistakes, typos, or want to add to the Rust Forge. Feel free to
file an issue or PR on the <a href="https://github.com/rust-lang/rust-forge">Rust Forge GitHub</a>.</p>
<!-- All `<span id="..."></span>` elements are filled at run time when a reader
visits the website. Please refer to `js/index.js` for how these values
are generated.
-->
<h3><a class="header" href="#current-release-versions" id="current-release-versions">Current Release Versions</a></h3>
<table><thead><tr><th>Channel</th><th>Version</th><th>Release Date</th></tr></thead><tbody>
<tr><td>Stable</td><td><span id="stable-version"></span></td><td><span id="stable-release-date"></span></td></tr>
<tr><td>Beta</td><td><span id="beta-version"></span></td><td><span id="beta-release-date"></span></td></tr>
<tr><td>Nightly</td><td><span id="nightly-version"></span></td><td><span id="nightly-release-date"></span></td></tr>
</tbody></table>
<h3><a class="header" href="#no-tools-breakage-week" id="no-tools-breakage-week">No Tools Breakage Week</a></h3>
<p>To ensure the beta release includes all the tools, no <a href="./infra/toolstate.html">tool breakages</a> are
allowed in the week before the beta cutoff (except for nightly-only tools).</p>
<table><thead><tr><th>Channel</th><th>Version</th><th>No Breakage Week</th></tr></thead><tbody>
<tr><td>Beta</td><td><span id="beta-cycle"></span></td><td><span id="beta-timespan"></span></td></tr>
<tr><td>Nightly</td><td><span id="nightly-cycle"></span></td><td><span id="nightly-timespan"></span></td></tr>
</tbody></table>
<h3><a class="header" href="#external-links" id="external-links">External Links</a></h3>
<ul>
<li><a href="https://rust-lang.github.io/rustc-guide/appendix/bibliography.html">Bibliography</a> of research papers and other projects that influenced Rust.</li>
<li><a href="https://pontoon.rust-lang.org/">Rust Pontoon</a> is a translation management system used to localize the Rust
website.</li>
</ul>
<h1><a class="header" href="#compiler" id="compiler">Compiler</a></h1>
<p>This section documents the Rust compiler itself, its APIs, and how to
contribute and provide bug fixes for the compiler.</p>
<h3><a class="header" href="#external-links-1" id="external-links-1">External Links</a></h3>
<ul>
<li>The <a href="https://rust-lang.github.io/rustc-guide/">Rustc guide</a> documents how the compiler works as well providing helpful
information to help get new contributors involved in the development.</li>
<li>Rustc's <a href="https://doc.rust-lang.org/nightly/nightly-rustc/rustc/">internal documentation</a>.</li>
<li>The <a href="https://rust-lang.github.io/compiler-team/">Compiler team</a> website is the home for all of the compiler
team's planning.</li>
<li>oli-obk's <a href="https://oli-obk.github.io/fixmeh/">FIXME page</a> lists all of the <code>FIXME</code> comments in the Rust compiler.</li>
</ul>
<h1><a class="header" href="#rustc-bug-fix-procedure" id="rustc-bug-fix-procedure">Rustc Bug Fix Procedure</a></h1>
<p>This page defines the best practices procedure for making bug fixes or soundness
corrections in the compiler that can cause existing code to stop compiling. This
text is based on
<a href="https://github.com/rust-lang/rfcs/blob/master/text/1589-rustc-bug-fix-procedure.md">RFC 1589</a>.</p>
<h1><a class="header" href="#motivation" id="motivation">Motivation</a></h1>
<p>From time to time, we encounter the need to make a bug fix, soundness
correction, or other change in the compiler which will cause existing code to
stop compiling. When this happens, it is important that we handle the change in
a way that gives users of Rust a smooth transition. What we want to avoid is
that existing programs suddenly stop compiling with opaque error messages: we
would prefer to have a gradual period of warnings, with clear guidance as to
what the problem is, how to fix it, and why the change was made. This RFC
describes the procedure that we have been developing for handling breaking
changes that aims to achieve that kind of smooth transition.</p>
<p>One of the key points of this policy is that (a) warnings should be issued
initially rather than hard errors if at all possible and (b) every change that
causes existing code to stop compiling will have an associated tracking issue.
This issue provides a point to collect feedback on the results of that change.
Sometimes changes have unexpectedly large consequences or there may be a way to
avoid the change that was not considered. In those cases, we may decide to
change course and roll back the change, or find another solution (if warnings
are being used, this is particularly easy to do).</p>
<h3><a class="header" href="#what-qualifies-as-a-bug-fix" id="what-qualifies-as-a-bug-fix">What qualifies as a bug fix?</a></h3>
<p>Note that this RFC does not try to define when a breaking change is permitted.
That is already covered under <a href="https://github.com/rust-lang/rfcs/blob/master/text/1122-language-semver.md">RFC 1122</a>. This document assumes that the
change being made is in accordance with those policies. Here is a summary of the
conditions from RFC 1122:</p>
<ul>
<li><strong>Soundness changes:</strong> Fixes to holes uncovered in the type system.</li>
<li><strong>Compiler bugs:</strong> Places where the compiler is not implementing the specified
semantics found in an RFC or lang-team decision.</li>
<li><strong>Underspecified language semantics:</strong> Clarifications to grey areas where the
compiler behaves inconsistently and no formal behavior had been previously
decided.</li>
</ul>
<p>Please see <a href="https://github.com/rust-lang/rfcs/blob/master/text/1122-language-semver.md">the RFC</a> for full details!</p>
<h1><a class="header" href="#detailed-design" id="detailed-design">Detailed design</a></h1>
<p>The procedure for making a breaking change is as follows (each of these steps is
described in more detail below):</p>
<ol start="0">
<li>Do a <strong>crater run</strong> to assess the impact of the change.</li>
<li>Make a <strong>special tracking issue</strong> dedicated to the change.</li>
<li>Do not report an error right away. Instead, <strong>issue forwards-compatibility
lint warnings</strong>.
<ul>
<li>Sometimes this is not straightforward. See the text below for suggestions
on different techniques we have employed in the past.</li>
<li>For cases where warnings are infeasible:
<ul>
<li>Report errors, but make every effort to give a targeted error message
that directs users to the tracking issue</li>
<li>Submit PRs to all known affected crates that fix the issue
<ul>
<li>or, at minimum, alert the owners of those crates to the problem and
direct them to the tracking issue</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Once the change has been in the wild for at least one cycle, we can
<strong>stabilize the change</strong>, converting those warnings into errors.</li>
</ol>
<p>Finally, for changes to libsyntax that will affect plugins, the general policy
is to batch these changes. That is discussed below in more detail.</p>
<h3><a class="header" href="#tracking-issue" id="tracking-issue">Tracking issue</a></h3>
<p>Every breaking change should be accompanied by a <strong>dedicated tracking issue</strong>
for that change. The main text of this issue should describe the change being
made, with a focus on what users must do to fix their code. The issue should be
approachable and practical; it may make sense to direct users to an RFC or some
other issue for the full details. The issue also serves as a place where users
can comment with questions or other concerns.</p>
<p>A template for these breaking-change tracking issues can be found below. An
example of how such an issue should look can be <a href="https://gist.github.com/nikomatsakis/631ec8b4af9a18b5d062d9d9b7d3d967">found
here</a>.</p>
<p>The issue should be tagged with (at least) <code>B-unstable</code> and <code>T-compiler</code>.</p>
<h3><a class="header" href="#tracking-issue-template" id="tracking-issue-template">Tracking issue template</a></h3>
<p>This is a template to use for tracking issues:</p>
<pre><code>This is the **summary issue** for the `YOUR_LINT_NAME_HERE`
future-compatibility warning and other related errors. The goal of
this page is describe why this change was made and how you can fix
code that is affected by it. It also provides a place to ask questions
or register a complaint if you feel the change should not be made. For
more information on the policy around future-compatibility warnings,
see our [breaking change policy guidelines][guidelines].

[guidelines]: LINK_TO_THIS_RFC

#### What is the warning for?

*Describe the conditions that trigger the warning and how they can be
fixed. Also explain why the change was made.**

#### When will this warning become a hard error?

At the beginning of each 6-week release cycle, the Rust compiler team
will review the set of outstanding future compatibility warnings and
nominate some of them for **Final Comment Period**. Toward the end of
the cycle, we will review any comments and make a final determination
whether to convert the warning into a hard error or remove it
entirely.
</code></pre>
<h3><a class="header" href="#issuing-future-compatibility-warnings" id="issuing-future-compatibility-warnings">Issuing future compatibility warnings</a></h3>
<p>The best way to handle a breaking change is to begin by issuing
future-compatibility warnings. These are a special category of lint warning.
Adding a new future-compatibility warning can be done as follows.</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
// 1. Define the lint in `src/librustc/lint/builtin.rs`:
declare_lint! {
    pub YOUR_ERROR_HERE,
    Warn,
    &quot;illegal use of foo bar baz&quot;
}

// 2. Add to the list of HardwiredLints in the same file:
impl LintPass for HardwiredLints {
    fn get_lints(&amp;self) -&gt; LintArray {
        lint_array!(
            ..,
            YOUR_ERROR_HERE
        )
    }
}

// 3. Register the lint in `src/librustc_lint/lib.rs`:
store.register_future_incompatible(sess, vec![
    ...,
    FutureIncompatibleInfo {
        id: LintId::of(YOUR_ERROR_HERE),
        reference: &quot;issue #1234&quot;, // your tracking issue here!
    },
]);

// 4. Report the lint:
tcx.lint_node(
    lint::builtin::YOUR_ERROR_HERE,
    path_id,
    binding.span,
    format!(&quot;some helper message here&quot;));
#}</code></pre></pre>
<h4><a class="header" href="#helpful-techniques" id="helpful-techniques">Helpful techniques</a></h4>
<p>It can often be challenging to filter out new warnings from older, pre-existing
errors. One technique that has been used in the past is to run the older code
unchanged and collect the errors it would have reported. You can then issue
warnings for any errors you would give which do not appear in that original set.
Another option is to abort compilation after the original code completes if
errors are reported: then you know that your new code will only execute when
there were no errors before.</p>
<h4><a class="header" href="#crater-and-cratesio" id="crater-and-cratesio">Crater and crates.io</a></h4>
<p>We should always do a crater run to assess impact. It is polite and considerate
to at least notify the authors of affected crates the breaking change. If we can
submit PRs to fix the problem, so much the better.</p>
<h4><a class="header" href="#is-it-ever-acceptable-to-go-directly-to-issuing-errors" id="is-it-ever-acceptable-to-go-directly-to-issuing-errors">Is it ever acceptable to go directly to issuing errors?</a></h4>
<p>Changes that are believed to have negligible impact can go directly to issuing
an error. One rule of thumb would be to check against <code>crates.io</code>: if fewer than
10 <strong>total</strong> affected projects are found (<strong>not</strong> root errors), we can move
straight to an error. In such cases, we should still make the &quot;breaking change&quot;
page as before, and we should ensure that the error directs users to this page.
In other words, everything should be the same except that users are getting an
error, and not a warning. Moreover, we should submit PRs to the affected
projects (ideally before the PR implementing the change lands in rustc).</p>
<p>If the impact is not believed to be negligible (e.g., more than 10 crates are
affected), then warnings are required (unless the compiler team agrees to grant
a special exemption in some particular case). If implementing warnings is not
feasible, then we should make an aggressive strategy of migrating crates before
we land the change so as to lower the number of affected crates. Here are some
techniques for approaching this scenario:</p>
<ol>
<li>Issue warnings for subparts of the problem, and reserve the new errors for
the smallest set of cases you can.</li>
<li>Try to give a very precise error message that suggests how to fix the problem
and directs users to the tracking issue.</li>
<li>It may also make sense to layer the fix:
<ul>
<li>First, add warnings where possible and let those land before proceeding to
issue errors.</li>
<li>Work with authors of affected crates to ensure that corrected versions are
available <em>before</em> the fix lands, so that downstream users can use them.</li>
</ul>
</li>
</ol>
<h3><a class="header" href="#stabilization" id="stabilization">Stabilization</a></h3>
<p>After a change is made, we will <strong>stabilize</strong> the change using the same process
that we use for unstable features:</p>
<ul>
<li>
<p>After a new release is made, we will go through the outstanding tracking
issues corresponding to breaking changes and nominate some of them for <strong>final
comment period</strong> (FCP).</p>
</li>
<li>
<p>The FCP for such issues lasts for one cycle. In the final week or two of the
cycle, we will review comments and make a final determination:</p>
<ul>
<li>Convert to error: the change should be made into a hard error.</li>
<li>Revert: we should remove the warning and continue to allow the older code to
compile.</li>
<li>Defer: can't decide yet, wait longer, or try other strategies.</li>
</ul>
</li>
</ul>
<p>Ideally, breaking changes should have landed on the <strong>stable branch</strong> of the
compiler before they are finalized.</p>
<a name="guide">
<h3><a class="header" href="#removing-a-lint" id="removing-a-lint">Removing a lint</a></h3>
<p>Once we have decided to make a &quot;future warning&quot; into a hard error, we need a PR
that removes the custom lint. As an example, here are the steps required to
remove the <code>overlapping_inherent_impls</code> compatibility lint. First, convert the
name of the lint to uppercase (<code>OVERLAPPING_INHERENT_IMPLS</code>) ripgrep through the
source for that string. We will basically by converting each place where this
lint name is mentioned (in the compiler, we use the upper-case name, and a macro
automatically generates the lower-case string; so searching for
<code>overlapping_inherent_impls</code> would not find much).</p>
<h4><a class="header" href="#remove-the-lint" id="remove-the-lint">Remove the lint.</a></h4>
<p>The first reference you will likely find is the lint definition <a href="https://github.com/rust-lang/rust/blob/085d71c3efe453863739c1fb68fd9bd1beff214f/src/librustc/lint/builtin.rs#L171-L175">in
<code>librustc/lint/builtin.rs</code> that resembles this</a>:</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
declare_lint! {
    pub OVERLAPPING_INHERENT_IMPLS,
    Deny, // this may also say Warning
    &quot;two overlapping inherent impls define an item with the same name were erroneously allowed&quot;
}
#}</code></pre></pre>
<p>This <code>declare_lint!</code> macro creates the relevant data structures. Remove it. You
will also find that there is a mention of <code>OVERLAPPING_INHERENT_IMPLS</code> later in
the file as <a href="https://github.com/rust-lang/rust/blob/085d71c3efe453863739c1fb68fd9bd1beff214f/src/librustc/lint/builtin.rs#L252-L290">part of a <code>lint_array!</code></a>; remove it too,</p>
<p>Next, you see see <a href="https://github.com/rust-lang/rust/blob/085d71c3efe453863739c1fb68fd9bd1beff214f/src/librustc_lint/lib.rs#L202-L205">a reference to <code>OVERLAPPING_INHERENT_IMPLS</code> in
<code>librustc_lint/lib.rs</code></a>. This defining the lint as a &quot;future
compatibility lint&quot;:</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
FutureIncompatibleInfo {
    id: LintId::of(OVERLAPPING_INHERENT_IMPLS),
    reference: &quot;issue #36889 &lt;https://github.com/rust-lang/rust/issues/36889&gt;&quot;,
},
#}</code></pre></pre>
<p>Remove this too.</p>
<h4><a class="header" href="#add-the-lint-to-the-list-of-removed-lists" id="add-the-lint-to-the-list-of-removed-lists">Add the lint to the list of removed lists.</a></h4>
<p>In <code>src/librustc_lint/lib.rs</code> there is a list of &quot;renamed and removed lints&quot;.
You can add this lint to the list:</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
store.register_removed(&quot;overlapping_inherent_impls&quot;, &quot;converted into hard error, see #36889&quot;);
#}</code></pre></pre>
<p>where <code>#36889</code> is the tracking issue for your lint.</p>
<h4><a class="header" href="#update-the-places-that-issue-the-lint" id="update-the-places-that-issue-the-lint">Update the places that issue the lint</a></h4>
<p>Finally, the last class of references you will see are the places that actually
<strong>trigger</strong> the lint itself (i.e., what causes the warnings to appear). These
you do not want to delete. Instead, you want to convert them into errors. In
this case, the <a href="https://github.com/rust-lang/rust/blob/085d71c3efe453863739c1fb68fd9bd1beff214f/src/librustc_typeck/coherence/inherent.rs#L300-L303"><code>add_lint</code> call</a> looks like this:</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
self.tcx.sess.add_lint(lint::builtin::OVERLAPPING_INHERENT_IMPLS,
                       node_id,
                       self.tcx.span_of_impl(item1).unwrap(),
                       msg);
#}</code></pre></pre>
<p>We want to convert this into an error. In some cases, there may be an existing
error for this scenario. In others, we will need to allocate a fresh diagnostic
code.
<a href="compiler/rustc-diagnostic-code.html">Instructions for allocating a fresh diagnostic code can be found here.</a>
You may want to mention in the extended description that the compiler behavior
changed on this point, and include a reference to the tracking issue for the
change.</p>
<p>Let's say that we've adopted <code>E0592</code> as our code. Then we can change the
<code>add_lint()</code> call above to something like:</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
struct_span_err!(self.tcx.sess, self.tcx.span_of_impl(item1).unwrap(), msg)
    .emit();
#}</code></pre></pre>
<h4><a class="header" href="#update-tests" id="update-tests">Update tests</a></h4>
<p>Finally, run the test suite. These should be some tests that used to reference
the <code>overlapping_inherent_impls</code> lint, those will need to be updated. In
general, if the test used to have <code>#[deny(overlapping_inherent_impls)]</code>, that
can just be removed.</p>
<pre><code>./x.py test
</code></pre>
<h4><a class="header" href="#all-done" id="all-done">All done!</a></h4>
<p>Open a PR. =)</p>
<!-- -Links--------------------------------------------------------------------- -->
<h1><a class="header" href="#cross-compilation" id="cross-compilation">Cross Compilation</a></h1>
<p>This subsection documents cross compiling your code on one platform to another.</p>
<h1><a class="header" href="#windows" id="windows">Windows</a></h1>
<ol>
<li>Acquire LLD somehow. Either your distro provides it or you have to build it
from source.</li>
<li>You'll need an lld-link wrapper, which is just lld using the link flavor so
it accepts the same flags as link.exe. You may either have a binary called
lld-link, or you may have to write some sort of script to wrap lld.</li>
<li>If you want to be able to cross compile C/C++ as well, you will need to
obtain clang-cl, which is clang pretending to be cl.</li>
<li>You'll need libraries from an existing msvc installation on Windows to link
your Rust code against. You'll need the VC++ libraries from either VS 2015 or
VS 2017, and the system libraries from either the Windows 8.1 or Windows 10
SDK. Here are some approximate paths which may vary depending on the exact
version you have installed. Copy them over to your non-windows machine.
<ul>
<li>VS 2015: <code>C:\Program Files (x86)\Microsoft Visual Studio 14.0\VC\lib</code></li>
<li>VS 2017: <code>C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Tools\MSVC\14.10.24728\lib</code></li>
<li>Windows 10 SDK: <code>C:\Program Files (x86)\Windows Kits\10\Lib\10.0.14393.0</code></li>
<li>Windows 8.1 SDK: <code>C:\Program Files (x86)\Windows Kits\8.1\Lib\winv6.3</code></li>
</ul>
</li>
<li>If you want to cross compile C/C++ you'll also need headers. Replace <code>lib</code> in
the above paths with <code>include</code> to get the appropriate headers.</li>
<li>Set your LIB and INCLUDE environment variables to semicolon separated lists
of all the relevant directories for the correct architecture.</li>
<li>In your .cargo/config add <code>[target.x86_64-pc-windows-msvc] linker = &quot;lld-link&quot;</code>
or whatever your lld pretending to be link.exe is called.</li>
<li>For cross compiling C/C++, you'll need to get the gcc crate working
correctly. I never tested it to cross compile, I have no idea whether it will
even do anything sane.</li>
<li>Install the appropriate target using rustup and pass
<code>--target=x86_64-pc-windows-msvc</code> while building. Hopefully it works. If it
doesn't, well... I don't know.</li>
</ol>
<h1><a class="header" href="#diagnostic-codes" id="diagnostic-codes">Diagnostic Codes</a></h1>
<p>We generally try assign each error message a unique code like <code>E0123</code>. These
codes are defined in the compiler in the <code>diagnostics.rs</code> files found in each
crate, which basically consist of macros. The codes come in two varieties: those
that have an extended write-up, and those that do not. Whenever possible, if you
are making a new code, you should write an extended write-up.</p>
<h3><a class="header" href="#allocating-a-fresh-code" id="allocating-a-fresh-code">Allocating a fresh code</a></h3>
<p>If you want to create a new error, you first need to find the next available
code. This is a bit tricky since the codes are defined in various crates. To do
it, run this obscure command:</p>
<pre><code>./x.py test --stage 0 src/tools/tidy
</code></pre>
<p>This will invoke the tidy script, which generally checks that your code obeys
our coding conventions. One of those jobs is to check that diagnostic codes are
indeed unique. Once it is finished with that, tidy will print out the lowest
unused code:</p>
<pre><code>...
tidy check (x86_64-apple-darwin)
* 470 error codes
* highest error code: E0591
...
</code></pre>
<p>Here we see the highest error code in use is <code>E0591</code>, so we <em>probably</em> want
<code>E0592</code>. To be sure, run <code>rg E0592</code> and check, you should see no references.</p>
<p>Next, open <code>src/{crate}/diagnostics.rs</code> within the crate where you wish to issue
the error (e.g., <code>src/librustc_typeck/diagnostics.rs</code>). Ideally, you will add
the code (in its proper numerical order) into the <code>register_long_diagnostics!</code>
macro, sort of like this:</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
register_long_diagnostics! {
    ...
    E0592: r##&quot;
Your extended error text goes here!
&quot;##,
}
#}</code></pre></pre>
<p>But you can also add it without an extended description:</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
register_diagnostics! {
    ...
    E0592, // put a description here
}
#}</code></pre></pre>
<p>To actually issue the error, you can use the <code>struct_span_err!</code> macro:</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
struct_span_err!(self.tcx.sess, // some path to the session here
                 span, // whatever span in the source you want
                 E0592, // your new error code
                 &amp;format!(&quot;text of the error&quot;))
    .emit() // actually issue the error
#}</code></pre></pre>
<p>If you want to add notes or other snippets, you can invoke methods before you
call <code>.emit()</code>:</p>
<pre><pre class="playpen"><code class="language-rust">
# #![allow(unused_variables)]
#fn main() {
struct_span_err!(...)
    .span_label(another_span, &quot;something to label in the source&quot;)
    .span_note(another_span, &quot;some separate note, probably avoid these&quot;)
    .emit_()
#}</code></pre></pre>
<h1><a class="header" href="#profiling-queries" id="profiling-queries">Profiling Queries</a></h1>
<p>In an effort to support <em>incremental compilation</em>, the latest design of the Rust
compiler consists of a <em>query-based</em> model.</p>
<p>The details of this model are (currently) outside the scope of this document,
however, we explain <a href="compiler/profile-queries.html#background">some background of this model</a>, in an effort
to explain how we profile its performance. We intend this profiling effort to
address <a href="https://github.com/rust-lang/rust/issues/42678">issue 42678</a>.</p>
<h2><a class="header" href="#quick-start" id="quick-start">Quick Start</a></h2>
<h3><a class="header" href="#0-enable-debug-assertions" id="0-enable-debug-assertions">0. Enable debug assertions</a></h3>
<pre><code>./configure --enable-debug-assertions
</code></pre>
<h3><a class="header" href="#1-compile-rustc" id="1-compile-rustc">1. Compile <code>rustc</code></a></h3>
<p>Compile the compiler, up to at least stage 1:</p>
<pre><code>python x.py --stage 1
</code></pre>
<h3><a class="header" href="#2-run-rustc-with-flags" id="2-run-rustc-with-flags">2. Run <code>rustc</code>, with flags</a></h3>
<p>Run the compiler on a source file, supplying two additional debugging flags with
<code>-Z</code>:</p>
<pre><code>rustc -Z profile-queries -Z incremental=cache foo.rs
</code></pre>
<p>Regarding the two additional parameters:</p>
<ul>
<li><code>-Z profile-queries</code> tells the compiler to run a separate thread that profiles
the queries made by the main compiler thread(s).</li>
<li><code>-Z incremental=cache</code> tells the compiler to &quot;cache&quot; various files that
describe the compilation dependencies, in the subdirectory <code>cache</code>.</li>
</ul>
<p>This command will generate the following files:</p>
<ul>
<li><code>profile_queries.html</code> consists of an HTML-based representation of the
<a href="compiler/profile-queries.html#trace-of-queries">trace of queries</a>.</li>
<li><code>profile_queries.counts.txt</code> consists of a histogram, where each histogram
&quot;bucket&quot; is a query provider.</li>
</ul>
<h3><a class="header" href="#3-run-rustc-with--z-time-passes" id="3-run-rustc-with--z-time-passes">3. Run <code>rustc</code>, with <code>-Z time-passes</code>:</a></h3>
<ul>
<li>This additional flag will add all timed passes to the output files mentioned
above, in step 2. As described below, these passes appear visually distinct
from the queries in the HTML output (they currently appear as green boxes, via
CSS).</li>
</ul>
<h3><a class="header" href="#4-inspect-the-output" id="4-inspect-the-output">4. Inspect the output</a></h3>
<ul>
<li>4(a). Open the HTML file (<code>profile_queries.html</code>) with a browser. See
<a href="compiler/profile-queries.html#interpret-the-html-output">this section</a> for an explanation of this file.</li>
<li>4(b). Open the data file (<code>profile_queries.counts.txt</code>) with a text editor, or
spreadsheet. See <a href="compiler/profile-queries.html#interpret-the-data-output">this section</a> for an explanation
of this file.</li>
</ul>
<h2><a class="header" href="#interpret-the-html-output" id="interpret-the-html-output">Interpret the HTML Output</a></h2>
<h3><a class="header" href="#example-0" id="example-0">Example 0</a></h3>
<p>The following image gives some example output, from tracing the queries of
<code>hello_world.rs</code> (a single <code>main</code> function, that prints <code>&quot;hello world&quot;</code> via the
macro <code>println!</code>). This image only shows a short prefix of the total output; the
<em>actual</em> output is much longer.</p>
<p><a href="compiler/profile-queries/example-0.html"><img src="compiler/profile-queries/example-0.png" alt="Example HTML output" /></a>
<a href="compiler/profile-queries/example-0.html">View full HTML output</a>. Note; it could take up
to a second to properly render depending on your browser.</p>
<h3><a class="header" href="#example-0-explanation" id="example-0-explanation">Example 0 explanation</a></h3>
<p>The trace of the queries has a formal structure; see
<a href="compiler/profile-queries.html#trace-of-queries">Trace of Queries</a> for details.</p>
<p>We style this formal structure as follows:</p>
<ul>
<li><strong>Timed passes:</strong> Green boxes, when present (via <code>-Z time-passes</code>), represent
<em>timed passes</em> in the compiler. In future versions, these passes may be
replaced by queries, explained below.</li>
<li><strong>Labels:</strong> Some green and red boxes are labeled with text. Where they are
present, the labels give the following information:
<ul>
<li>The <a href="compiler/profile-queries.html#queries">query's <em>provider</em></a>, sans its <em>key</em> and its <em>result</em>, which
are often too long to include in these labels.</li>
<li>The <em>duration</em> of the provider, as a fraction of the total time (for the
entire trace). This fraction includes the query's entire extent (that is,
the sum total of all of its sub-queries).</li>
</ul>
</li>
<li><strong>Query hits:</strong> Blue dots represent query hits. They consist of leaves in the
trace's tree. (CSS class: <code>hit</code>).</li>
<li><strong>Query misses:</strong> Red boxes represent query misses. They consist of internal
nodes in the trace's tree. (CSS class: <code>miss</code>).</li>
<li><strong>Nesting structure:</strong> Many red boxes contain <em>nested boxes and dots</em>. This
nesting structure reflects that some providers <em>depend on</em> results from other
providers, which consist of their nested children.</li>
<li>Some red boxes are <em>labeled</em> with text, and have highlighted borders (light
red, and bolded). (See <a href="compiler/profile-queries.html#heuristics">heuristics</a> for details).</li>
</ul>
<h2><a class="header" href="#heuristics" id="heuristics">Heuristics</a></h2>
<p>Heuristics-based CSS Classes:</p>
<ul>
<li>
<p><code>important</code> -- Trace nodes are <code>important</code> if they have an extent of 6 (or
more), <em>or</em> they have a duration fraction of one percent (or more). These
numbers are simple heuristics (currently hard-coded, but easy to modify).
Important nodes are styled with textual labels, and highlighted borders (light
red, and bolded).</p>
</li>
<li>
<p><code>frac-50</code>, <code>-40</code>, ... -- Trace nodes whose total duration (self and children)
take a large fraction of the total duration, at or above 50%, 40%, and so on.
We style nodes these with larger font and padding.</p>
</li>
</ul>
<h2><a class="header" href="#interpret-the-data-output" id="interpret-the-data-output">Interpret the Data Output</a></h2>
<p>The file <code>profile_queries.counts.txt</code> contains a table of information about the
queries, organized around their providers.</p>
<p>For each provider (or timed pass, when <code>-Z time-passes</code> is present), we produce:</p>
<ul>
<li>
<p>A total <strong>count</strong> --- the total number of times this provider was queried</p>
</li>
<li>
<p>A total <strong>duration</strong> --- the total number of seconds spent running this
provider, <em>including</em> all providers it may depend on. To get a sense of this
dependency structure, and inspect a more fine-grained view of these durations,
see <a href="compiler/profile-queries.html#interpret-the-html-output">this section</a>.</p>
</li>
</ul>
<p>These rows are <strong>sorted by total duration</strong>, in descending order.</p>
<h3><a class="header" href="#counts-example-0" id="counts-example-0">Counts: Example 0</a></h3>
<p>The following example <code>profile_queries.counts.txt</code> file results from running on
a hello world program (a single main function that uses <code>println</code> to print
`&quot;hellow world&quot;).</p>
<p>As explained above, the columns consist of <code>provider/pass</code>, <code>count</code>, <code>duration</code>:</p>
<pre><code>translation,1,0.891
symbol_name,2658,0.733
def_symbol_name,2556,0.268
item_attrs,5566,0.162
type_of,6922,0.117
generics_of,8020,0.084
serialize dep graph,1,0.079
relevant_trait_impls_for,50,0.063
def_span,24875,0.061
expansion,1,0.059
const checking,1,0.055
adt_def,1141,0.048
trait_impls_of,32,0.045
is_copy_raw,47,0.045
is_foreign_item,2638,0.042
fn_sig,2172,0.033
adt_dtorck_constraint,2,0.023
impl_trait_ref,2434,0.023
typeck_tables_of,29,0.022
item-bodies checking,1,0.017
typeck_item_bodies,1,0.017
is_default_impl,2320,0.017
borrow checking,1,0.014
borrowck,4,0.014
mir_validated,4,0.013
adt_destructor,10,0.012
layout_raw,258,0.010
load_dep_graph,1,0.007
item-types checking,1,0.005
mir_const,2,0.005
name resolution,1,0.004
is_object_safe,35,0.003
is_sized_raw,89,0.003
parsing,1,0.003
is_freeze_raw,11,0.001
privacy checking,1,0.001
privacy_access_levels,5,0.001
resolving dependency formats,1,0.001
adt_sized_constraint,9,0.001
wf checking,1,0.001
liveness checking,1,0.001
compute_incremental_hashes_map,1,0.001
match checking,1,0.001
type collecting,1,0.001
param_env,31,0.000
effect checking,1,0.000
trait_def,140,0.000
lowering ast -&gt; hir,1,0.000
predicates_of,70,0.000
extern_crate,319,0.000
lifetime resolution,1,0.000
is_const_fn,6,0.000
intrinsic checking,1,0.000
translation item collection,1,0.000
impl_polarity,15,0.000
creating allocators,1,0.000
language item collection,1,0.000
crate injection,1,0.000
early lint checks,1,0.000
indexing hir,1,0.000
maybe creating a macro crate,1,0.000
coherence checking,1,0.000
optimized_mir,6,0.000
is_panic_runtime,33,0.000
associated_item_def_ids,7,0.000
needs_drop_raw,10,0.000
lint checking,1,0.000
complete gated feature checking,1,0.000
stability index,1,0.000
region_maps,11,0.000
super_predicates_of,8,0.000
coherent_trait,2,0.000
AST validation,1,0.000
loop checking,1,0.000
static item recursion checking,1,0.000
variances_of,11,0.000
associated_item,5,0.000
plugin loading,1,0.000
looking for plugin registrar,1,0.000
stability checking,1,0.000
describe_def,15,0.000
variance testing,1,0.000
codegen unit partitioning,1,0.000
looking for entry point,1,0.000
checking for inline asm in case the target doesn't support it,1,0.000
inherent_impls,1,0.000
crate_inherent_impls,1,0.000
trait_of_item,7,0.000
crate_inherent_impls_overlap_check,1,0.000
attribute checking,1,0.000
internalize symbols,1,0.000
impl wf inference,1,0.000
death checking,1,0.000
reachability checking,1,0.000
reachable_set,1,0.000
is_exported_symbol,3,0.000
is_mir_available,2,0.000
unused lib feature checking,1,0.000
maybe building test harness,1,0.000
recursion limit,1,0.000
write allocator module,1,0.000
assert dep graph,1,0.000
plugin registration,1,0.000
write metadata,1,0.000
</code></pre>
<h1><a class="header" href="#background" id="background">Background</a></h1>
<p>We give some background about the query model of the Rust compiler.</p>
<h2><a class="header" href="#def-ids" id="def-ids">Def IDs</a></h2>
<p>In the query model, many queries have a key that consists of a Def ID. The Rust
compiler uses Def IDs to distinguish definitions in the input Rust program.</p>
<p>From the compiler source code (<code>src/librustc/hir/def_id.rs</code>):</p>
<pre><code>/// A DefId identifies a particular *definition*, by combining a crate
/// index and a def index.
#[derive(Clone, Eq, Ord, PartialOrd, PartialEq, RustcEncodable, RustcDecodable, Hash, Copy)]
pub struct DefId {
    pub krate: CrateNum,
    pub index: DefIndex,
}
</code></pre>
<h2><a class="header" href="#queries" id="queries">Queries</a></h2>
<p>A query relates a <em>key</em> to a <em>result</em>, either by invoking a <em>provider</em> that
computes this result, or by reusing a cached result that was provided earlier.
We explain each term in more detail:</p>
<ul>
<li>Query <strong>Provider</strong>: Each kind of query has a pre-defined <em>provider</em>, which
refers to the compiler behavior that provides an answer to the query. These
providers may nest; see <a href="compiler/profile-queries.html#trace-of-queries">trace of queries</a> for more
information about this nesting structure.
<em>Example providers:</em>
<ul>
<li><code>typeck_tables_of</code> -- Typecheck a Def ID; produce &quot;tables&quot; of type
information.</li>
<li><code>borrowck</code> -- Borrow-check a Def ID.</li>
<li><code>optimized_mir</code> -- Generate an optimized MIR for a Def ID; produce MIR.</li>
<li>For more examples, see <a href="compiler/profile-queries.html#counts-example-0">Example 0</a>.</li>
</ul>
</li>
<li>Query <strong>Key</strong>: The input/arguments to the provider. Often, this consists of a
particular <a href="compiler/profile-queries.html#def-ids">Def ID</a>.</li>
<li>Query <strong>Result</strong>: The output of the provider.</li>
</ul>
<h2><a class="header" href="#trace-of-queries" id="trace-of-queries">Trace of Queries</a></h2>
<p>Formally, a <em>trace</em> of the queries consists of a <em>tree</em>, where sub-trees
represent sub-traces. In particular, the nesting structure of the trace of
queries describes how the queries depend on one another.</p>
<p>Even more precisely, this tree represents a directed acyclic graph (DAG), where
shared sub-graphs consist of tree nodes that occur multiple times in the tree,
first as &quot;cache misses&quot; and later as &quot;cache hits&quot;.</p>
<p><strong>Cache hits and misses.</strong> The trace is a tree with the following possible tree
nodes:</p>
<ul>
<li>Query, with cache <strong>miss</strong>: The query's result is <strong>unknown</strong>, and its
provider runs to compute it. In this case, the dynamic extent of the query's
trace consists of the traced behavior of its provider.</li>
<li>Query, with cache <strong>hit</strong>: The query's result is <strong>known</strong>, and is reused; its
provider does not rerun. These nodes are leaves in the trace, since they have
no dynamic extent. These leaves also represent where the tree, represented as
a DAG, would <em>share</em> a sub-graph (namely, the sub-graph of the query that was
reused from the cache).</li>
</ul>
<p><strong>Tree node metrics.</strong> To help determine how to style this tree, we define the
following tree node metrics:</p>
<ul>
<li><strong>Depth</strong>: The number of <strong>ancestors</strong> of the node in its path from the tree
root.</li>
<li><strong>Extent</strong>: The number of <strong>immediate children</strong> of the node.</li>
</ul>
<p>Intuitively, a dependency tree is &quot;good&quot; for incremental caching when the depth
and extent of each node is relatively small. It is pathological when either of
these metrics grows too large. For instance, a tree node whose extent consists
of 1M immediate children means that if and when this node is re-computed, all 1M
children must be re-queried, at the very least (some may also require
recomputation, too).</p>
<h2><a class="header" href="#external-links-2" id="external-links-2">External Links</a></h2>
<p>Related design ideas, and tracking issues:</p>
<ul>
<li>Design document:
<a href="https://github.com/nikomatsakis/rustc-on-demand-incremental-design-doc/blob/master/0000-rustc-on-demand-and-incremental.md">On-demand Rustc incremental design doc</a></li>
<li>Tracking Issue:
<a href="https://github.com/rust-lang/rust/issues/42293">&quot;Red/Green&quot; dependency tracking in compiler</a></li>
</ul>
<p>More discussion and issues:</p>
<ul>
<li><a href="https://github.com/rust-lang/rust/issues/42633">GitHub issue #42633</a></li>
<li><a href="https://internals.rust-lang.org/t/incremental-compilation-beta/4721">Incremental Compilation Beta</a></li>
<li><a href="https://blog.rust-lang.org/2016/09/08/incremental.html">Incremental Compilation Announcement</a></li>
</ul>
<h1><a class="header" href="#compiler-team-triage-meeting" id="compiler-team-triage-meeting">Compiler-team Triage Meeting</a></h1>
<h2><a class="header" href="#what-is-it" id="what-is-it">What is it?</a></h2>
<p>The triage meeting is a weekly meeting where we go over the open
issues, look at regressions, consider beta backports, and other such
business. In the tail end of the meeting, we also do brief check-ins
with active working groups to get an idea what they've been working
on.</p>
<h2><a class="header" href="#when-and-where-is-it" id="when-and-where-is-it">When and where is it?</a></h2>
<p>See the <a href="https://rust-lang.github.io/compiler-team/#meeting-calendar">compiler team meeting calendar</a> for the canonical date and
time. The meetings take place in the #t-compiler stream on the
<a href="https://rust-lang.github.io/compiler-team/about/chat-platform/">rust-lang Zulip</a>.</p>
<h2><a class="header" href="#where-can-i-lean-more" id="where-can-i-lean-more">Where can I lean more?</a></h2>
<p>The meeting procedure is documented in <a href="https://github.com/rust-lang/rust/issues/54818">rust-lang/rust#54818</a>.</p>
<p>The working group check-in schedule is available on the <a href="https://rust-lang.github.io/compiler-team/about/triage-meeting/">compiler-team website</a>.</p>
<h1><a class="header" href="#compiler-team-steering-meeting" id="compiler-team-steering-meeting">Compiler-team Steering Meeting</a></h1>
<h2><a class="header" href="#what-is-it-1" id="what-is-it-1">What is it?</a></h2>
<p>The &quot;steering meeting&quot; is a weekly meeting dedicated to planning and
high-level discussion. The meeting operates on a repeating schedule:</p>
<ul>
<li>Week 1: Planning</li>
<li>Week 2: Technical or non-technical discussion</li>
<li>Week 3: Technical or non-technical discussion</li>
<li>Week 4: Non-technical discussion</li>
</ul>
<p>The first meeting of the 4-week cycle is used for <strong>planning</strong>. The
primary purpose of this meeting is to <strong>select the topics for the next
three meetings</strong>. The topics are selected from a set of topic
proposals, which must be uploaded and available for perusal before the
meeting starts. The planning meeting is also an opportunity to check
on the &quot;overall balance&quot; of our priorities.</p>
<p>The remaining meetings are used for design or general discussion.
Weeks 2 and 3 can be used for <strong>technical</strong> or <strong>non-technical</strong>
discussion; it is also possible to use both weeks to discuss the same
topic, if that topic is complex. <strong>Week 4 is reserved for
non-technical topics</strong>, so as to ensure that we are keeping an eye on
the overall health and functioning of the team.</p>
<h2><a class="header" href="#announcing-the-schedule" id="announcing-the-schedule">Announcing the schedule</a></h2>
<p>After each planning meeting, the topics for the next three weeks are
added to the <a href="https://rust-lang.github.io/compiler-team/#meeting-calendar">compiler-team meeting calendar</a> and a blog post is
posted to the <a href="https://blog.rust-lang.org/inside-rust/">Inside Rust blog</a>.</p>
<h2><a class="header" href="#when-and-where-is-it-1" id="when-and-where-is-it-1">When and where is it?</a></h2>
<p>See the <a href="https://rust-lang.github.io/compiler-team/#meeting-calendar">compiler team meeting calendar</a> for the canonical date and
time. The meetings take place in the #t-compiler stream on the
[rust-lang Zulip][z].</p>
<h1><a class="header" href="#submitting-a-proposal" id="submitting-a-proposal">Submitting a proposal</a></h1>
<p>If you would like to submit a proposal to the steering meeting for
group discusison, read on! This page has all the details.</p>
<h2><a class="header" href="#tldr" id="tldr">TL;DR</a></h2>
<p>In short, all you have to do is </p>
<ul>
<li><a href="https://github.com/rust-lang/compiler-team/issues">open an issue on the compiler-team repository</a>
<ul>
<li>use the template for meeting proposals</li>
<li>you only need a few sentences to start, but by the time the meeting
takes place we typically expect a more detailed writeup, e.g.
using [this template](</li>
</ul>
</li>
</ul>
<p>You don't have to have a lot of details to start: just a few sentences
is enough. But, especially for technical design discussions, we will
typically expect that some form of more detailed overview be made
available by the time the meeting takes place.</p>
<h2><a class="header" href="#examples-of-good-candidates-for-discussing-at-the-steering-meeting" id="examples-of-good-candidates-for-discussing-at-the-steering-meeting">Examples of good candidates for discussing at the steering meeting</a></h2>
<p>Here are some examples of possible technical topics that would be
suitable for the steering meeting:</p>
<ul>
<li>A working group has an idea to refactor the HIR to make some part of their
job easier. They have sketched out a proposal and would like feedback.</li>
<li>Someone has encountered a problem that is really hard to solve with
the existing data structures. They would like feedback on a good
solution to their problem.</li>
<li>Someone has done major refactoring work on a PR and they would like
to be able to explain the work they did and request review.</li>
</ul>
<p>Steering meetings are also a good place to discuss other kinds of proposals:</p>
<ul>
<li>A proposal to move some part of the compiler into an out-of-tree crate.</li>
<li>A proposal to start a new working group.</li>
</ul>
<p>Note that a steering meeting is <strong>not</strong> required to create a new
working group or an out-of-tree crate, but it can be useful if the
proposal is complex or controversial, and you would like a dedicated
time to talk out the plans in more detail.</p>
<h2><a class="header" href="#criteria-for-selection" id="criteria-for-selection">Criteria for selection</a></h2>
<p>When deciding the topics for upcoming meetings, we must balance a number of things:</p>
<ul>
<li>We don't want to spend time on design work unless there are known
people who will implement it and support it; this includes not only
the &quot;main coder&quot; but also a suitable reviewer.</li>
<li>We don't want to take on &quot;too many&quot; tasks at once, even if there <em>are</em> people to
implement them.</li>
<li>We also don't want to have active projects that will be &quot;stepping on
each others' toes&quot;, changing the same set of code in deep ways.</li>
</ul>
<h2><a class="header" href="#meetings-are-not-mandatory" id="meetings-are-not-mandatory">Meetings are not mandatory</a></h2>
<p>It is perfectly acceptable to choose <em>not</em> to schedule a particular
slot. This could happen if (e.g.) there are no proposals available or
if nothing seems important enough to discuss at this moment.  Note
that, to keep the &quot;time expectations&quot; under control, we should
generally stick to the same 4-week cycle and simply opt to skip
meetings, rather than (e.g.) planning things at the last minute.</p>
<h2><a class="header" href="#adding-a-proposal" id="adding-a-proposal">Adding a proposal</a></h2>
<p>Proposals can be added by opening an issue on the <a href="https://github.com/rust-lang/compiler-team/issues">compiler-team
repository</a>. There is an issue template for meeting
proposals that gives directions. The basic idea is that you open an
issue with a few sentences describing what you would like to talk
about.</p>
<p>Some details that might be useful to include:</p>
<ul>
<li>how complex of a topic you think this is</li>
<li>people in the compiler team that you think should be present for the meeting</li>
</ul>
<h3><a class="header" href="#expectations-for-the-meeting" id="expectations-for-the-meeting">Expectations for the meeting</a></h3>
<p>By the time the meeting takes place, we generally would prefer to have
a more detailed write-up or proposal. You can find a <a href="compiler/steering-meeting/XXX">template</a> for
such a proposal here. This should be created in the form of a hackmd
document -- usually we will then update this document with the minutes
and consensus from the meeting. The final notes are then stored in the
[minutes] directory of the compiler-team repository.</p>
<h3><a class="header" href="#expectations-for-a-non-technical-proposal" id="expectations-for-a-non-technical-proposal">Expectations for a non-technical proposal</a></h3>
<p><strong>The requirements for non-technical proposals are somewhat looser.</strong>  A
few sentences or paragraphs may well suffice, if it is sufficient to
understand the aims of the discussion.</p>
<h2><a class="header" href="#frequently-asked-questions" id="frequently-asked-questions">Frequently asked questions</a></h2>
<p><strong>What happens if there are not enough proposals?</strong> As noted above,
meetings are not mandatory. If there aren't enough proposals in some
particular iteration, then we can just opt to not discuss anything.</p>
<h1><a class="header" href="#how-to-run-the-planning-meeting" id="how-to-run-the-planning-meeting">How to run the planning meeting</a></h1>
<h2><a class="header" href="#week-of-the-meeting" id="week-of-the-meeting">Week of the meeting</a></h2>
<ul>
<li>Announce the meeting in the triage meeting</li>
<li>Skim over the list of proposals and ping people who have open
proposals to get their availability over the next few weeks</li>
</ul>
<h2><a class="header" href="#day-of-the-meeting" id="day-of-the-meeting">Day of the meeting</a></h2>
<ul>
<li>Create a <code>design meeting YYYY.MM.DD</code> topic
<ul>
<li>Ping <code>@t-compiler/meeting</code>, ideally 1h or so before the meeting actually starts,
to remind people</li>
</ul>
</li>
<li>At the time of the meeting, return to the topic
<ul>
<li>Ping <code>@t-compiler/meeting</code> to let people know the meeting is starting</li>
</ul>
</li>
<li>We typically begin with a 5min announcement period</li>
<li>Visit the <a href="compiler/steering-meeting/XXX">compiler-team</a> repository to get a list of proposed meetings</li>
</ul>
<p>To actually make the final selection, we recommend</p>
<ul>
<li>First, try to identify topics that are clear non-candidates
<ul>
<li>for example, sometimes more investigative work (e.g., data gathering) is needed</li>
<li>try to identify people to do those tasks</li>
<li>other issues may be out of date, or clear non-starters, and they can be closed</li>
</ul>
</li>
<li>Next tackle technical design meetings, then non-technical
<ul>
<li>Typical ratio is 2 technical, 1 non-technical, but this is not set in stone</li>
<li>It's ok to have fewer than 3 meetings</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#announce-the-meetings" id="announce-the-meetings">Announce the meetings</a></h2>
<p>For each scheduled meeting, create a calendar event:</p>
<ul>
<li>invite key participants to the meeting</li>
<li>set the location to <code>#t-compiler, Zulip</code></li>
<li>include a link to the design meeting issue in the event</li>
</ul>
<p>In the relevant issues, add the <code>meeting-scheduled</code> label and add a
message like:</p>
<pre><code>In today's [planning meeting], we decided to schedule this meeting for **DATE**.

[Calendar event]

[planning meeting]: XXX link to Zulip topic
[Calendar event]: XXX link to calendar event
</code></pre>
<p>You can get the link to the calendar event by clicking on the event in
google calendar and selecting &quot;publish&quot;.</p>
<h2><a class="header" href="#publish-a-blog-post" id="publish-a-blog-post">Publish a blog post</a></h2>
<p>Add a blog post to the Inside Rust blog using the <a href="compiler/steering-meeting/XXX">template found on
the compiler-team repository</a>.</p>
<h1><a class="header" href="#how-to-run-the-design-meeting" id="how-to-run-the-design-meeting">How to run the design meeting</a></h1>
<h2><a class="header" href="#week-of-the-meeting-1" id="week-of-the-meeting-1">Week of the meeting</a></h2>
<ul>
<li>Announce the meeting in the triage meeting</li>
<li>Skim over the list of proposals and ping people who have open
proposals to get their availability over the next few weeks</li>
<li>Make sure that a write-up is available and nag the meeting person otherwise</li>
</ul>
<h2><a class="header" href="#day-of-the-meeting-1" id="day-of-the-meeting-1">Day of the meeting</a></h2>
<ul>
<li>Create a <code>design meeting YYYY.MM.DD</code> topic
<ul>
<li>Ping <code>@t-compiler/meeting</code>, ideally 1h or so before the meeting actually starts,
to remind people</li>
<li>Include a link to the design meeting write-up</li>
</ul>
</li>
<li>At the time of the meeting, return to the topic
<ul>
<li>Ping <code>@t-compiler/meeting</code> to let people know the meeting is starting</li>
<li>Include a link to the design meeting write-up</li>
</ul>
</li>
<li>We typically begin with a 5min announcement period</li>
</ul>
<p>To guide the meeting, create a shared hackmd document everyone can
view (or adapt an existing one, if there is a write-up). Use this to
help structure the meeting, document consensus, and take live
notes. Try to ensure that the meeting ends with sort of consensus
statement, even if that consensus is just &quot;here are the problems, here
is a space of solutions and their pros/cons, but we don't have
consensus on which solution to take&quot;.</p>
<h2><a class="header" href="#after-the-meeting" id="after-the-meeting">After the meeting</a></h2>
<ul>
<li>Post the final contents of the summary hackmd as minutes to <a href="https://github.com/rust-lang/compiler-team/tree/master/content/minutes/design-meeting">the
<code>minutes/design-meeting</code> directory in the compiler-team
repository</a></li>
<li>(Optional) create a Inside Rust blog post pointing people at the
minutes and maybe giving a few notes</li>
</ul>
<h1><a class="header" href="#infrastructure" id="infrastructure">Infrastructure</a></h1>
<p>This section documents Rust's infrastructure, and how it is maintained.</p>
<h3><a class="header" href="#external-links-3" id="external-links-3">External Links</a></h3>
<ul>
<li><a href="https://rust-lang-nursery.github.io/rust-toolstate/">rust-toolstate</a> records build and test status of external tools bundled
with the Rust repository.</li>
</ul>
<h1><a class="header" href="#other-rust-installation-methods" id="other-rust-installation-methods">Other Rust Installation Methods</a></h1>
<ul>
<li><a href="infra/other-installation-methods.html#which">Which installer should you use?</a></li>
<li><a href="infra/other-installation-methods.html#more-rustup">Other ways to install <code>rustup</code></a></li>
<li><a href="infra/other-installation-methods.html#standalone">Standalone installers</a></li>
<li><a href="infra/other-installation-methods.html#source">Source code</a></li>
</ul>
<h2><a class="header" href="#which-installer-should-you-use" id="which-installer-should-you-use">Which installer should you use?</a></h2>
<p><span id="which"></span></p>
<p>Rust runs on many platforms, and there are many ways to install Rust. If you
want to install Rust in the most straightforward, recommended way, then follow
the instructions on the main <a href="https://www.rust-lang.org/tools/install">installation page</a>.</p>
<p>That page describes installation via <a href="https://github.com/rust-lang/rustup.rs"><code>rustup</code></a>, a tool that manages multiple
Rust toolchains in a consistent way across all platforms Rust supports. Why
might one <em>not</em> want to install using those instructions?</p>
<ul>
<li>Offline installation. <code>rustup</code> downloads components from the internet on
demand. If you need to install Rust without access to the internet, <code>rustup</code>
is not suitable.</li>
<li>Preference for the system package manager. On Linux in particular, but also on
macOS with <a href="http://brew.sh/">Homebrew</a>, and Windows with <a href="http://chocolatey.org/">Chocolatey</a> or <a href="https://scoop.sh/">Scoop</a>, developers sometimes
prefer to install Rust with their platform's package manager.</li>
<li>Preference against <code>curl | sh</code>. On Unix, we usually install <code>rustup</code> by
running a shell script via <code>curl</code>. Some have concerns about the security of
this arrangement and would prefer to download and run the installer
themselves.</li>
<li>Validating signatures. Although <code>rustup</code> performs its downloads over HTTPS,
the only way to verify the signatures of Rust installers today is to do so
manually with the standalone installers.</li>
<li>GUI installation and integration with &quot;Add/Remove Programs&quot; on Windows.
<code>rustup</code> runs in the console and does not register its installation like
typical Windows programs. If you prefer a more typical GUI installation on
Windows there are standalone <code>.msi</code> installers. In the future <code>rustup</code> will
also have a GUI installer on Windows.</li>
</ul>
<p>Rust's platform support is defined in <a href="https://forge.rust-lang.org/platform-support.html">three tiers</a>, which correspond closely
with the installation methods available: in general, the Rust project provides
binary builds for all tier 1 and tier 2 platforms, and they are all installable
via <code>rustup</code>. Some tier 2 platforms though have only the standard library
available, not the compiler itself; that is, they are cross-compilation targets
only; Rust code can run on those platforms, but they do not run the compiler
itself. Such targets can be installed with the <code>rustup target add</code> command.</p>
<h2><a class="header" href="#other-ways-to-install-rustup" id="other-ways-to-install-rustup">Other ways to install <code>rustup</code></a></h2>
<p><span id="rustup"></span></p>
<p>The way to install <code>rustup</code> differs by platform:</p>
<ul>
<li>On Unix, run <code>curl https://sh.rustup.rs -sSf | sh</code> in your shell. This
downloads and runs <a href="https://static.rust-lang.org/rustup/rustup-init.sh"><code>rustup-init.sh</code></a>, which in turn downloads and runs the
correct version of the <code>rustup-init</code> executable for your platform.</li>
<li>On Windows, download and run <a href="https://static.rust-lang.org/rustup/dist/i686-pc-windows-gnu/rustup-init.exe"><code>rustup-init.exe</code></a>.</li>
</ul>
<p><code>rustup-init</code> can be configured interactively, and all options can additionally
be controlled by command-line arguments, which can be passed through the shell
script. Pass <code>--help</code> to <code>rustup-init</code> as follows to display the arguments
<code>rustup-init</code> accepts:</p>
<pre><code>curl https://sh.rustup.rs -sSf | sh -s -- --help
</code></pre>
<p>If you prefer not to use the shell script, you may directly download
<code>rustup-init</code> for the platform of your choice:</p>
<!-- `- [aarch64-linux-android](https://static.rust-lang.org/rustup/dist/aarch64-linux-android/rustup-init)
- [aarch64-unknown-linux-gnu](https://static.rust-lang.org/rustup/dist/aarch64-unknown-linux-gnu/rustup-init)
- [arm-linux-androideabi](https://static.rust-lang.org/rustup/dist/arm-linux-androideabi/rustup-init)
- [arm-unknown-linux-gnueabi](https://static.rust-lang.org/rustup/dist/arm-unknown-linux-gnueabi/rustup-init)
- [arm-unknown-linux-gnueabihf](https://static.rust-lang.org/rustup/dist/arm-unknown-linux-gnueabihf/rustup-init)
- [armv7-linux-androideabi](https://static.rust-lang.org/rustup/dist/armv7-linux-androideabi/rustup-init)
- [armv7-unknown-linux-gnueabihf](https://static.rust-lang.org/rustup/dist/armv7-unknown-linux-gnueabihf/rustup-init)
- [i686-apple-darwin](https://static.rust-lang.org/rustup/dist/i686-apple-darwin/rustup-init)
- [i686-linux-android](https://static.rust-lang.org/rustup/dist/i686-linux-android/rustup-init)
- [i686-pc-windows-gnu](https://static.rust-lang.org/rustup/dist/i686-pc-windows-gnu/rustup-init.exe)
- [i686-pc-windows-msvc](https://static.rust-lang.org/rustup/dist/i686-pc-windows-msvc/rustup-init.exe)
- [i686-unknown-linux-gnu](https://static.rust-lang.org/rustup/dist/i686-unknown-linux-gnu/rustup-init)
- [mips-unknown-linux-gnu](https://static.rust-lang.org/rustup/dist/mips-unknown-linux-gnu/rustup-init)
- [mips64-unknown-linux-gnuabi64](https://static.rust-lang.org/rustup/dist/mips64-unknown-linux-gnuabi64/rustup-init)
- [mips64el-unknown-linux-gnuabi64](https://static.rust-lang.org/rustup/dist/mips64el-unknown-linux-gnuabi64/rustup-init)
- [mipsel-unknown-linux-gnu](https://static.rust-lang.org/rustup/dist/mipsel-unknown-linux-gnu/rustup-init)
- [powerpc-unknown-linux-gnu](https://static.rust-lang.org/rustup/dist/powerpc-unknown-linux-gnu/rustup-init)
- [powerpc64-unknown-linux-gnu](https://static.rust-lang.org/rustup/dist/powerpc64-unknown-linux-gnu/rustup-init)
- [powerpc64le-unknown-linux-gnu](https://static.rust-lang.org/rustup/dist/powerpc64le-unknown-linux-gnu/rustup-init)
- [s390x-unknown-linux-gnu](https://static.rust-lang.org/rustup/dist/s390x-unknown-linux-gnu/rustup-init)
- [x86_64-apple-darwin](https://static.rust-lang.org/rustup/dist/x86_64-apple-darwin/rustup-init)
- [x86_64-linux-android](https://static.rust-lang.org/rustup/dist/x86_64-linux-android/rustup-init)
- [x86_64-pc-windows-gnu](https://static.rust-lang.org/rustup/dist/x86_64-pc-windows-gnu/rustup-init.exe)
- [x86_64-pc-windows-msvc](https://static.rust-lang.org/rustup/dist/x86_64-pc-windows-msvc/rustup-init.exe)
- [x86_64-unknown-freebsd](https://static.rust-lang.org/rustup/dist/x86_64-unknown-freebsd/rustup-init)
- [x86_64-unknown-linux-gnu](https://static.rust-lang.org/rustup/dist/x86_64-unknown-linux-gnu/rustup-init)
- [x86_64-unknown-linux-musl](https://static.rust-lang.org/rustup/dist/x86_64-unknown-linux-musl/rustup-init)
- [x86_64-unknown-netbsd](https://static.rust-lang.org/rustup/dist/x86_64-unknown-netbsd/rustup-init)
`, `platform | stable (1.38.0) | beta | nightly
---------|--------|------|--------
`aarch64-unknown-linux-gnu` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-aarch64-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-aarch64-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-aarch64-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-aarch64-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-aarch64-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-aarch64-unknown-linux-gnu.tar.gz.asc)
`arm-unknown-linux-gnueabi` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-arm-unknown-linux-gnueabi.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-arm-unknown-linux-gnueabi.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-arm-unknown-linux-gnueabi.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-arm-unknown-linux-gnueabi.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-arm-unknown-linux-gnueabi.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-arm-unknown-linux-gnueabi.tar.gz.asc)
`arm-unknown-linux-gnueabihf` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-arm-unknown-linux-gnueabihf.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-arm-unknown-linux-gnueabihf.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-arm-unknown-linux-gnueabihf.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-arm-unknown-linux-gnueabihf.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-arm-unknown-linux-gnueabihf.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-arm-unknown-linux-gnueabihf.tar.gz.asc)
`armv7-unknown-linux-gnueabihf` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-armv7-unknown-linux-gnueabihf.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-armv7-unknown-linux-gnueabihf.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-armv7-unknown-linux-gnueabihf.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-armv7-unknown-linux-gnueabihf.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-armv7-unknown-linux-gnueabihf.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-armv7-unknown-linux-gnueabihf.tar.gz.asc)
`i686-apple-darwin` | [pkg](https://static.rust-lang.org/dist/rust-1.38.0-i686-apple-darwin.pkg) <br> [pkg.asc](https://static.rust-lang.org/dist/rust-1.38.0-i686-apple-darwin.pkg.asc) | [pkg](https://static.rust-lang.org/dist/rust-beta-i686-apple-darwin.pkg) <br> [pkg.asc](https://static.rust-lang.org/dist/rust-beta-i686-apple-darwin.pkg.asc) | [pkg](https://static.rust-lang.org/dist/rust-nightly-i686-apple-darwin.pkg) <br> [pkg.asc](https://static.rust-lang.org/dist/rust-nightly-i686-apple-darwin.pkg.asc)
`i686-pc-windows-gnu` | [msi](https://static.rust-lang.org/dist/rust-1.38.0-i686-pc-windows-gnu.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-1.38.0-i686-pc-windows-gnu.msi.asc) | [msi](https://static.rust-lang.org/dist/rust-beta-i686-pc-windows-gnu.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-beta-i686-pc-windows-gnu.msi.asc) | [msi](https://static.rust-lang.org/dist/rust-nightly-i686-pc-windows-gnu.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-nightly-i686-pc-windows-gnu.msi.asc)
`i686-pc-windows-msvc` | [msi](https://static.rust-lang.org/dist/rust-1.38.0-i686-pc-windows-msvc.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-1.38.0-i686-pc-windows-msvc.msi.asc) | [msi](https://static.rust-lang.org/dist/rust-beta-i686-pc-windows-msvc.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-beta-i686-pc-windows-msvc.msi.asc) | [msi](https://static.rust-lang.org/dist/rust-nightly-i686-pc-windows-msvc.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-nightly-i686-pc-windows-msvc.msi.asc)
`i686-unknown-linux-gnu` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-i686-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-i686-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-i686-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-i686-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-i686-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-i686-unknown-linux-gnu.tar.gz.asc)
`mips-unknown-linux-gnu` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-mips-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-mips-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-mips-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-mips-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-mips-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-mips-unknown-linux-gnu.tar.gz.asc)
`mips64-unknown-linux-gnuabi64` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-mips64-unknown-linux-gnuabi64.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-mips64-unknown-linux-gnuabi64.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-mips64-unknown-linux-gnuabi64.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-mips64-unknown-linux-gnuabi64.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-mips64-unknown-linux-gnuabi64.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-mips64-unknown-linux-gnuabi64.tar.gz.asc)
`mips64el-unknown-linux-gnuabi64` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-mips64el-unknown-linux-gnuabi64.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-mips64el-unknown-linux-gnuabi64.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-mips64el-unknown-linux-gnuabi64.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-mips64el-unknown-linux-gnuabi64.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-mips64el-unknown-linux-gnuabi64.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-mips64el-unknown-linux-gnuabi64.tar.gz.asc)
`mipsel-unknown-linux-gnu` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-mipsel-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-mipsel-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-mipsel-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-mipsel-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-mipsel-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-mipsel-unknown-linux-gnu.tar.gz.asc)
`powerpc-unknown-linux-gnu` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-powerpc-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-powerpc-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-powerpc-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-powerpc-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-powerpc-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-powerpc-unknown-linux-gnu.tar.gz.asc)
`powerpc64-unknown-linux-gnu` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-powerpc64-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-powerpc64-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-powerpc64-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-powerpc64-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-powerpc64-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-powerpc64-unknown-linux-gnu.tar.gz.asc)
`powerpc64le-unknown-linux-gnu` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-powerpc64le-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-powerpc64le-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-powerpc64le-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-powerpc64le-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-powerpc64le-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-powerpc64le-unknown-linux-gnu.tar.gz.asc)
`s390x-unknown-linux-gnu` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-s390x-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-s390x-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-s390x-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-s390x-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-s390x-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-s390x-unknown-linux-gnu.tar.gz.asc)
`x86_64-apple-darwin` | [pkg](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-apple-darwin.pkg) <br> [pkg.asc](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-apple-darwin.pkg.asc) | [pkg](https://static.rust-lang.org/dist/rust-beta-x86_64-apple-darwin.pkg) <br> [pkg.asc](https://static.rust-lang.org/dist/rust-beta-x86_64-apple-darwin.pkg.asc) | [pkg](https://static.rust-lang.org/dist/rust-nightly-x86_64-apple-darwin.pkg) <br> [pkg.asc](https://static.rust-lang.org/dist/rust-nightly-x86_64-apple-darwin.pkg.asc)
`x86_64-pc-windows-gnu` | [msi](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-pc-windows-gnu.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-pc-windows-gnu.msi.asc) | [msi](https://static.rust-lang.org/dist/rust-beta-x86_64-pc-windows-gnu.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-beta-x86_64-pc-windows-gnu.msi.asc) | [msi](https://static.rust-lang.org/dist/rust-nightly-x86_64-pc-windows-gnu.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-nightly-x86_64-pc-windows-gnu.msi.asc)
`x86_64-pc-windows-msvc` | [msi](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-pc-windows-msvc.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-pc-windows-msvc.msi.asc) | [msi](https://static.rust-lang.org/dist/rust-beta-x86_64-pc-windows-msvc.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-beta-x86_64-pc-windows-msvc.msi.asc) | [msi](https://static.rust-lang.org/dist/rust-nightly-x86_64-pc-windows-msvc.msi) <br> [msi.asc](https://static.rust-lang.org/dist/rust-nightly-x86_64-pc-windows-msvc.msi.asc)
`x86_64-unknown-freebsd` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-freebsd.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-freebsd.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-freebsd.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-freebsd.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-freebsd.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-freebsd.tar.gz.asc)
`x86_64-unknown-linux-gnu` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-linux-gnu.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-gnu.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-gnu.tar.gz.asc)
`x86_64-unknown-linux-musl` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-linux-musl.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-linux-musl.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-linux-musl.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-linux-musl.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-musl.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-musl.tar.gz.asc)
`x86_64-unknown-netbsd` | [tar.gz](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-netbsd.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-netbsd.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-netbsd.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-netbsd.tar.gz.asc) | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-netbsd.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-netbsd.tar.gz.asc)
`, and `Channel | Binaries + Signatures
--------|----------------------
stable (1.38.0) | [tar.gz](https://static.rust-lang.org/dist/rust-stable-src.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-stable-src.tar.gz.asc)
beta | [tar.gz](https://static.rust-lang.org/dist/rust-beta-src.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-beta-src.tar.gz.asc)
nightly | [tar.gz](https://static.rust-lang.org/dist/rust-nightly-src.tar.gz) <br> [tar.gz.asc](https://static.rust-lang.org/dist/rust-nightly-src.tar.gz.asc)
`
are generated at build time. Please refer to the `blacksmith` preprocessor for
what they each specifically generate.
-->
<ul>
<li><a href="https://static.rust-lang.org/rustup/dist/aarch64-linux-android/rustup-init">aarch64-linux-android</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/aarch64-unknown-linux-gnu/rustup-init">aarch64-unknown-linux-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/arm-linux-androideabi/rustup-init">arm-linux-androideabi</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/arm-unknown-linux-gnueabi/rustup-init">arm-unknown-linux-gnueabi</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/arm-unknown-linux-gnueabihf/rustup-init">arm-unknown-linux-gnueabihf</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/armv7-linux-androideabi/rustup-init">armv7-linux-androideabi</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/armv7-unknown-linux-gnueabihf/rustup-init">armv7-unknown-linux-gnueabihf</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/i686-apple-darwin/rustup-init">i686-apple-darwin</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/i686-linux-android/rustup-init">i686-linux-android</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/i686-pc-windows-gnu/rustup-init.exe">i686-pc-windows-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/i686-pc-windows-msvc/rustup-init.exe">i686-pc-windows-msvc</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/i686-unknown-linux-gnu/rustup-init">i686-unknown-linux-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/mips-unknown-linux-gnu/rustup-init">mips-unknown-linux-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/mips64-unknown-linux-gnuabi64/rustup-init">mips64-unknown-linux-gnuabi64</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/mips64el-unknown-linux-gnuabi64/rustup-init">mips64el-unknown-linux-gnuabi64</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/mipsel-unknown-linux-gnu/rustup-init">mipsel-unknown-linux-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/powerpc-unknown-linux-gnu/rustup-init">powerpc-unknown-linux-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/powerpc64-unknown-linux-gnu/rustup-init">powerpc64-unknown-linux-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/powerpc64le-unknown-linux-gnu/rustup-init">powerpc64le-unknown-linux-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/s390x-unknown-linux-gnu/rustup-init">s390x-unknown-linux-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/x86_64-apple-darwin/rustup-init">x86_64-apple-darwin</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/x86_64-linux-android/rustup-init">x86_64-linux-android</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/x86_64-pc-windows-gnu/rustup-init.exe">x86_64-pc-windows-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/x86_64-pc-windows-msvc/rustup-init.exe">x86_64-pc-windows-msvc</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/x86_64-unknown-freebsd/rustup-init">x86_64-unknown-freebsd</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/x86_64-unknown-linux-gnu/rustup-init">x86_64-unknown-linux-gnu</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/x86_64-unknown-linux-musl/rustup-init">x86_64-unknown-linux-musl</a></li>
<li><a href="https://static.rust-lang.org/rustup/dist/x86_64-unknown-netbsd/rustup-init">x86_64-unknown-netbsd</a></li>
</ul>
<h2><a class="header" href="#standalone-installers" id="standalone-installers">Standalone installers</a></h2>
<p><span id="standalone"></span></p>
<p>The official Rust standalone installers contain a single release of Rust, and
are suitable for offline installation. They come in three forms: tarballs
(extension <code>.tar.gz</code>), that work in any Unix-like environment, Windows
installers (<code>.msi</code>), and Mac installers (<code>.pkg</code>). These installers come with
<code>rustc</code>, <code>cargo</code>, <code>rustdoc</code>, the standard library, and the standard
documentation, but do not provide access to additional cross-targets like
<code>rustup</code> does.</p>
<p>The most common reasons to use these are:</p>
<ul>
<li>Offline installation</li>
<li>Prefering a more platform-integrated, graphical installer on Windows</li>
</ul>
<p>Each of these binaries is signed with the <a href="https://static.rust-lang.org/rust-key.gpg.ascii">Rust signing key</a>, which is
<a href="https://keybase.io/rust">available on keybase.io</a>, by the Rust build infrastructure, with <a href="https://gnupg.org/">GPG</a>. In the
tables below, the <code>.asc</code> files are the signatures.</p>
<!-- FIXME: Show this sentence again once we've found a quick way to display the archives.
Past releases can be found in [the archives].
-->
<table><thead><tr><th>platform</th><th>stable (1.38.0)</th><th>beta</th><th>nightly</th></tr></thead><tbody>
<tr><td><code>aarch64-unknown-linux-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-aarch64-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-aarch64-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-aarch64-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-aarch64-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-aarch64-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-aarch64-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>arm-unknown-linux-gnueabi</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-arm-unknown-linux-gnueabi.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-arm-unknown-linux-gnueabi.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-arm-unknown-linux-gnueabi.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-arm-unknown-linux-gnueabi.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-arm-unknown-linux-gnueabi.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-arm-unknown-linux-gnueabi.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>arm-unknown-linux-gnueabihf</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-arm-unknown-linux-gnueabihf.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-arm-unknown-linux-gnueabihf.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-arm-unknown-linux-gnueabihf.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-arm-unknown-linux-gnueabihf.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-arm-unknown-linux-gnueabihf.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-arm-unknown-linux-gnueabihf.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>armv7-unknown-linux-gnueabihf</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-armv7-unknown-linux-gnueabihf.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-armv7-unknown-linux-gnueabihf.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-armv7-unknown-linux-gnueabihf.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-armv7-unknown-linux-gnueabihf.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-armv7-unknown-linux-gnueabihf.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-armv7-unknown-linux-gnueabihf.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>i686-apple-darwin</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-i686-apple-darwin.pkg">pkg</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-i686-apple-darwin.pkg.asc">pkg.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-i686-apple-darwin.pkg">pkg</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-i686-apple-darwin.pkg.asc">pkg.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-i686-apple-darwin.pkg">pkg</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-i686-apple-darwin.pkg.asc">pkg.asc</a></td></tr>
<tr><td><code>i686-pc-windows-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-i686-pc-windows-gnu.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-i686-pc-windows-gnu.msi.asc">msi.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-i686-pc-windows-gnu.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-i686-pc-windows-gnu.msi.asc">msi.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-i686-pc-windows-gnu.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-i686-pc-windows-gnu.msi.asc">msi.asc</a></td></tr>
<tr><td><code>i686-pc-windows-msvc</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-i686-pc-windows-msvc.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-i686-pc-windows-msvc.msi.asc">msi.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-i686-pc-windows-msvc.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-i686-pc-windows-msvc.msi.asc">msi.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-i686-pc-windows-msvc.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-i686-pc-windows-msvc.msi.asc">msi.asc</a></td></tr>
<tr><td><code>i686-unknown-linux-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-i686-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-i686-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-i686-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-i686-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-i686-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-i686-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>mips-unknown-linux-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-mips-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-mips-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-mips-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-mips-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-mips-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-mips-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>mips64-unknown-linux-gnuabi64</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-mips64-unknown-linux-gnuabi64.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-mips64-unknown-linux-gnuabi64.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-mips64-unknown-linux-gnuabi64.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-mips64-unknown-linux-gnuabi64.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-mips64-unknown-linux-gnuabi64.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-mips64-unknown-linux-gnuabi64.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>mips64el-unknown-linux-gnuabi64</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-mips64el-unknown-linux-gnuabi64.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-mips64el-unknown-linux-gnuabi64.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-mips64el-unknown-linux-gnuabi64.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-mips64el-unknown-linux-gnuabi64.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-mips64el-unknown-linux-gnuabi64.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-mips64el-unknown-linux-gnuabi64.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>mipsel-unknown-linux-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-mipsel-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-mipsel-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-mipsel-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-mipsel-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-mipsel-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-mipsel-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>powerpc-unknown-linux-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-powerpc-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-powerpc-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-powerpc-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-powerpc-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-powerpc-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-powerpc-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>powerpc64-unknown-linux-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-powerpc64-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-powerpc64-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-powerpc64-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-powerpc64-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-powerpc64-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-powerpc64-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>powerpc64le-unknown-linux-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-powerpc64le-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-powerpc64le-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-powerpc64le-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-powerpc64le-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-powerpc64le-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-powerpc64le-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>s390x-unknown-linux-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-s390x-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-s390x-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-s390x-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-s390x-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-s390x-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-s390x-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>x86_64-apple-darwin</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-apple-darwin.pkg">pkg</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-apple-darwin.pkg.asc">pkg.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-x86_64-apple-darwin.pkg">pkg</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-x86_64-apple-darwin.pkg.asc">pkg.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-apple-darwin.pkg">pkg</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-apple-darwin.pkg.asc">pkg.asc</a></td></tr>
<tr><td><code>x86_64-pc-windows-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-pc-windows-gnu.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-pc-windows-gnu.msi.asc">msi.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-x86_64-pc-windows-gnu.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-x86_64-pc-windows-gnu.msi.asc">msi.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-pc-windows-gnu.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-pc-windows-gnu.msi.asc">msi.asc</a></td></tr>
<tr><td><code>x86_64-pc-windows-msvc</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-pc-windows-msvc.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-pc-windows-msvc.msi.asc">msi.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-x86_64-pc-windows-msvc.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-x86_64-pc-windows-msvc.msi.asc">msi.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-pc-windows-msvc.msi">msi</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-pc-windows-msvc.msi.asc">msi.asc</a></td></tr>
<tr><td><code>x86_64-unknown-freebsd</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-freebsd.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-freebsd.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-freebsd.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-freebsd.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-freebsd.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-freebsd.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>x86_64-unknown-linux-gnu</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-gnu.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-gnu.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>x86_64-unknown-linux-musl</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-linux-musl.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-linux-musl.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-linux-musl.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-linux-musl.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-musl.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-musl.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td><code>x86_64-unknown-netbsd</code></td><td><a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-netbsd.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-netbsd.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-netbsd.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-x86_64-unknown-netbsd.tar.gz.asc">tar.gz.asc</a></td><td><a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-netbsd.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-netbsd.tar.gz.asc">tar.gz.asc</a></td></tr>
</tbody></table>
<h2><a class="header" href="#source-code" id="source-code">Source code</a></h2>
<table><thead><tr><th>Channel</th><th>Binaries + Signatures</th></tr></thead><tbody>
<tr><td>stable (1.38.0)</td><td><a href="https://static.rust-lang.org/dist/rust-stable-src.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-stable-src.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td>beta</td><td><a href="https://static.rust-lang.org/dist/rust-beta-src.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-beta-src.tar.gz.asc">tar.gz.asc</a></td></tr>
<tr><td>nightly</td><td><a href="https://static.rust-lang.org/dist/rust-nightly-src.tar.gz">tar.gz</a> <br> <a href="https://static.rust-lang.org/dist/rust-nightly-src.tar.gz.asc">tar.gz.asc</a></td></tr>
</tbody></table>
<h1><a class="header" href="#the-rust-release-channel-layout" id="the-rust-release-channel-layout">The Rust Release Channel Layout</a></h1>
<p><strong>NOTE</strong> This document should be considered incomplete and descriptive rather
than normative. Do not rely on anything described herein to be fully correct or
a definition of how things <em>should</em> be done.</p>
<p>A lot of the content herein is derived from
<a href="https://internals.rust-lang.org/t/future-updates-to-the-rustup-distribution-format/4196#the-static-rust-lang-org-layout">a posting made to the Rust internals forum by Brian Anderson back in 2016</a>.</p>
<p>Rust releases are deployed onto <code>static.rust-lang.org</code> where they are served via
<code>https</code>. There are several parts to a release channel (<code>stable</code>, <code>beta</code>,
<code>nightly</code>) but they all key off a manifest file and then go from there.</p>
<h2><a class="header" href="#channel-manifests" id="channel-manifests">Channel manifests</a></h2>
<p>There is a top level directory <code>/dist/</code> which contains the channel manifests.
The manifests are named <code>channel-rust-[channelname].toml</code>. Each channel manifest
is accompanied by a <code>.sha256</code> file which is a checksum of the manifest file and
can be used to check integrity of the downloaded data. In addition each
channel's manifest is also accompanied by a <code>.asc</code> file which is a detached GPG
signature which can be used to check not only the integrity but also the
authenticity of the channel manifest.</p>
<p>In addition to the <code>stable</code>, <code>beta</code>, and <code>nightly</code> channels, there is also a
manifest for each release which will be called <code>channel-rust-x.yy.z.toml</code> with
its associated <code>.sha256</code> and <code>.asc</code> files.</p>
<p>To support date-based channels, there is an archive folder for each day
(labelled <code>YYYY-MM-DD</code>) which contains copies of the requisite channel files on
that day. So, for example, if you installed <code>nightly-2019-02-16</code> then the
channel file would be
<a href="https://static.rust-lang.org/dist/2019-02-16/channel-rust-nightly.toml">https://static.rust-lang.org/dist/2019-02-16/channel-rust-nightly.toml</a>.</p>
<h3><a class="header" href="#content-of-channel-manifests" id="content-of-channel-manifests">Content of channel manifests</a></h3>
<p>Channel manifests are <code>toml</code> files. These are known as <em>v2</em> manifests. The <em>v1</em>
manifests are simply lists of the files associated with a release and are not
generated for every channel all of the time. Currently it is recommended to work
only with the <em>v2</em> manifests and these are the topic of this section.</p>
<p>The top level of the <code>.toml</code> file consists of two important key/value pairs.
Firstly the <code>manifest-version</code> which is, at this time, <code>&quot;2&quot;</code>, and secondly the
date of the manifest (<code>date</code>) whose value is of the form <code>&quot;YYYY-MM-DD&quot;</code>.</p>
<p>There are then a number of top level sections (tables) which are:</p>
<ul>
<li>
<p><code>pkg</code> - This contains the bulk of the manifest and lists the packages which
are part of the release. Typically this will be things like <code>rust</code>, <code>rustc</code>,
<code>cargo</code> etc. The <code>rust</code> package is semi-special and currently is used to
specify the subset of other packages which will be installed by default.</p>
<p>Within packages are <code>components</code> and <code>extensions</code>. Currently <code>components</code> are
installed by default by <code>rustup</code>, <code>extensions</code> are optional components and are
available via <code>rustup component add</code> and friends.</p>
</li>
<li>
<p><code>renames</code> - This contains a set of package renames which can be used to
determine the correct package to fetch when the user enters an alias for it.</p>
<p>Typically renames are used when a package leaves its preview state and is
considered to be release quality. For example, the actual package for
<code>rustfmt</code> is called <code>rustfmt-preview</code> but since its release there has been a
<code>renames.rustfmt</code> table whose <code>to</code> field is <code>rustfmt-preview</code>. When the user runs
<code>rustup component add rustfmt</code> the name is automatically translated to
<code>rustfmt-preview</code> and when the user runs <code>rustup component list</code> then
<code>rustfmt-preview</code> is automatically renamed back to <code>rustfmt</code> for display to
the user.</p>
</li>
<li>
<p><code>profiles</code> - This is part of the future setup for deciding the default
component set to install. Instead of choosing the <code>components</code> of <code>pkg.rust</code>
instead <code>rustup</code> will honour one of the entries in the <code>profiles</code> table.
Usually this will be the <code>default</code> entry which <em>essentially</em> (though not
exactly) boils down to
<code>[&quot;rustc&quot;, &quot;cargo&quot;, &quot;rust-std&quot;, &quot;rust-docs&quot;, &quot;rustfmt&quot;, &quot;clippy&quot;]</code>.</p>
<p>Other profiles include <code>minimal</code> (<code>[&quot;rustc&quot;, &quot;cargo&quot;, &quot;rust-std&quot;]</code>) and
<code>complete</code> which adds in additional tools such as the <code>rls</code>, a copy of the
standard library source (<code>rust-src</code>), <code>miri</code>, <code>lldb</code>, <code>llvm-tools</code>, and
<code>rust-analysis</code>.</p>
</li>
</ul>
<h3><a class="header" href="#package-entries-in-the-channel-manifest" id="package-entries-in-the-channel-manifest">Package entries in the channel manifest</a></h3>
<p>As stated above, packages list their components and extensions (mostly just the
<code>rust</code> package) and they can provide per-target tarball and sha256 data.</p>
<p>For example, a package might be:</p>
<pre><code class="language-toml">[pkg.cargo.target.powerpc64-unknown-linux-gnu]
available = true
url = &quot;https://static.rust-lang.org/dist/2019-05-23/cargo-0.36.0-powerpc64-unknown-linux-gnu.tar.gz&quot;
hash = &quot;279f3a84f40e3547a8532c64643f38068accb91c21f04cd16e46579c893f5a06&quot;
xz_url = &quot;https://static.rust-lang.org/dist/2019-05-23/cargo-0.36.0-powerpc64-unknown-linux-gnu.tar.xz&quot;
xz_hash = &quot;cf93b387508f4aea4e64f8b4887d70cc07a00906b981dc0c143e92e918682e4a&quot;
</code></pre>
<p>Here you can see that this is for the <code>cargo</code> package, and for the
<code>powerpc64-unknown-linux-gnu</code> target. The <code>url</code>/<code>hash</code> combo is for a <code>.tar.gz</code>
and the <code>xz_url</code>/<code>xz_hash</code> pair for the same tarball compressed with <code>xz</code>.
Either pair of url and hash could be present, both may be present, but it is not
useful for neither to be present unless <code>available</code> is set to <code>false</code> to
indicate that that particular combiantion of package and target is unavailable
in this channel at this time.</p>
<p>In addition, there will be a single entry providing the version for a package in
the form:</p>
<pre><code class="language-toml">[pkg.cargo]
version = &quot;0.36.0 (6f3e9c367 2019-04-04)&quot;
</code></pre>
<p>Here <code>version</code> will be effectively the <code>$tool --version</code> output, minus the
tool's name.</p>
<h2><a class="header" href="#targets" id="targets">Targets</a></h2>
<p>Targets are the same triples you might use when building something with
<code>cargo build --target=$target</code> and you can add them to your installation using
<code>rustup target add $target</code>. When you do that, what <code>rustup</code> actually does is to
find the <code>rust-std</code> package for the target in question and installs that.
Essentially like an imaginary <code>rustup component add rust-std.$target</code>.</p>
<p>If a <code>rust-std</code> package for a target is not <code>available = true</code> then that target
cannot be installed via <code>rustup</code>. This can happen for lower tier targets from
time to time.</p>
<p>Since components and extensions are target-specific in the <code>pkg</code> tables, you
will be able to see that <code>rust-std</code> for every target is specified in every
<code>rust</code> target's extensions. This allows for cross-compilation by installation of
any <code>rust-std</code> on any build system.</p>
<h1><a class="header" href="#service-infrastructure" id="service-infrastructure">Service Infrastructure</a></h1>
<p>Most services in the Rust Infrastructure are deployed via
<a href="https://github.com/rust-lang/rust-central-station">rust-central-station</a>. Questions about infrastructure, including current
status, should go to the <a href="https://discord.gg/rust-lang">#infra Discord channel</a>.</p>
<p><strong>Our stability guarantees</strong>: many of our services rely on publicly-accessible
storage and APIs, but not all of these are intended for public consumption. At
the moment, <strong>only the resources behind <code>static.rust-lang.org</code> are considered
stable</strong>, meaning that those resources will not change without (at least) prior
notice. If you are relying on other parts of the Rust project infrastructure for
your own work, please let the infrastructure team know.</p>
<h2><a class="header" href="#highfive" id="highfive">Highfive</a></h2>
<p><a href="https://github.com/rust-lang/highfive">Highfive</a> is a bot
(<a href="https://github.com/rust-highfive">bot user account</a>) which welcomes newcomers
and assigns reviewers.</p>
<h2><a class="header" href="#rust-log-analyzer" id="rust-log-analyzer">Rust Log Analyzer</a></h2>
<p>The <a href="https://github.com/rust-lang/rust-log-analyzer">Rust Log Analyzer</a>
analyzes CI build logs to extract error messages and posts them to the pull
request. It is run by <a href="https://github.com/TimNN">TimNN</a>.</p>
<h2><a class="header" href="#homu--bors" id="homu--bors">Homu / bors</a></h2>
<p><a href="https://github.com/rust-lang/homu/">Homu</a> is a bot which manages pull
requests. It is often referred to as &quot;bors&quot; due to the name of its
<a href="https://github.com/bors">bot user account</a>.
Approved pull requests are placed in
<a href="http://buildbot2.rust-lang.org/homu/queue/rust">a queue</a> from which tests are
run.</p>
<p>Documentation on homu commands can be found
<a href="http://buildbot2.rust-lang.org/homu/">here</a>.</p>
<p>Please contact <a href="https://github.com/alexcrichton">Alex Crichton</a> if something
goes wrong with the bot.</p>
<h2><a class="header" href="#rfcbot" id="rfcbot">rfcbot</a></h2>
<p><a href="https://github.com/rust-lang/rfcbot-rs">rfcbot</a> is a bot
(<a href="https://github.com/rfcbot">bot user account</a>) which helps manage async
decision making on issues and PRs (typically RFCs). Team members can view any
pending requests for review on <a href="https://rfcbot.rs/">the FCP dashboard</a>.</p>
<p>Documentation on rfcbot commands can be found
<a href="https://github.com/rust-lang/rfcbot-rs">in the rfcbot repository</a>.</p>
<h2><a class="header" href="#rustbot" id="rustbot">rustbot</a></h2>
<p><a href="https://github.com/rust-lang/triagebot">rustbot</a> is a bot (<a href="https://github.com/rustbot">bot user
account</a>) to assist with managing issues and PRs
to allow users to label and assign without GitHub permissions. See <a href="https://github.com/rust-lang/triagebot/wiki">the
wiki</a> for more information.</p>
<h2><a class="header" href="#dxr" id="dxr">DXR</a></h2>
<p><a href="https://dxr.mozilla.org/rust/source/">DXR</a> is a cross-referenced source index
for Rust, allowing the Rust source tree to be navigated and searched with ease.
It is generated by <a href="https://github.com/nrc/rust-dxr">rust-dxr</a></p>
<h2><a class="header" href="#perf--rust-timer" id="perf--rust-timer">perf / rust-timer</a></h2>
<p><a href="https://github.com/rust-lang-nursery/rustc-perf">perf</a> offers information
about the performance of <code>rustc</code> over time, and a bot for on-demand benchmarking.</p>
<p>It is split into a data <a href="https://github.com/rust-lang-nursery/rustc-perf/tree/master/collector">collector</a> and a <a href="https://github.com/rust-lang-nursery/rustc-perf/tree/master/site">web frontend + bot</a>. The raw performance
data is available <a href="https://github.com/rust-lang-nursery/rustc-timing">here</a>
and can be browsed on the <a href="https://perf.rust-lang.org">perf website</a>.</p>
<p>One-off performance runs can done by addressing the
<a href="https://github.com/rust-lang-nursery/rustc-perf/blob/master/site/src/github.rs">rust-timer bot</a>
(<a href="https://github.com/rust-timer">bot user account</a>). You can trigger the
necessary try-build and queue a perf run by saying</p>
<pre><code>@bors try @rust-timer queue
</code></pre>
<p>(Technically, the requirement is that the <code>queue</code> command finishes executing prior
to the try build completing successfully.)</p>
<h2><a class="header" href="#rust-playground" id="rust-playground">Rust Playground</a></h2>
<p><a href="https://github.com/integer32llc/rust-playground">Rust Playground</a> allows you
to experiment with Rust before you install it locally, or in any other case
where you might not have the compiler available. The Rust playground can be
accessed <a href="https://play.rust-lang.org">here</a>.</p>
<h2><a class="header" href="#crater" id="crater">Crater</a></h2>
<p><a href="https://github.com/rust-lang/crater">Crater</a> is a tool to run
experiments across the whole Rust ecosystem. Its primary purpose is to detect
regressions in the Rust compiler, and it does this by building large number of
crates, running their test suites and comparing the results between two
versions of the Rust compiler.</p>
<h2><a class="header" href="#docsrs" id="docsrs">docs.rs</a></h2>
<p><a href="https://docs.rs/">docs.rs</a> builds and serves the rustdoc documentation for
all crates on <a href="https://crates.io/">crates.io</a>. Issues may be filed on the <a href="https://github.com/rust-lang/docs.rs">docs.rs
repository</a>. See the #docs-rs channel on
Discord for discussion or urgent issues.</p>
<h2><a class="header" href="#toolstate" id="toolstate">Toolstate</a></h2>
<p>The state of tools included with Rust are tracked on the <a href="https://rust-lang-nursery.github.io/rust-toolstate/">toolstate
page</a>. When each PR is
merged via CI, the status of each tool is recorded in a JSON file and stored
in the <a href="https://github.com/rust-lang-nursery/rust-toolstate">toolstate repo</a>.
For further information, see the <a href="infra/toolstate.html">toolstate system documentation</a>.</p>
<h2><a class="header" href="#rustup-components-history" id="rustup-components-history">Rustup components history</a></h2>
<p>The <a href="https://rust-lang.github.io/rustup-components-history/">rustup components
history</a> tracks the
status of every rustup component for every platform over time. See <a href="https://github.com/rust-lang/rustup-components-history">the
repository</a> for more
information.</p>
<h2><a class="header" href="#ci-timing-tracker" id="ci-timing-tracker">CI Timing Tracker</a></h2>
<p>The <a href="https://alexcrichton.github.io/rust-ci-timing-tracker/">CI Timing
Tracker</a> tracks and
compares how long CI jobs take over time. It is run by <a href="https://github.com/alexcrichton/rust-ci-timing-tracker">Alex
Crichton</a>.</p>
<h1><a class="header" href="#team-maintenance" id="team-maintenance">Team Maintenance</a></h1>
<p>The roster of the Rust teams is always in flux. From time to time, new people
are added, but also people sometimes opt to into &quot;alumni status&quot;, meaning that
they are not currently an active part of the decision-making process.
Unfortunately, whenever a new person is added or someone goes into alumni
status, there are a number of disparate places that need to be updated. This
page aims to document that list. If you have any questions, or need someone with
more privileges to make a change for you, a good place to ask is #rust-infra (or
possibly #rust-internals).</p>
<h3><a class="header" href="#r-rights" id="r-rights">R+ rights</a></h3>
<p>If just giving r+ rights, the following places need to be modified:</p>
<ul>
<li>the <a href="https://github.com/alexcrichton/rust-central-station/blob/master/homu.toml.template">homu template on rust-central-station</a></li>
</ul>
<h3><a class="header" href="#full-team-membership" id="full-team-membership">Full team membership</a></h3>
<p>To make a full team member, the following places need to be modified:</p>
<ul>
<li>the <a href="https://github.com/rust-lang/rust-www/blob/master/_data/team.yml">team roster page</a></li>
<li>the <a href="https://github.com/orgs/rust-lang/teams">rust-lang/TEAM</a> and (in some cases)
<a href="https://github.com/orgs/rust-lang-nursery/teams">rust-lang-nursery/TEAM</a> teams on github must be updated</li>
<li>rfcbot has a separate list of people on a team that is maintained in a
configuration file
<ul>
<li><a href="https://github.com/anp/rfcbot-rs/commit/cd54241359cf65742ed5a0fba58ea5114de06f2b#diff-100115fcbdda685c37ba8f73727b0987">here is an example commit that was adding Centril to the lang
team</a></li>
</ul>
</li>
<li>the easydns service has an e-mail alias (<code>compiler-team@rust-lang.org</code>) that
needs to be updated
<ul>
<li>best here is to ask around in #rust-infra</li>
</ul>
</li>
<li>the
<a href="https://internals.rust-lang.org/admin/groups/custom">internals discussion board has per-team groups</a></li>
<li>the list of reviewers highfive uses is set in <a href="https://github.com/nrc/highfive/tree/master/highfive/configs">nrc/highfive</a>
<ul>
<li>the configs are set per-repo; some teams are listed in <code>rust.json</code>, whereas
those that span multiple repos are set in <code>_global.json</code></li>
</ul>
</li>
</ul>
<h3><a class="header" href="#team-member-departure" id="team-member-departure">Team member departure</a></h3>
<p>Remove the team member from any and all places:</p>
<ul>
<li><a href="https://github.com/nrc/highfive/tree/master/highfive/configs">highfive</a></li>
<li><a href="https://github.com/alexcrichton/rust-central-station/blob/master/homu.toml.template">reviewers list</a></li>
<li>rfcbot (<a href="https://github.com/anp/rfcbot-rs/commit/cd54241359cf65742ed5a0fba58ea5114de06f2b#diff-100115fcbdda685c37ba8f73727b0987">example</a>)</li>
<li>1password</li>
<li>The <a href="https://github.com/orgs/rust-lang/teams">GitHub team</a>, <a href="https://github.com/orgs/rust-lang-nursery/teams">GitHub nursery team</a></li>
<li>email aliases (as above)</li>
<li><a href="https://github.com/rust-lang/rust-www/blob/master/_data/team.yml">team roster page</a></li>
</ul>
<h1><a class="header" href="#handling-of-tools-embedded-in-the-rustc-repo-toolstate" id="handling-of-tools-embedded-in-the-rustc-repo-toolstate">Handling of tools embedded in the rustc repo (&quot;toolstate&quot;)</a></h1>
<p>The Rust repository contains several external tools and documents as git
submodules (e.g. clippy, rls, the <a href="https://doc.rust-lang.org/book/">Book</a>, the <a href="https://doc.rust-lang.org/reference/">Reference</a>). Many of those are
very tightly coupled to the compiler and depend on internal APIs that change all
the time, but they are not actually essential to get the compiler itself to
work. To make API changes less painful, these tools are allowed to &quot;break&quot;
temporarily. PRs can still land and nightlies still get released even when some
tools are broken. Their current status is managed by the
<a href="https://rust-lang-nursery.github.io/rust-toolstate/">toolstate system</a>. (Cargo is not subject to the toolstate system and
instead just has to always work.)</p>
<p>The three possible states of a &quot;tool&quot; (this includes the documentation managed
by the toolstate system, where we run doctests) are: <code>test-pass</code>, <code>test-fail</code>,
<code>build-fail</code>.</p>
<p>This page gives a rough overview how the toolstate system works, and what the
rules are for when which tools are (not) allowed to break.</p>
<h2><a class="header" href="#toolstate-rules" id="toolstate-rules">Toolstate Rules</a></h2>
<ul>
<li>
<p>For all tools, if a PR changes that tool (if it changes the commit used by the
submodule), the tool has to be in <code>test-pass</code> after this PR or else CI will
fail.</p>
</li>
<li>
<p>For all tools except for &quot;nightly only&quot; tools, the following extra rules are applied:</p>
<ul>
<li>If a PR lands on the <code>beta</code> or <code>stable</code> branch, the tool has to be <code>test-pass</code>.</li>
<li>If a PR lands on <code>master</code> in the week before the beta is cut, and that PR
regresses the tool (if it makes the state &quot;worse&quot;), CI fails. This is to
help make sure all these tools become <code>test-pass</code> so that a beta can be
cut. (See the <a href="infra/index.html">Forge index</a> for when the next beta cutoff is
happening.)</li>
</ul>
<p>At the time of writing, the following tools are &quot;nightly only&quot;: rustc-guide,
miri, embedded-book.</p>
</li>
</ul>
<h2><a class="header" href="#updating-the-toolstate-repository" id="updating-the-toolstate-repository">Updating the toolstate repository</a></h2>
<p>Updating the <a href="https://github.com/rust-lang-nursery/rust-toolstate/">toolstate repository</a> happens in two steps: when CI
runs on the <code>auto</code> branch (where bors moves a PR to test if it is good for
integration), the &quot;tool&quot; runners for the individual platforms (at the time of
writing, Linux and Windows) each submit a JSON file to the repository recording
the state of each tool for the commit they are testing. Later, if that commit
actually entirely passed CI and bors moves it to the <code>master</code> branch, the
&quot;current tool status&quot; in the toolstate repository is updated appropriately.</p>
<p>These scripts also automatically ping some people and create issues when tools
break.</p>
<p>For further details, see the comments in the involved files: <a href="https://github.com/rust-lang/rust/blob/master/src/ci/docker/x86_64-gnu-tools/checktools.sh"><code>checktools.sh</code></a>,
<a href="https://github.com/rust-lang/rust/blob/master/src/tools/publish_toolstate.py"><code>publish_toolstate.py</code></a> as well as the other files mentioned there.</p>
<h2><a class="header" href="#adding-a-tool" id="adding-a-tool">Adding a tool</a></h2>
<p>To add a new tool to be tracked, the following steps must be taken:</p>
<ol>
<li>Create a PR to rust-lang/rust that adds the submodule along with any
necessary build system / bootstrap updates. Be careful that the tests
properly support <code>./x.py --no-fail-fast</code> to avoid
<a href="https://github.com/rust-lang/rust/pull/63089">issues like this</a>.</li>
<li>Include changes to <a href="https://github.com/rust-lang/rust/blob/master/src/ci/docker/x86_64-gnu-tools/checktools.sh"><code>checktools.sh</code></a>:
<ul>
<li>Build the tool at the top. This is the step that actually generates the
JSON status for the tool. When <code>save-toolstates</code> is set in
<code>config.toml</code>, the rust build system will write a JSON file with the
status of each test.</li>
<li>Add the tool to <code>status_check</code> with whether it should be a beta blocker
or not.</li>
</ul>
</li>
<li>Update <a href="https://github.com/rust-lang/rust/blob/master/src/tools/publish_toolstate.py"><code>publish_toolstate.py</code></a> to add the tool. This includes a list of
people to ping if the tool is broken, and its source repo. (Note: At the
time of this writing, these users must have permissions to be assignable on
rust-lang/rust GitHub.)</li>
<li>Submit a PR to the <a href="https://github.com/rust-lang-nursery/rust-toolstate/">toolstate repository</a> to manually add the tool to the
<a href="https://github.com/rust-lang-nursery/rust-toolstate/blob/master/_data/latest.json"><code>latest.json</code></a> file.</li>
</ol>
<h1><a class="header" href="#policies-of-the-infrastructure-team" id="policies-of-the-infrastructure-team">Policies of the infrastructure team</a></h1>
<p>This section documents the policies created by the infrastructure team.</p>
<h1><a class="header" href="#policy-on-broken-nightlies" id="policy-on-broken-nightlies">Policy on broken nightlies</a></h1>
<p>Sometimes the nightlies released automatically by our CI ends up being broken
for some people or even everyone. This policy defines what the infra team
response will be in those cases.</p>
<h2><a class="header" href="#which-nightly-will-be-rolled-back" id="which-nightly-will-be-rolled-back">Which nightly will be rolled back</a></h2>
<p>A nightly can only be rolled back in the following cases:</p>
<ul>
<li>If it contains destructive code, for example if the included compiler deletes
all the users files.</li>
<li>If an infra problem caused it to be broken for a big percentage of users on
any Tier 1 platform. Issues affecting only lower tier platforms are not
worthy of a roll back, since we don't guarantee working builds for those
platforms anyway.</li>
</ul>
<p>A nightly will <strong>not</strong> be rolled back if it's broken by a critical compiler
bug: those bugs are supposed to be caught by CI, and nightly can have compiler
regressions anyway. There are no exceptions, even if big projects are broken
because of this.</p>
<h2><a class="header" href="#what-are-we-going-to-fix" id="what-are-we-going-to-fix">What are we going to fix</a></h2>
<p>Once any member of the infra team decides to roll back a nightly under this
policy we will roll back to the most recent working nightly. The roll back has
to fix installing the nightly with rustup:</p>
<pre><code>$ rustup toolchain install nightly
</code></pre>
<p>It's not required to roll back other things like the documentation or the
manually downloadable artifacts. After the nightly is rolled back we have to
announce the roll back on the <code>@rustlang</code> twitter account and on the status
page.</p>
<h1><a class="header" href="#infrastructure-guidelines" id="infrastructure-guidelines">Infrastructure guidelines</a></h1>
<p>This section contains the guidelines written by the infrastructure team for
other teams who want to use the project's infrastructure.</p>
<h1><a class="header" href="#rust-infrastructure-hosting-for-static-websites" id="rust-infrastructure-hosting-for-static-websites">Rust Infrastructure hosting for static websites</a></h1>
<p>The Rust Infrastructure team provides hosting for static websites available for
all Rust teams. This document explains the requirements a website needs to meet
and how to setup one.</p>
<h2><a class="header" href="#requirements-for-hosting-websites" id="requirements-for-hosting-websites">Requirements for hosting websites</a></h2>
<ul>
<li><strong>The website must be managed by a Rust team, or be officially affiliated with
the project.</strong><br />
The infrastructure team has finite resources and we can't offer hosting for
community projects.</li>
<li><strong>The website’s content and build tooling must be hosted on a GitHub
repository in either the <a href="https://github.com/rust-lang">rust-lang</a> or
<a href="https://github.com/rust-lang-nursery">rust-lang-nursery</a> organizations.</strong><br />
The infrastructure team must be able to rebuild the website content at any
time (for example if we need to switch hosting), and having it hosted on a
GitHub repository inside infra-managed organizations is the best way for us
to ensure that. Even though we'd prefer for all the repositories to be public
it's not a requirement.</li>
<li><strong>The website must be built and deployed with a CI service.</strong><br />
We have custom tooling built around hosting static websites on our infra, and
at the moment they work with Travis CI and Azure Pipelines. If you need
different CI services ask us in advance and we'll adapt the tooling to your
provider of choice.</li>
<li><strong>The website must reach an A+ grade on the
<a href="https://observatory.mozilla.org/">Mozilla Observatory</a>.</strong><br />
Browsers have multiple security features toggleable only through HTTP
response headers, and those features enhance users' privacy and prevent
exploits from working. An A+ grade on the Observatory indicates all the
important headers are correctly set.</li>
<li><strong>The website must be hosted on platforms vetted by the infra team.</strong><br />
We recommend either GitHub Pages or Amazon S3 (in the rust-lang AWS account)
as the hosting and CloudFront as the CDN, but if you need other platforms
that's good as long as we consider them secure and reliable.</li>
</ul>
<h2><a class="header" href="#static-websites-configuration" id="static-websites-configuration">Static websites configuration</a></h2>
<p>To avoid limitations of some hosting providers we have setup CloudFront to
enable additional, custom behaviors. These behaviors are configured through a
file named <code>website_config.json</code> at the root of the generated website content.</p>
<h3><a class="header" href="#adding-custom-headers" id="adding-custom-headers">Adding custom headers</a></h3>
<p>One of the requirements for having a static website hosted by the
infrastructure team is to reach an A+ grade on the <a href="https://observatory.mozilla.org/">Mozilla
Observatory</a>, and that requires custom
headers to be set. To setup custom headers you need to add an <code>headers</code> section
to <code>website_config.json</code>. This example content includes all the headers
needed to reach grade B on the Observatory (to reach grade A+ a Content
Security Policy is required):</p>
<pre><code class="language-json">{
    &quot;headers&quot;: {
        &quot;Strict-Transport-Security&quot;: &quot;max-age=63072000&quot;,
        &quot;X-Content-Type-Options&quot;: &quot;nosniff&quot;,
        &quot;X-Frame-Options&quot;: &quot;DENY&quot;,
        &quot;X-XSS-Protection&quot;: &quot;1; mode=block&quot;,
        &quot;Referrer-Policy&quot;: &quot;no-referrer, strict-origin-when-cross-origin&quot;
    }
}
</code></pre>
<h3><a class="header" href="#fixing-github-pages-redirects" id="fixing-github-pages-redirects">Fixing GitHub Pages redirects</a></h3>
<p>GitHub Pages behaves weirdly when it sits behind CloudFront and it needs to
issue redirects: since it doesn't know the real domain name it will use
<code>http://org-name.github.io/repo-name</code> as the base of the redirect instead of
the correct protocol and domain. To prevent this behavior the
<code>github_pages_origin</code> key needs to be added to <code>website_config.json</code>
with the origin base url as the value (excluding the protocol):</p>
<pre><code class="language-json">{
    &quot;github_pages_origin&quot;: &quot;org-name.github.io/repo-name&quot;
}
</code></pre>
<h2><a class="header" href="#deployment-guide" id="deployment-guide">Deployment guide</a></h2>
<p>These deployments steps are meant to be executed by a member of the
infrastructure team since they require access to our AWS account.</p>
<h3><a class="header" href="#configuring-aws" id="configuring-aws">Configuring AWS</a></h3>
<p>Create a CloudFront web distribution and set the following properties:</p>
<ul>
<li><strong>Origin Domain Name:</strong> rust-lang.github.io/repo-name</li>
<li><strong>Origin Protocol Policy:</strong> HTTPS Only</li>
<li><strong>Viewer Protocol Policy:</strong> Redirect HTTP to HTTPS</li>
<li><strong>Lambda Function Association:</strong>
<ul>
<li><strong>Viewer Response:</strong> arn:aws:lambda:us-east-1:890664054962:function:static-websites:4</li>
</ul>
</li>
<li><strong>Alternate Domain Names:</strong> your-subdomain-name.rust-lang.org</li>
<li><strong>SSL Certificate:</strong> Custom SSL Certificate
<ul>
<li>You will need to request the certificate for that subdomain name through
ACM (please use the DNS challenge to validate the certificate)</li>
</ul>
</li>
<li><strong>Comment:</strong> your-subdomain-name.rust-lang.org</li>
</ul>
<p>Wait until the distribution is propagated and take note of its
<code>.cloudfront.net</code> domain name.</p>
<p>Head over to the domain’s Route 53 hosted zone and create a new record set:</p>
<ul>
<li><strong>Name:</strong> your-subdomain-name</li>
<li><strong>Type:</strong> CNAME</li>
<li><strong>Value:</strong> the <code>.cloudfront.net</code> domain name you saw earlier</li>
</ul>
<p>Create an AWS IAM user to allow the CI provider used to deploy website changes
to perform whitelisted automatic actions. Use <code>ci--ORG-NAME--REPO-NAME</code> (for
example <code>ci--rust-lang--rust</code>) as the user name, allow programmatic access to
it and add it to the <code>ci-static-websites</code> IAM group. Then take note of the
access key id and the secret access key since you’ll need those later.</p>
<h3><a class="header" href="#adding-deploy-keys" id="adding-deploy-keys">Adding deploy keys</a></h3>
<p>To deploy websites we don’t use GitHub tokens (since they don’t have granular
access scoping) but a deploy key with write access unique for each repository.
To setup the deploy key you need to be an administrator on the repository,
clone the <a href="https://github.com/rust-lang/simpleinfra">simpleinfra</a> repository
and run this command:</p>
<pre><code>$ cargo run --bin setup-deploy-keys rust-lang/repo-name
</code></pre>
<p>The command requires the <code>GITHUB_TOKEN</code> (<a href="https://github.com/settings/tokens">you can generate one
here</a>) and the <code>TRAVIS_TOKEN</code> (<a href="https://travis-ci.com/account/preferences">you can see
yours here</a>) to be present. It will
generate a brand new key, upload it to GitHub and configure Travis CI to use
it if the repo is active there.</p>
<h3><a class="header" href="#configuring-travis-ci" id="configuring-travis-ci">Configuring Travis CI</a></h3>
<p>To actually deploy the website, this snippet needs to be added to your
<code>.travis.yml</code> (please replace the contents of <code>RUSTINFRA_DEPLOY_DIR</code> and
<code>RUSTINFRA_CLOUDFRONT_DISTRIBUTION</code>):</p>
<pre><code class="language-yaml">env:
  RUSTINFRA_DEPLOY_DIR: path/to/be/deployed
  RUSTINFRA_CLOUDFRONT_DISTRIBUTION: ABCDEFGHIJKLMN
import:
  - rust-lang/simpleinfra/travis-configs/static-websites.yml
</code></pre>
<p>You will also need to set the contents of the <code>AWS_ACCESS_KEY_ID</code> and
<code>AWS_SECRET_ACCESS_KEY</code> environment variables on the Travis CI web UI with the
credentials of the IAM user you created earlier. The secret access key <strong>must</strong>
be hidden from the build log, while the access key id should be publicly
visible.</p>
<h3><a class="header" href="#configuring-azure-pipelines" id="configuring-azure-pipelines">Configuring Azure Pipelines</a></h3>
<p>To actually deploy the website, this snippet needs to be added at the top of
your pipeline's YAML file:</p>
<pre><code class="language-yaml">resources:
  repositories:
    - repository: rustinfra
      type: github
      name: rust-lang/simpleinfra
      endpoint: rust-lang
</code></pre>
<p>Then you can add this steps when you want to execute the deploy (please replace
the contents of <code>deploy_dir</code> and <code>cloudfront_distribution</code>):</p>
<pre><code class="language-yaml">- template: azure-configs/static-websites.yml@rustinfra
  parameters:
    deploy_dir: path/to/output
    # Optional, only needed if GitHub pages is behind CloudFront
    cloudfront_distribution: AAAAAAAAAAAAAA
</code></pre>
<p>You will also need to set the following environment variables in the pipeline:</p>
<ul>
<li><code>GITHUB_DEPLOY_KEY</code>: value outputted when adding the deploy key earlier
(<strong>secret</strong>)</li>
<li><code>AWS_ACCESS_KEY_ID</code>: access key ID of the IAM user allowed to invalidate
CloudFront (public)</li>
<li><code>AWS_SECRET_ACCESS_KEY</code>: access key of the IAM user allowed to invalidate
CloudFront (<strong>secret</strong>)</li>
</ul>
<h1><a class="header" href="#infrastructure-team-documentation" id="infrastructure-team-documentation">Infrastructure team documentation</a></h1>
<p>This section contains the documentation about the services hosted and managed
by the Rust Infrastructure Team. Most of the linked resources and instructions
are only available to infra team members though.</p>
<h1><a class="header" href="#bastion-server" id="bastion-server">Bastion server</a></h1>
<ul>
<li>FQDN: <code>bastion.infra.rust-lang.org</code></li>
<li><a href="https://github.com/rust-lang/simpleinfra/blob/master/ansible/playbooks/bastion.yml">Ansible playbook</a> to deploy this server.</li>
<li><a href="https://github.com/rust-lang/simpleinfra/tree/master/terraform/services/bastion">Terraform configuration</a> to create AWS resources.</li>
<li><a href="https://grafana.rust-lang.org/d/rpXrFfKWz/instance-metrics?orgId=1&amp;var-instance=bastion.infra.rust-lang.org:9100">Instance metrics</a> (only available to infra team members).</li>
</ul>
<h2><a class="header" href="#logging-into-servers-through-the-bastion" id="logging-into-servers-through-the-bastion">Logging into servers through the bastion</a></h2>
<p>To improve the security of our infrastructure it's not possible to connect
directly to a production server with SSH. Instead, all connections must come
from a small server called the &quot;bastion&quot;, which only allows connections from a
few whitelisted networks and logs any connection attempt.</p>
<p>To log into a server through the bastion you can use SSH's <code>-J</code> flag:</p>
<pre><code>ssh -J bastion.infra.rust-lang.org servername.infra.rust-lang.org
</code></pre>
<p>It's also possible to configure SSH to always jump through the bastion when
connecting to a host. Add this snippet to your SSH configuration file (usually
located in <code>~/.ssh/config</code>):</p>
<pre><code>Host servername.infra.rust-lang.org
    ProxyJump bastion.infra.rust-lang.org
</code></pre>
<p>Please remember the bastion server only allows connections from a small list of
IP addresses. Infra team members with AWS access can change the whitelist, but
it's good practice to either have your own bastion server or a static IP
address.</p>
<p>The SSH keys authorized to log into each account are stored in the <a href="https://github.com/rust-lang/simpleinfra/tree/master/ansible/roles/common/files/ssh-keys">simpleinfra
repository</a>. Additionally, people with sensitive 1password access can use
the master key stored in the vault to log into every account, provided their
connection comes from any whitelisted IP.</p>
<h2><a class="header" href="#common-maintenance-procedures" id="common-maintenance-procedures">Common maintenance procedures</a></h2>
<h3><a class="header" href="#adding-a-new-user-to-the-bastion-server" id="adding-a-new-user-to-the-bastion-server">Adding a new user to the bastion server</a></h3>
<p>To add a new user to the bastion you need to add its key to a file named
<code>&lt;username&gt;.pub</code> in <a href="https://github.com/rust-lang/simpleinfra/tree/master/ansible/roles/common/files/ssh-keys"><code>ansible/roles/common/files/ssh-keys</code></a>, and change
the <a href="https://github.com/rust-lang/simpleinfra/blob/master/ansible/playbooks/bastion.yml">Ansible playbook</a> adding the user to the list of unprivileged
users. Please leave a comment clarifying which servers the user will have
access to.</p>
<p>Once that's done <a href="https://github.com/rust-lang/simpleinfra/blob/master/ansible/README.md#executing-a-playbook">apply the playbook</a> and <a href="infra/docs/bastion.html#updating-the-whitelisted-ips">add a new whitelisted
IP address</a>.</p>
<h3><a class="header" href="#updating-the-whitelisted-ips" id="updating-the-whitelisted-ips">Updating the whitelisted IPs</a></h3>
<p>Due to privacy reasons, all the static IP addresses of team members with access
to the bastion are stored on <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html">AWS SSM Parameter Store</a> instead of public
git repositories. To add or update an IP address you can run this command
(taking care of replacing <code>USERNAME</code> and <code>IP_ADDRESS</code> with the proper values):</p>
<pre><code>aws ssm put-parameter --type String --name &quot;/prod/bastion/allowed-ips/USERNAME&quot; --value &quot;IP_ADDRESS/32&quot;
</code></pre>
<p>If you're adding an IP address instead of updating it, you'll also need to add
the username to the list in <a href="https://github.com/rust-lang/simpleinfra/blob/master/terraform/services.tf"><code>terraform/services.tf</code></a> (key
<code>allowed_users</code> in the <code>service_bastion</code> module).</p>
<p>Once you made all the needed changes you wanted you need to <a href="https://github.com/rust-lang/simpleinfra/tree/master/terraform#applying-the-configuration">apply the
Terraform configuration</a>.</p>
<h1><a class="header" href="#crater-agents" id="crater-agents">Crater agents</a></h1>
<ul>
<li>Source code: <a href="https://github.com/rust-lang/docs.rs">rust-lang/crater</a></li>
<li>Hosted on:
<ul>
<li><code>crater-aws-1.infra.rust-lang.org</code> (behind the bastion -- <a href="https://github.com/rust-lang/infra-team/blob/master/docs/hosts/bastion.md#logging-into-servers-through-the-bastion">how to connect</a>)</li>
<li><code>crater-azure-1.infra.rust-lang.org</code> (behind the bastion -- <a href="https://github.com/rust-lang/infra-team/blob/master/docs/hosts/bastion.md#logging-into-servers-through-the-bastion">how to connect</a>)</li>
</ul>
</li>
<li>Maintainers: <a href="https://github.com/pietroalbini">pietroalbini</a></li>
<li><a href="https://grafana.rust-lang.org/d/WLeJySTZz/crater?orgId=1">Application metrics</a> (only available to infra team members).</li>
<li>Instance metrics (only available to infra team members):
<ul>
<li><a href="https://grafana.rust-lang.org/d/rpXrFfKWz/instance-metrics?orgId=1&amp;var-instance=crater-aws-1.infra.rust-lang.org:9100"><code>crater-aws-1.infra.rust-lang.org</code></a></li>
<li><a href="https://grafana.rust-lang.org/d/rpXrFfKWz/instance-metrics?orgId=1&amp;var-instance=crater-azure-1.infra.rust-lang.org:9100"><code>crater-azure-1.infra.rust-lang.org</code></a></li>
</ul>
</li>
</ul>
<h2><a class="header" href="#service-configuration" id="service-configuration">Service configuration</a></h2>
<p>Crater agents are servers with our standard configuration running a Docker
container hosting the agent. A timer checks for updates every 5 minutes, and if
a newer Docker image is present the container will automatically be updated and
restarted. This service is <a href="https://github.com/rust-lang/simpleinfra/blob/master/ansible/playbooks/crater.yml">managed with Ansible</a>.</p>
<h2><a class="header" href="#common-maintenance-procedures-1" id="common-maintenance-procedures-1">Common maintenance procedures</a></h2>
<h3><a class="header" href="#starting-and-stopping-the-agent" id="starting-and-stopping-the-agent">Starting and stopping the agent</a></h3>
<p>The agent is managed by the <code>container-crater-agent.service</code> systemd unit. That
means it's possible to start, stop and restart it with the usual systemctl
commands:</p>
<pre><code>systemctl stop container-crater-agent.service
systemctl start container-crater-agent.service
systemctl restart container-crater-agent.service
</code></pre>
<h3><a class="header" href="#inspecting-the-logs-of-the-agent" id="inspecting-the-logs-of-the-agent">Inspecting the logs of the agent</a></h3>
<p>Logs of the agents are forwarded and collected by journald. To see them you can
use journalctl:</p>
<pre><code>journalctl -u container-crater-agent.service
</code></pre>
<h3><a class="header" href="#manually-updating-the-container-image" id="manually-updating-the-container-image">Manually updating the container image</a></h3>
<p>The container is updated automatically every 5 minutes (provided a newer image
is present). If you need to update them sooner you can manuallly start the
updater service by running this command:</p>
<pre><code>systemctl start docker-images-update.service
</code></pre>
<h1><a class="header" href="#discord-moderation-bot" id="discord-moderation-bot">Discord moderation bot</a></h1>
<ul>
<li>Source code: <a href="https://github.com/rust-lang-nursery/discord-mods-bot">rust-lang-nursery/discord-mods-bot</a></li>
<li>Hosted on: <a href="https://github.com/rust-lang/infra-team/blob/master/docs/hosts/rust-bots.md"><code>bots.infra.rust-lang.org</code></a> (behind the bastion -- <a href="https://github.com/rust-lang/infra-team/blob/master/docs/hosts/bastion.md#logging-into-servers-through-the-bastion">how to connect</a>)</li>
<li>Maintainers: <a href="https://github.com/technetos">technetos</a></li>
</ul>
<h2><a class="header" href="#service-configuration-1" id="service-configuration-1">Service configuration</a></h2>
<p>The service uses a PostgreSQL database called <code>discord_mods_bot</code> hosted on the
same server, and connects to it with the <code>discord_mods_bot</code> user. Backups are
not yet setup for the database contents.</p>
<p>The service is run with docker-compose on the home of the <code>ec2-user</code> user, and
its docker image is hosted on ECR. The image is automatically rebuilt by the
git repository's CI every time a new commit is pushed to master.</p>
<p>The server doesn't expose anything to the outside, as it uses websockets to
communicate with Discord.</p>
<p>The bot is <a href="https://discordapp.com/developers/applications/615806512790503424"><code>rustbot#4299</code></a>. <a href="https://github.com/pietroalbini">pietroalbini</a>, <a href="https://github.com/Mark-Simulacrum">Mark-Simulacrum</a>,
<a href="https://github.com/alexcrichton">alexcrichton</a> and <a href="https://github.com/aidanhs">aidanhs</a> have access to the developer portal.</p>
<h2><a class="header" href="#common-maintenance-procedures-2" id="common-maintenance-procedures-2">Common maintenance procedures</a></h2>
<h3><a class="header" href="#deploying-changes-to-the-bot" id="deploying-changes-to-the-bot">Deploying changes to the bot</a></h3>
<p>Once the CI build on the <code>master</code> branch of <a href="https://github.com/rust-lang-nursery/discord-mods-bot">the repo</a> ends you can SSH
into the server and run this command:</p>
<pre><code>./redeploy
</code></pre>
<p>The command might also redeploy other services hosted on the same server.</p>
<h1><a class="header" href="#docsrs-1" id="docsrs-1">docs.rs</a></h1>
<ul>
<li>Source code: <a href="https://github.com/rust-lang/docs.rs">rust-lang/docs.rs</a></li>
<li>Hosted on: <code>docsrs.infra.rust-lang.org</code> (behind the bastion -- <a href="https://github.com/rust-lang/infra-team/blob/master/docs/hosts/bastion.md#logging-into-servers-through-the-bastion">how to connect</a>)</li>
<li>Maintainers: <a href="https://github.com/onur">onur</a>, <a href="https://github.com/QuietMisdreavus">QuietMisdreavus</a></li>
<li><a href="https://grafana.rust-lang.org/d/rpXrFfKWz/instance-metrics?orgId=1&amp;var-instance=docsrs.infra.rust-lang.org:9100">Instance metrics</a> (only available to infra team members).</li>
<li><a href="https://grafana.rust-lang.org/d/-wWFg2cZz/docs-rs?orgId=1">Application metrics</a> (only available to infra team members).</li>
</ul>
<h2><a class="header" href="#common-maintenance-procedures-3" id="common-maintenance-procedures-3">Common maintenance procedures</a></h2>
<h3><a class="header" href="#temporarily-remove-a-crate-from-the-queue" id="temporarily-remove-a-crate-from-the-queue">Temporarily remove a crate from the queue</a></h3>
<p>It might happen that a crate fails to build repeatedly due to a docs.rs bug,
clogging up the queue and preventing other crates to build. In this case it's
possible to temporarily remove the crate from the queue until the docs.rs's bug
is fixed. To do that, log into the machine and open a PostgreSQL shell with:</p>
<pre><code>$ psql
</code></pre>
<p>Then you can run this SQL query to remove the crate:</p>
<pre><code>UPDATE queue SET attempt = 100 WHERE name = '&lt;CRATE_NAME&gt;';
</code></pre>
<p>To add the crate back in the queue you can run in the PostgreSQL shell this
query:</p>
<pre><code>UPDATE queue SET attempt = 0 WHERE name = '&lt;CRATE_NAME&gt;';
</code></pre>
<h3><a class="header" href="#pinning-a-version-of-nightly" id="pinning-a-version-of-nightly">Pinning a version of nightly</a></h3>
<p>Sometimes the latest nightly might be broken, causing doc builds to fail. In
those cases it's possible to tell docs.rs to stop updating to the latest
nightly and instead pin a specific release. To do that you need to edit the
<code>/home/cratesfyi/.docs-rs-env</code> file, adding or changing this environment
variable:</p>
<pre><code>CRATESFYI_TOOLCHAIN=nightly-YYYY-MM-DD
</code></pre>
<p>Once the file changed docs.rs needs to be restarted:</p>
<pre><code>systemctl restart docs.rs
</code></pre>
<p>To return to the latest nightly simply remove the environment variable and
restart docs.rs again.</p>
<h3><a class="header" href="#adding-all-the-crates-failed-after-a-date-back-in-the-queue" id="adding-all-the-crates-failed-after-a-date-back-in-the-queue">Adding all the crates failed after a date back in the queue</a></h3>
<p>After an outage you might want to add all the failed builds back to the queue.
To do that, log into the machine and open a PostgreSQL shell with:</p>
<pre><code>psql
</code></pre>
<p>Then you can run this SQL query to add all the crates failed after <code>YYYY-MM-DD HH:MM:SS</code> back in the queue:</p>
<pre><code>UPDATE queue SET attempt = 0 WHERE attempt &gt;= 5 AND build_time &gt; 'YYYY-MM-DD HH:MM:SS';
</code></pre>
<h1><a class="header" href="#monitoring" id="monitoring">Monitoring</a></h1>
<ul>
<li>Hosted on: <code>monitoring.infra.rust-lang.org</code> (behind the bastion -- <a href="https://github.com/rust-lang/infra-team/blob/master/docs/hosts/bastion.md#logging-into-servers-through-the-bastion">how to connect</a>)</li>
<li>Maintainers: <a href="https://github.com/pietroalbini">pietroalbini</a>, infra team</li>
<li>Public URL: <a href="https://grafana.rust-lang.org">grafana.rust-lang.org</a></li>
<li><a href="https://github.com/rust-lang/simpleinfra/blob/master/ansible/playbooks/monitoring.yml">Ansible playbook</a> to deploy this server.</li>
<li><a href="https://grafana.rust-lang.org/d/rpXrFfKWz/instance-metrics?orgId=1&amp;var-instance=monitoring.infra.rust-lang.org:9100">Instance metrics</a> (only available to infra team members).</li>
</ul>
<h2><a class="header" href="#service-configuration-2" id="service-configuration-2">Service configuration</a></h2>
<p>Our monitoring service is composed of three parts: <a href="https://prometheus.io">Prometheus</a> to scrape,
collect and monitor metrics, <a href="https://prometheus.io/docs/alerting/alertmanager/">Alertmanager</a> to dispatch the alerts generated by
Prometheus, and <a href="https://grafana.com">Grafana</a> to display the metrics. All the parts are configured
through <a href="https://github.com/rust-lang/simpleinfra/tree/master/ansible">Ansible</a>.</p>
<p>The metrics are not backed up, as Prometheus purges them after 7 days anyway,
but the Grafana dashboards are stored in a PostgreSQL database, which is backed
up with <a href="https://restic.net">restic</a> in the <code>rust-backups</code> bucket (<code>monitoring</code> subdirectory). The
password to decrypt the backups is in 1password.</p>
<h2><a class="header" href="#common-maintenance-procedures-4" id="common-maintenance-procedures-4">Common maintenance procedures</a></h2>
<h3><a class="header" href="#scrape-a-new-metrics-source" id="scrape-a-new-metrics-source">Scrape a new metrics source</a></h3>
<p>Prometheus works by periodically scraping a list of HTTP endpoints for metrics,
written <a href="https://prometheus.io/docs/instrumenting/exposition_formats/">in its custom format</a>. In our configuration the list
is located in the <code>prometheus_scrape</code> section of the
<code>ansible/playbooks/monitoring.yml</code> file in the <a href="https://github.com/rust-lang/simpleinfra">simpleinfra</a> repository.</p>
<p>To add a new metrics source, add your endpoint to an existing job or, if the
metrics you're scraping are not related to any other job, a new one. The
endpoint must be reachable from the monitoring instance. You can read the
<a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config">Prometheus documentation</a> to find all the available
options.</p>
<h3><a class="header" href="#create-a-new-alert" id="create-a-new-alert">Create a new alert</a></h3>
<p>Alerts are generated by Prometheus every time a custom rule defined in its
configuration evaluates to true. In our configuration the list of rules is
located in the <code>prometheus_rule_groups</code> section of the
<code>ansible/playbooks/monitoring.yml</code> file in the <a href="https://github.com/rust-lang/simpleinfra">simpleinfra</a> repository.</p>
<p>To add a new alert you need to create an alerting rule either in an existing
group or a new one. The full list of options is available in the <a href="https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/">Prometheus
documentation</a>.</p>
<h3><a class="header" href="#add-permissions-to-a-user" id="add-permissions-to-a-user">Add permissions to a user</a></h3>
<p>There are two steps needed to grant access to <a href="https://grafana.rust-lang.org">our Grafana
instance</a> to an user.</p>
<p>First of all, to enable the user to log into the instance with their GitHub
account they need to be a member of a team authorized to log in. The list of
teams is defined in the <code>grafana_github_teams</code> section of the
<code>ansible/playbooks/monitoring.yml</code> file in the <a href="https://github.com/rust-lang/simpleinfra">simpleinfra</a> repository, and it
contains a list of GitHub team IDs. To fetch an ID you can run this command:</p>
<pre><code>curl -H &quot;Authorization: token $GITHUB_TOKEN&quot; https://api.github.com/orgs/&lt;ORG&gt;/teams/&lt;NAME&gt; | jq .id
</code></pre>
<p>Once the user is a member of a team authorized to log in they will
automatically be added to the main Grafana organization with &quot;viewer&quot;
permissions. For infrastructure team members that needs to be changed to
&quot;admin&quot; (in the &quot;Configuration&quot; -&gt; &quot;Users&quot;), otherwise leave it as viewer.</p>
<p>By default a viewer only has access to the unrestricted dashboards. To grant
access to other dashboards you'll need to add them to a team (in the
&quot;Configuration&quot; -&gt; &quot;Teams&quot; page). It's also possible to grant admin privileges
to the whole Grafana instance in the &quot;Server Admin&quot; -&gt; &quot;Users&quot; -&gt;
&quot;<code>&lt;username&gt;</code>&quot; page. Do not grant those permissions except to trusted infra
team members.</p>
<h2><a class="header" href="#additional-resources" id="additional-resources">Additional resources</a></h2>
<ul>
<li><a href="https://prometheus.io/docs/introduction/overview/">Prometheus documentation</a></li>
<li><a href="https://grafana.com/docs/">Grafana documentation</a></li>
</ul>
<h1><a class="header" href="#rust-bots" id="rust-bots">rust-bots</a></h1>
<ul>
<li>FQDN: <code>bots.infra.rust-lang.org</code> (behind the bastion -- <a href="https://github.com/rust-lang/infra-team/blob/master/docs/hosts/bastion.md#logging-into-servers-through-the-bastion">how to connect</a>)</li>
<li><a href="https://grafana.rust-lang.org/d/rpXrFfKWz/instance-metrics?orgId=1&amp;var-instance=bots.infra.rust-lang.org:9100">Instance metrics</a> (only available to infra team members).</li>
</ul>
<h2><a class="header" href="#common-maintenance-procedures-5" id="common-maintenance-procedures-5">Common maintenance procedures</a></h2>
<h3><a class="header" href="#adding-a-new-domain" id="adding-a-new-domain">Adding a new domain</a></h3>
<p>First, edit <code>sudo vim /etc/nginx/nginx.conf</code> to edit the nginx configuration to add the domain.</p>
<pre><code>server {
    listen 443 ssl;
    listen [::]:443 ssl;
    server_name &lt;domain&gt;.infra.rust-lang.org; # Edit &lt;domain&gt; to match here

    location /.well-known/acme-challenge {
        root /home/ssl-renew/challenges;
    }

    location / {
        # configure the domain here
    }
}
</code></pre>
<p>Then run <code>sudo -i -u ssl-renew vim renew.sh</code>. Add a <code>--domains</code> line to the script with the domain you're adding.</p>
<p>Then, run the script: <code>sudo -i -u ssl-renew ./renew.sh</code></p>
<h1><a class="header" href="#how-the-rust-ci-works" id="how-the-rust-ci-works">How the Rust CI works</a></h1>
<h2><a class="header" href="#which-jobs-we-run" id="which-jobs-we-run">Which jobs we run</a></h2>
<p>The <code>rust-lang/rust</code> repository uses Azure Pipelines to test <a href="https://forge.rust-lang.org/release/platform-support.html">all the other
platforms</a> we support. We currently have two kinds of jobs running
for each commit we want to merge to master:</p>
<ul>
<li>
<p>Dist jobs build a full release of the compiler for that platform, including
all the tools we ship through rustup; Those builds are then uploaded to the
<code>rust-lang-ci2</code> S3 bucket and are available to be locally installed with the
<a href="https://github.com/kennytm/rustup-toolchain-install-master">rustup-toolchain-install-master</a> tool; The same builds are also used for
actual releases: our release process basically consists of copying those
artifacts from <code>rust-lang-ci2</code> to the production endpoint and signing them.</p>
</li>
<li>
<p>Non-dist jobs run our full test suite on the platform, and the test suite of
all the tools we ship through rustup; The amount of stuff we test depends on
the platform (for example some tests are run only on Tier 1 platforms), and
some quicker platforms are grouped together on the same builder to avoid
wasting CI resources.</p>
</li>
</ul>
<p>All the builds except those on macOS and Windows are executed inside that
platform’s custom Docker container. This has a lot of advantages for us:</p>
<ul>
<li>The build environment is consistent regardless of the changes of the
underlying image (switching from the trusty image to xenial was painless for
us).</li>
<li>We can use ancient build environments to ensure maximum binary compatibility,
for example <a href="https://github.com/rust-lang/rust/blob/master/src/ci/docker/dist-x86_64-linux/Dockerfile">using CentOS 5</a> on our Linux builders.</li>
<li>We can avoid reinstalling tools (like QEMU or the Android emulator) every
time thanks to Docker image caching.</li>
<li>Users can run the same tests in the same environment locally by just running
<code>src/ci/docker/run.sh image-name</code>, which is awesome to debug failures.</li>
</ul>
<p>We also run tests for less common architectures (mainly Tier 2 and Tier 3
platforms) on Azure Pipelines. Since those platforms are not x86 we either run
everything inside QEMU or just cross-compile if we don’t want to run the tests
for that platform.</p>
<h2><a class="header" href="#merging-prs-serially-with-bors" id="merging-prs-serially-with-bors">Merging PRs serially with bors</a></h2>
<p>CI services usually test the last commit of a branch merged with the last
commit in master, and while that’s great to check if the feature works in
isolation it doesn’t provide any guarantee the code is going to work once it’s
merged. Breakages like these usually happen when another, incompatible PR is
merged after the build happened.</p>
<p>To ensure a master that works all the time we forbid manual merges: instead all
PRs have to be approved through our bot, <a href="https://github.com/bors">bors</a> (the software behind it is
called <a href="https://github.com/rust-lang/homu">homu</a>). All the approved PRs are put <a href="https://buildbot2.rust-lang.org/homu/queue/rust">in a queue</a> (sorted
by priority and creation date) and are automatically tested one at the time. If
all the builders are green the PR is merged, otherwise the failure is recorded
and the PR will have to be re-approved again.</p>
<p>Bors doesn’t interact with CI services directly, but it works by pushing the
merge commit it wants to test to a branch called <code>auto</code>, and detecting the
outcome of the build by listening for either Commit Statuses or Check Runs.
Since the merge commit is based on the latest master and only one can be tested
at the same time, when the results are green master is fast-forwarded to that
merge commit.</p>
<p>Unfortunately testing a single PR at the time, combined with our long CI (~3.5
hours for a full run), means we can’t merge too many PRs in a single day, and a
single failure greatly impacts our throughput for the day. The maximum number
of PRs we can merge in a day is 7.</p>
<h3><a class="header" href="#rollups" id="rollups">Rollups</a></h3>
<p>Some PRs don’t need the full test suite to be executed: trivial changes like
typo fixes or README improvements <em>shouldn’t</em> break the build, and testing
every single one of them for 2 to 3 hours is a big waste of time. To solve this
we do a &quot;rollup&quot;, a PR where we merge all the trivial PRs so they can be tested
together. Rollups are created manually by a team member who uses their
judgement to decide if a PR is risky or not, and are the best tool we have at
the moment to keep the queue in a manageable state.</p>
<h3><a class="header" href="#try-builds" id="try-builds">Try builds</a></h3>
<p>Sometimes we need a working compiler build before approving a PR, usually for
<a href="https://perf.rust-lang.org">benchmarking</a> or <a href="https://github.com/rust-lang/crater">checking the impact of the PR across the
ecosystem</a>. Bors supports creating them by pushing the merge commit on
a separate branch (<code>try</code>), and they basically work the same as normal builds,
without the actual merge at the end. Any number of try builds can happen at the
same time, even if there is a normal PR in progress.</p>
<h2><a class="header" href="#which-branches-we-test" id="which-branches-we-test">Which branches we test</a></h2>
<p>Our builders are defined in <code>src/ci/azure-pipelines/</code>, and they depend on the
branch used for the build. Each job is configured in one of the top <code>.yml</code>
files.</p>
<h3><a class="header" href="#pr-builds" id="pr-builds">PR builds</a></h3>
<p>All the commits pushed in a PR run a limited set of tests: a job containing a
bunch of lints plus a cross-compile check build to Windows mingw (without
producing any artifacts) and the <code>x86_64-gnu-llvm-6.0</code> non-dist builder. Those
two builders are enough to catch most of the common errors introduced in a PR,
but they don’t cover other platforms at all. Unfortunately it would take too
many resources to run the full test suite for each commit on every PR.</p>
<p>Additionally, if the PR changes submodules the <code>x86_64-gnu-tools</code> non-dist
builder is run.</p>
<h3><a class="header" href="#the-try-branch" id="the-try-branch">The <code>try</code> branch</a></h3>
<p>On the main rust repo try builds produce just a Linux toolchain. Builds on
those branches run a job containing the lint builder and both the dist and
non-dist builders for <code>linux-x86_64</code>. Usually we don’t need <code>try</code> builds for
other platforms, but on the rare cases when this is needed we just add a
temporary commit that changes the <code>src/ci/azure-pipelines/try.yml</code> file to
enable the builders we need on that platform (disabling Linux to avoid wasting
CI resources).</p>
<h3><a class="header" href="#the-auto-branch" id="the-auto-branch">The <code>auto</code> branch</a></h3>
<p>This branch is used by bors to run all the tests on a PR before merging it, so
all the builders are enabled for it. bors will repeatedly force-push on it
(every time a new commit is tested).</p>
<h3><a class="header" href="#the-master-branch" id="the-master-branch">The <code>master</code> branch</a></h3>
<p>Since all the commits to <code>master</code> are fast-forwarded from the <code>auto</code> branch (if
they pass all the tests there) we don’t need to build or test anything. A quick
job is executed on each push to update toolstate (see the toolstate description
below).</p>
<h3><a class="header" href="#other-branches" id="other-branches">Other branches</a></h3>
<p>Other branches are just disabled and don’t run any kind of builds, since all
the in-progress branches will eventually be tested in a PR. We try to encourage
contributors to create branches on their own fork, but there is no way for us
to disable that.</p>
<h2><a class="header" href="#caching" id="caching">Caching</a></h2>
<p>The main rust repository doesn’t use the native Azure Pipelines caching tools.
All our caching is uploaded to an S3 bucket we control
(<code>rust-lang-ci-sccache2</code>), and it’s used mainly for two things:</p>
<h3><a class="header" href="#docker-images-caching" id="docker-images-caching">Docker images caching</a></h3>
<p>The Docker images we use to run most of the Linux-based builders take a <em>long</em>
time to fully build: every time we need to build them (for example when the CI
scripts change) we consistently reach the build timeout, forcing us to retry
the merge. To avoid the timeouts we cache the exported images on the S3 bucket
(with <code>docker save</code>/<code>docker load</code>).</p>
<p>Since we test multiple, diverged branches (<code>master</code>, <code>beta</code> and <code>stable</code>) we
can’t rely on a single cache for the images, otherwise builds on a branch would
override the cache for the others. Instead we store the images identifying them
with a custom hash, made from the host’s Docker version and the contents of all
the Dockerfiles and related scripts.</p>
<h3><a class="header" href="#llvm-caching-with-sccache" id="llvm-caching-with-sccache">LLVM caching with sccache</a></h3>
<p>We build some C/C++ stuff during the build and we rely on <a href="https://github.com/mozilla/sccache">sccache</a> to cache
intermediate LLVM artifacts. Sccache is a distributed ccache developed by
Mozilla, and it can use an object storage bucket as the storage backend, like
we do with our S3 bucket.</p>
<h2><a class="header" href="#custom-tooling-around-ci" id="custom-tooling-around-ci">Custom tooling around CI</a></h2>
<p>During the years we developed some custom tooling to improve our CI experience.</p>
<h3><a class="header" href="#cancelbot-to-keep-the-queue-short" id="cancelbot-to-keep-the-queue-short">Cancelbot to keep the queue short</a></h3>
<p>We have limited CI capacity on Azure Pipelines, and while that’s enough for a
single build we can’t run more than one at the time. Unfortunately when a job
fails the other jobs on the same build will continue to run, limiting the
available capacity. To avoid the issue we have a tool called <a href="https://github.com/rust-lang/rust-central-station/tree/master/cancelbot">cancelbot</a> that
runs in cron every 2 minutes and kills all the jobs not related to a running
build through the API.</p>
<h3><a class="header" href="#rust-log-analyzer-to-show-the-error-message-in-prs" id="rust-log-analyzer-to-show-the-error-message-in-prs">Rust Log Analyzer to show the error message in PRs</a></h3>
<p>The build logs for <code>rust-lang/rust</code> are huge, and it’s not practical to find
what caused the build to fail by looking at the logs. To improve the
developers’ experience we developed a bot called <a href="https://github.com/rust-lang/rust-log-analyzer">Rust Log Analyzer</a> (RLA)
that receives the build logs on failure and extracts the error message
automatically, posting it on the PR.</p>
<p>The bot is not hardcoded to look for error strings, but was trained with a
bunch of build failures to recognize which lines are common between builds and
which are not. While the generated snippets can be weird sometimes, the bot is
pretty good at identifying the relevant lines even if it’s an error we never
saw before.</p>
<h3><a class="header" href="#toolstate-to-support-allowed-failures" id="toolstate-to-support-allowed-failures">Toolstate to support allowed failures</a></h3>
<p>The <code>rust-lang/rust</code> repo doesn’t only test the compiler on its CI, but also
all the tools distributed through rustup (like rls, rustfmt, clippy…). Since
those tools rely on the compiler internals (which don’t have any kind of
stability guarantee) they often break after the compiler code is changed.</p>
<p>If we blocked merging rustc PRs on the tools being fixed we would be stuck in a
chicken-and-egg problem, because the tools need the new rustc to be fixed but
we can’t merge the rustc change until the tools are fixed. To avoid the problem
most of the tools are allowed to fail, and their status is recorded in
<a href="https://rust-lang-nursery.github.io/rust-toolstate">rust-toolstate</a>. When a tool breaks a bot automatically pings the tool authors
so they know about the breakage, and it records the failure on the toolstate
repository. The release process will then ignore broken tools on nightly,
removing them from the shipped nightlies.</p>
<p>While tool failures are allowed most of the time, they’re automatically
forbidden a week before a release: we don’t care if tools are broken on nightly
but they must work on beta and stable, so they also need to work on nightly a
few days before we promote nightly to beta.</p>
<p>More information is available in the <a href="https://forge.rust-lang.org/infra/toolstate.html">toolstate documentation</a>.</p>
<h1><a class="header" href="#language" id="language">Language</a></h1>
<p>This section documents meta processes by the language team.</p>
<h3><a class="header" href="#external-links-4" id="external-links-4">External Links</a></h3>
<ul>
<li>The language team has communications channels on <a href="https://discord.gg/rust-lang">Discord</a> as well as <a href="https://rust-lang.zulipchat.com">Zulip</a>.</li>
</ul>
<h1><a class="header" href="#rfc-merge-procedure" id="rfc-merge-procedure">RFC Merge Procedure</a></h1>
<p>Once an RFC has been accepted (i.e., the final comment period is complete, and
no major issues were raised), it must be merged. Right now this is a manual
process, though just about anyone can do it (if you're not a subteam member,
though, you'll have to open a PR rather than merge the RFC manually). Here is
the complete set of steps to merge an RFC -- in some cases, not all the steps
will be applicable.</p>
<h3><a class="header" href="#step-1-open-tracking-issue" id="step-1-open-tracking-issue">Step 1: Open tracking issue</a></h3>
<p>Open a tracking issue over on rust-lang/rust. Here is a template for the issue
text. You'll have to adjust the various places labeled XXX with some suitable
content (e.g., the name of the RFC, or the most appropriate team).</p>
<pre><code class="language-markdown">This is a tracking issue for the RFC &quot;XXX&quot; (rust-lang/rfcs#NNN).

**Steps:**

- [ ] Implement the RFC (cc @rust-lang/XXX -- can anyone write up mentoring
      instructions?)
- [ ] Adjust documentation ([see instructions on rustc-guide][doc-guide])
- [ ] Stabilization PR ([see instructions on rustc-guide][stabilization-guide])

[stabilization-guide]: https://rust-lang.github.io/rustc-guide/stabilization_guide.html#stabilization-pr
[doc-guide]: https://rust-lang.github.io/rustc-guide/stabilization_guide.html#documentation-prs

**Unresolved questions:**

XXX --- list all the &quot;unresolved questions&quot; found in the RFC to ensure they are
not forgotten
</code></pre>
<p>Add the following labels to the issue:</p>
<ul>
<li><code>B-rfc-approved</code></li>
<li>the approriate <code>T-XXX</code> label</li>
</ul>
<p>(If you don't have permissions to do so, leave a note cc'ing the appropriate
team and asking them to do so.)</p>
<h3><a class="header" href="#step-2-merge-the-rfc-pr-itself" id="step-2-merge-the-rfc-pr-itself">Step 2: Merge the RFC PR itself</a></h3>
<p>In your local git checkout:</p>
<ul>
<li>Merge the RFC PR into master in your fork</li>
<li>Add a commit that moves the file name from 0000- to its RFC number</li>
<li>Edit the new file to include links to the RFC PR and the tracking issue you
just created in the header</li>
<li>Open a PR or push directly to the master branch on rust-lang/rfcs, as
appropriate</li>
</ul>
<h3><a class="header" href="#step-3-leave-a-comment" id="step-3-leave-a-comment">Step 3: Leave a comment</a></h3>
<p>Leave a final comment on the PR directing everyone to the tracking issue.
Something like this, but feel free to add your own personal flavor (and change
the team):</p>
<pre><code class="language-markdown">**Huzzah!** The @rust-lang/lang team has decided **to accept** this RFC.

To track further discussion, subscribe to the tracking issue here:
rust-lang/rust#41517
</code></pre>
<h3><a class="header" href="#step-4-update-the-rendered-link" id="step-4-update-the-rendered-link">Step 4: Update the rendered link</a></h3>
<p>Update the rendered link in the first post of the PR to the permanent home under
<code>https://github.com/rust-lang/rfcs/blob/master/text/</code>.</p>
<p>(This way future visitors can open it easily after the PR branch is deleted.)</p>
<h3><a class="header" href="#thats-it-youre-done" id="thats-it-youre-done">That's it, you're done!</a></h3>
<h1><a class="header" href="#triage-meeting-procedure" id="triage-meeting-procedure">Triage meeting procedure</a></h1>
<p>This page documents how to run a lang team triage meeting,
should you have the misfortune of being forced to do so.</p>
<h2><a class="header" href="#attending-a-meeting" id="attending-a-meeting">Attending a meeting</a></h2>
<p>If you would just like to <strong>attend</strong> a lang-team triage meeting, all
you have to do is join the zoom call (the URL is attached to the
calendar invite below).</p>
<h2><a class="header" href="#scheduling" id="scheduling">Scheduling</a></h2>
<p>Note that the scheduling for all meetings is recorded in the <a href="https://github.com/rust-lang/lang-team/#meeting-calendar">team
calendar</a>, links to which can be found on the <a href="https://github.com/rust-lang/lang-team/">rust-lang/lang-team</a>
repository.</p>
<h2><a class="header" href="#pre-triage" id="pre-triage">Pre-triage</a></h2>
<p>To start, we have a pre-triage meeting which occurs before the main
meeting. This is not recorded. It is boring.</p>
<p>To execute this meeting you:</p>
<ul>
<li>Open the <a href="https://paper.dropbox.com/doc/T-Lang-Meeting-Current-meeting--AmyXFNnryXTNzBsSWjbdJcVSAg-nRfrSxCbfeo9q7fEYogZQ">Current Meeting</a> dropbox paper document</li>
<li>Skim down the action items and look to see if there are any you know have been handled
<ul>
<li>they can be checked off and removed</li>
</ul>
</li>
<li>Skip down to the Triage section</li>
<li>For each Triage section, click on the link and populate it with what you find
<ul>
<li>typically it is best to copy-and-paste the title of the issue, so that links remain intact</li>
</ul>
</li>
<li>For each item, click in and try to add a few notes as to the main topic
<ul>
<li>look for things where there isn't much discussion needed, or just reminders</li>
<li>these can be handled quickly in the meeting, or perhaps not at all</li>
<li>items that require more discussion will need time alotted for them</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#main-meeting" id="main-meeting">Main meeting</a></h2>
<ul>
<li>Ping the team on discord <code>@lang-team</code></li>
<li>Begin the recording on Zoom, if you have acccess 
<ul>
<li>If nobody has access to the recording, oh well, we don't do it every week</li>
</ul>
</li>
<li>Discuss item by item and take some notes on what was said
<ul>
<li>Add specific actions to the action items section above</li>
<li>If a consensus arises, make sure to create an action item to document it!</li>
<li>The goal should be that we leave some comment on every issue</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#after-meeting" id="after-meeting">After meeting</a></h2>
<ul>
<li>Export the meeting file to markdown
<ul>
<li>you will need to cleanup &quot;check boxes&quot; -- Niko usually searches and replaces 
<code>^(\s*)[ ]</code> with <code>\1* [ ]</code> or something like that to insert a
<code>*</code> before them, which makes them valid markdown</li>
</ul>
</li>
<li>Upload video to youtube if applicable and get the URL</li>
<li>Add the file to the <a href="https://github.com/rust-lang/lang-team/tree/master/minutes">minutes</a> directory of <a href="https://github.com/rust-lang/lang-team/">rust-lang/lang-team</a> repository
with a file name like <code>YYYY-MM-DD.md</code></li>
</ul>
<h1><a class="header" href="#release" id="release">Release</a></h1>
<p>This section documents the process around creating a new release of the
compiler, tools, as well information on The Rust Programming Language's platform
support.</p>
<h3><a class="header" href="#external-links-5" id="external-links-5">External Links</a></h3>
<ul>
<li>The <a href="https://buildbot2.rust-lang.org/homu/">Homu/Bors</a> page provides links to the pull request testing queues for the
<code>rust-lang</code> GitHub organisation, as well as providing an overview of the bot's
syntax you can use to interact with it.</li>
<li><a href="https://rust-lang.github.io/rustup-components-history/index.html">Rustup Component History</a> documents when a component was last available (if
it was available) for a specific platform on nightly.</li>
<li><a href="https://rust-lang-nursery.github.io/rustc-pr-tracking/">PR Tracking</a> provides visualisations of pull requests made to the
<code>rust-lang/rust</code> repository.</li>
<li>kennytm's <a href="https://github.com/kennytm/rustup-toolchain-install-master"><code>rustup-toolchain-install-master</code></a> is a utility to install
the latest generated artifacts from CI into <code>rustup</code>.</li>
</ul>
<h1><a class="header" href="#beta-backporting" id="beta-backporting">Beta Backporting</a></h1>
<p>There's a steady trickle of patches that need to be ported to the beta branch.
Only a few people are even aware of the process, but this is actually something
anybody can do.</p>
<h2><a class="header" href="#backporting-in-rust-langrust" id="backporting-in-rust-langrust">Backporting in <code>rust-lang/rust</code></a></h2>
<p>When somebody identifies a PR that should be backported to beta they tag it
<a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aclosed+label%3Abeta-nominated"><code>beta-nominated</code></a>.
That means they want one of the teams to evaluate whether the patch should be
backported. I also suggest applying the <code>I-nominated</code> and and a <code>T-</code> (team) tag
as appropriate: that'll <em>really</em> get their attention. Anybody with triage access
is free to make these tags. Backports are mostly done to fix regressions. If the
team thinks it should be backported they'll then additionally tag it
<a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aclosed+label%3Abeta-accepted"><code>beta-accepted</code></a>.</p>
<p>At that point the PR is ready to be backported. So the list of patches ready for
a backport is those tagged
<a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+label%3Abeta-accepted+is%3Aclosed+label%3Abeta-nominated">both <code>beta-nominated</code> and <code>beta-accepted</code></a>.</p>
<p>So now somebody needs to go through those PR's and cherry-pick their commits to
the beta branch. Those cherry-picks are then submitted as a PR <em>against the
beta branch</em>, with a title started with <code>[beta]</code> (so reviewers can see its
specialness). The OP of that PR should contain links to all the PRs being
backported. <a href="https://github.com/rust-lang/rust/pull/64097">Here's an example</a>.
Anybody can make these PRs!</p>
<p>After that a reviewer needs to verify that the backport looks correct, that it's
submitted to the beta branch, and then approve via <code>@bors: r+</code>. Finally, they
need to follow the links to the original PRs and <em>remove the <code>beta-nominated</code>
tag</em> (people forget to do this a lot). This last step indicates that the
backport has been completed, so the <code>beta-nominated</code> and <code>beta-accepted</code> tags
have three states.</p>
<h2><a class="header" href="#backporting-in-rust-langcargo" id="backporting-in-rust-langcargo">Backporting in <code>rust-lang/cargo</code></a></h2>
<p>The procedure for backporting fixes to Cargo is similar but slightly more
extended than the <code>rust-lang/rust</code> repo's procedure. Currently there aren't
backport tags in the Cargo repository, but you'll initiate the backport process
by commenting on an associated PR, requesting a backport. Once a Cargo team
member has approved the backport to happen you're good to start sending PRs!</p>
<ul>
<li>
<p>First you'll send a PR to the <code>rust-1.21.0</code> branch of Cargo (replace 1.21 with
the current rustc beta version number). Like with <code>rust-lang/rust</code> you'll
prefix the title of your PR with <code>[beta]</code> and ensure it's flagged as going to
beta.</p>
</li>
<li>
<p>Next a Cargo reviewer will <code>@bors: r+</code> the PR and put it into the queue.
Eventually bors will automatically merge the PR (when tests are passing) to
the appropriate Cargo branch.</p>
</li>
<li>
<p>Finally you'll send a PR to the <code>rust-lang/rust</code> repository's <code>beta</code> branch,
updating the Cargo submodule. The Cargo submodule should be updated to the tip
of the <code>rust-1.21.0</code> branch (the branch your Cargo PR was merged to). As like
before, ensure you've got <code>[beta]</code> in the PR title.</p>
</li>
</ul>
<p>After that's all said and done the Cargo change is ready to get scheduled onto
the beta release!</p>
<h1><a class="header" href="#rust-platform-support" id="rust-platform-support">Rust Platform Support</a></h1>
<p>The Rust compiler runs on, and compiles to, a great number of platforms, though
not all platforms are equally supported. Rust's support levels are organized
into three tiers, each with a different set of guarantees.</p>
<p>Platforms are identified by their &quot;target triple&quot; which is the string to inform
the compiler what kind of output should be produced. The columns below indicate
whether the corresponding component works on the specified platform.</p>
<h2><a class="header" href="#tier-1" id="tier-1">Tier 1</a></h2>
<p>Tier 1 platforms can be thought of as &quot;guaranteed to work&quot;.
Specifically they will each satisfy the following requirements:</p>
<ul>
<li>Official binary releases are provided for the platform.</li>
<li>Automated testing is set up to run tests for the platform.</li>
<li>Landing changes to the <code>rust-lang/rust</code> repository's master branch is gated on
tests passing.</li>
<li>Documentation for how to use and how to build the platform is available.</li>
</ul>
<table><thead><tr><th>target</th><th>std</th><th>rustc</th><th>cargo</th><th>notes</th></tr></thead><tbody>
<tr><td><code>i686-apple-darwin</code></td><td>✓</td><td>✓</td><td>✓</td><td>32-bit OSX (10.7+, Lion+)</td></tr>
<tr><td><code>i686-pc-windows-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>32-bit MinGW (Windows 7+)</td></tr>
<tr><td><code>i686-pc-windows-msvc</code></td><td>✓</td><td>✓</td><td>✓</td><td>32-bit MSVC (Windows 7+)</td></tr>
<tr><td><code>i686-unknown-linux-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>32-bit Linux (2.6.18+)</td></tr>
<tr><td><code>x86_64-apple-darwin</code></td><td>✓</td><td>✓</td><td>✓</td><td>64-bit OSX (10.7+, Lion+)</td></tr>
<tr><td><code>x86_64-pc-windows-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>64-bit MinGW (Windows 7+)</td></tr>
<tr><td><code>x86_64-pc-windows-msvc</code></td><td>✓</td><td>✓</td><td>✓</td><td>64-bit MSVC (Windows 7+)</td></tr>
<tr><td><code>x86_64-unknown-linux-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>64-bit Linux (2.6.18+)</td></tr>
</tbody></table>
<h2><a class="header" href="#tier-2" id="tier-2">Tier 2</a></h2>
<p>Tier 2 platforms can be thought of as &quot;guaranteed to build&quot;. Automated tests
are not run so it's not guaranteed to produce a working build, but platforms
often work to quite a good degree and patches are always welcome!
Specifically, these platforms are required to have each of the following:</p>
<ul>
<li>Official binary releases are provided for the platform.</li>
<li>Automated building is set up, but may not be running tests.</li>
<li>Landing changes to the <code>rust-lang/rust</code> repository's master branch is gated on
platforms <strong>building</strong>. For some platforms only the standard library is
compiled, but for others <code>rustc</code> and <code>cargo</code> are too.</li>
</ul>
<table><thead><tr><th>target</th><th>std</th><th>rustc</th><th>cargo</th><th>notes</th></tr></thead><tbody>
<tr><td><code>aarch64-apple-ios</code></td><td>✓</td><td></td><td></td><td>ARM64 iOS</td></tr>
<tr><td><code>aarch64-fuchsia</code></td><td>✓</td><td></td><td></td><td>ARM64 Fuchsia</td></tr>
<tr><td><code>aarch64-linux-android</code></td><td>✓</td><td></td><td></td><td>ARM64 Android</td></tr>
<tr><td><code>aarch64-pc-windows-msvc</code></td><td>✓</td><td></td><td></td><td>ARM64 Windows MSVC</td></tr>
<tr><td><code>aarch64-unknown-linux-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>ARM64 Linux</td></tr>
<tr><td><code>aarch64-unknown-linux-musl</code></td><td>✓</td><td></td><td></td><td>ARM64 Linux with MUSL</td></tr>
<tr><td><code>arm-linux-androideabi</code></td><td>✓</td><td></td><td></td><td>ARMv7 Android</td></tr>
<tr><td><code>arm-unknown-linux-gnueabi</code></td><td>✓</td><td>✓</td><td>✓</td><td>ARMv6 Linux</td></tr>
<tr><td><code>arm-unknown-linux-gnueabihf</code></td><td>✓</td><td>✓</td><td>✓</td><td>ARMv6 Linux, hardfloat</td></tr>
<tr><td><code>arm-unknown-linux-musleabi</code></td><td>✓</td><td></td><td></td><td>ARMv6 Linux with MUSL</td></tr>
<tr><td><code>arm-unknown-linux-musleabihf</code></td><td>✓</td><td></td><td></td><td>ARMv6 Linux with MUSL, hardfloat</td></tr>
<tr><td><code>armebv7r-none-eabi</code></td><td>*</td><td></td><td></td><td>Bare ARMv7-R, Big Endian</td></tr>
<tr><td><code>armebv7r-none-eabihf</code></td><td>*</td><td></td><td></td><td>Bare ARMv7-R, Big Endian, hardfloat</td></tr>
<tr><td><code>armv5te-unknown-linux-gnueabi</code></td><td>✓</td><td></td><td></td><td>ARMv5TE Linux</td></tr>
<tr><td><code>armv5te-unknown-linux-musleabi</code></td><td>✓</td><td></td><td></td><td>ARMv5TE Linux with MUSL</td></tr>
<tr><td><code>armv7-apple-ios</code></td><td>✓</td><td></td><td></td><td>ARMv7 iOS, Cortex-a8</td></tr>
<tr><td><code>armv7-linux-androideabi</code></td><td>✓</td><td></td><td></td><td>ARMv7a Android</td></tr>
<tr><td><code>armv7-none-eabi</code></td><td>*</td><td></td><td></td><td>Bare ARMv7-R</td></tr>
<tr><td><code>armv7-none-eabihf</code></td><td>*</td><td></td><td></td><td>Bare ARMv7-R, hardfloat</td></tr>
<tr><td><code>armv7-unknown-linux-gnueabihf</code></td><td>✓</td><td>✓</td><td>✓</td><td>ARMv7 Linux</td></tr>
<tr><td><code>armv7-unknown-linux-musleabihf</code></td><td>✓</td><td></td><td></td><td>ARMv7 Linux with MUSL</td></tr>
<tr><td><code>asmjs-unknown-emscripten</code></td><td>✓</td><td></td><td></td><td>asm.js via Emscripten</td></tr>
<tr><td><code>i386-apple-ios</code></td><td>✓</td><td></td><td></td><td>32-bit x86 iOS</td></tr>
<tr><td><code>i586-pc-windows-msvc</code></td><td>✓</td><td></td><td></td><td>32-bit Windows w/o SSE</td></tr>
<tr><td><code>i586-unknown-linux-gnu</code></td><td>✓</td><td></td><td></td><td>32-bit Linux w/o SSE</td></tr>
<tr><td><code>i586-unknown-linux-musl</code></td><td>✓</td><td></td><td></td><td>32-bit Linux w/o SSE, MUSL</td></tr>
<tr><td><code>i686-linux-android</code></td><td>✓</td><td></td><td></td><td>32-bit x86 Android</td></tr>
<tr><td><code>i686-unknown-freebsd</code></td><td>✓</td><td>✓</td><td>✓</td><td>32-bit FreeBSD</td></tr>
<tr><td><code>i686-unknown-linux-musl</code></td><td>✓</td><td></td><td></td><td>32-bit Linux with MUSL</td></tr>
<tr><td><code>mips-unknown-linux-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>MIPS Linux</td></tr>
<tr><td><code>mips-unknown-linux-musl</code></td><td>✓</td><td></td><td></td><td>MIPS Linux with MUSL</td></tr>
<tr><td><code>mips64-unknown-linux-gnuabi64</code></td><td>✓</td><td>✓</td><td>✓</td><td>MIPS64 Linux, n64 ABI</td></tr>
<tr><td><code>mips64el-unknown-linux-gnuabi64</code></td><td>✓</td><td>✓</td><td>✓</td><td>MIPS64 (LE) Linux, n64 ABI</td></tr>
<tr><td><code>mipsel-unknown-linux-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>MIPS (LE) Linux</td></tr>
<tr><td><code>mipsel-unknown-linux-musl</code></td><td>✓</td><td></td><td></td><td>MIPS (LE) Linux with MUSL</td></tr>
<tr><td><code>powerpc-unknown-linux-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>PowerPC Linux</td></tr>
<tr><td><code>powerpc64-unknown-linux-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>PPC64 Linux</td></tr>
<tr><td><code>powerpc64le-unknown-linux-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>PPC64LE Linux</td></tr>
<tr><td><code>riscv32imac-unknown-none-elf</code></td><td>*</td><td></td><td></td><td>Bare RISC-V (RV32IMAC ISA)</td></tr>
<tr><td><code>riscv32imc-unknown-none-elf</code></td><td>*</td><td></td><td></td><td>Bare RISC-V (RV32IMC ISA)</td></tr>
<tr><td><code>riscv64gc-unknown-none-elf</code></td><td>*</td><td></td><td></td><td>Bare RISC-V (RV64IMAFDC ISA)</td></tr>
<tr><td><code>riscv64imac-unknown-none-elf</code></td><td>*</td><td></td><td></td><td>Bare RISC-V (RV64IMAC ISA)</td></tr>
<tr><td><code>s390x-unknown-linux-gnu</code></td><td>✓</td><td>✓</td><td>✓</td><td>S390x Linux</td></tr>
<tr><td><code>sparc64-unknown-linux-gnu</code></td><td>✓</td><td></td><td></td><td>SPARC Linux</td></tr>
<tr><td><code>sparcv9-sun-solaris</code></td><td>✓</td><td></td><td></td><td>SPARC Solaris 10/11, illumos</td></tr>
<tr><td><code>thumbv6m-none-eabi</code></td><td>*</td><td></td><td></td><td>Bare Cortex-M0, M0+, M1</td></tr>
<tr><td><code>thumbv7em-none-eabi</code></td><td>*</td><td></td><td></td><td>Bare Cortex-M4, M7</td></tr>
<tr><td><code>thumbv7em-none-eabihf</code></td><td>*</td><td></td><td></td><td>Bare Cortex-M4F, M7F, FPU, hardfloat</td></tr>
<tr><td><code>thumbv7m-none-eabi</code></td><td>*</td><td></td><td></td><td>Bare Cortex-M3</td></tr>
<tr><td><code>thumbv7neon-linux-androideabi</code></td><td>✓</td><td></td><td></td><td>Thumb2-mode ARMv7a Android with NEON</td></tr>
<tr><td><code>thumbv7neon-unknown-linux-gnueabihf</code></td><td>✓</td><td></td><td></td><td>Thumb2-mode ARMv7a Linux with NEON</td></tr>
<tr><td><code>wasm32-unknown-emscripten</code></td><td>✓</td><td></td><td></td><td>WebAssembly via Emscripten</td></tr>
<tr><td><code>wasm32-unknown-unknown</code></td><td>✓</td><td></td><td></td><td>WebAssembly</td></tr>
<tr><td><code>wasm32-wasi</code></td><td>✓</td><td></td><td></td><td>WebAssembly with WASI</td></tr>
<tr><td><code>x86_64-apple-ios</code></td><td>✓</td><td></td><td></td><td>64-bit x86 iOS</td></tr>
<tr><td><code>x86_64-fortanix-unknown-sgx</code></td><td>✓</td><td></td><td></td><td><a href="https://edp.fortanix.com/">Fortanix ABI</a> for 64-bit Intel SGX</td></tr>
<tr><td><code>x86_64-fuchsia</code></td><td>✓</td><td></td><td></td><td>64-bit Fuchsia</td></tr>
<tr><td><code>x86_64-linux-android</code></td><td>✓</td><td></td><td></td><td>64-bit x86 Android</td></tr>
<tr><td><code>x86_64-rumprun-netbsd</code></td><td>✓</td><td></td><td></td><td>64-bit NetBSD Rump Kernel</td></tr>
<tr><td><code>x86_64-sun-solaris</code></td><td>✓</td><td></td><td></td><td>64-bit Solaris 10/11, illumos</td></tr>
<tr><td><code>x86_64-unknown-cloudabi</code></td><td>✓</td><td></td><td></td><td>64-bit CloudABI</td></tr>
<tr><td><code>x86_64-unknown-freebsd</code></td><td>✓</td><td>✓</td><td>✓</td><td>64-bit FreeBSD</td></tr>
<tr><td><code>x86_64-unknown-linux-gnux32</code></td><td>✓</td><td></td><td></td><td>64-bit Linux (x32 ABI)</td></tr>
<tr><td><code>x86_64-unknown-linux-musl</code></td><td>✓</td><td>✓</td><td>✓</td><td>64-bit Linux with MUSL</td></tr>
<tr><td><code>x86_64-unknown-netbsd</code></td><td>✓</td><td>✓</td><td>✓</td><td>NetBSD/amd64</td></tr>
<tr><td><code>x86_64-unknown-redox</code></td><td>✓</td><td></td><td></td><td>Redox OS</td></tr>
</tbody></table>
<h2><a class="header" href="#tier-25" id="tier-25">Tier 2.5</a></h2>
<p>Tier 2.5 platforms can be thought of as &quot;guaranteed to build&quot;, but without
builds available through <code>rustup</code>. Automated tests are not run so it's not
guaranteed to produce a working build, but platforms often work to quite a good
degree and patches are always welcome! Specifically, these platforms are
required to have each of the following:</p>
<ul>
<li>Automated building is set up, but may not be running tests.</li>
<li>Landing changes to the <code>rust-lang/rust</code> repository's master branch is gated on
platforms <strong>building</strong>. For some platforms only the standard library is
compiled, but for others <code>rustc</code> and <code>cargo</code> are too.</li>
</ul>
<p><strong>This status is accidental: no new platforms should reach this state</strong></p>
<table><thead><tr><th>target</th><th>std</th><th>rustc</th><th>cargo</th><th>notes</th></tr></thead><tbody>
<tr><td><code>aarch64-unknown-cloudabi</code></td><td>✓</td><td></td><td></td><td>ARM64 CloudABI</td></tr>
<tr><td><code>armv7-unknown-cloudabi-eabihf</code></td><td>✓</td><td></td><td></td><td>ARMv7 CloudABI, hardfloat</td></tr>
<tr><td><code>i686-unknown-cloudabi</code></td><td>✓</td><td></td><td></td><td>32-bit CloudABI</td></tr>
<tr><td><code>powerpc-unknown-linux-gnuspe</code></td><td>✓</td><td></td><td></td><td>PowerPC SPE Linux</td></tr>
<tr><td><code>sparc-unknown-linux-gnu</code></td><td>✓</td><td></td><td></td><td>32-bit SPARC Linux</td></tr>
</tbody></table>
<h2><a class="header" href="#tier-3" id="tier-3">Tier 3</a></h2>
<p>Tier 3 platforms are those which the Rust codebase has support for, but which
are not built or tested automatically, and may not work. Official builds are
not available.</p>
<table><thead><tr><th>target</th><th>std</th><th>rustc</th><th>cargo</th><th>notes</th></tr></thead><tbody>
<tr><td><code>aarch64-unknown-freebsd</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>aarch64-unknown-hermit</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>aarch64-unknown-netbsd</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>aarch64-unknown-none</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>aarch64-unknown-openbsd</code></td><td>✓</td><td>✓</td><td>✓</td><td>ARM64 OpenBSD</td></tr>
<tr><td><code>aarch64-unknown-redox</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>aarch64-uwp-windows-msvc</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>aarch64-wrs-vxworks</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>armv4t-unknown-linux-gnueabi</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>armv6-unknown-freebsd</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>armv6-unknown-netbsd-eabihf</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>armv7-unknown-freebsd</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>armv7-unknown-netbsd-eabihf</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>armv7-wrs-vxworks-eabihf</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>hexagon-unknown-linux-musl</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>i686-pc-windows-msvc</code></td><td>✓</td><td></td><td></td><td>32-bit Windows XP support</td></tr>
<tr><td><code>i686-unknown-dragonfly</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>i686-unknown-haiku</code></td><td>✓</td><td>✓</td><td>✓</td><td>32-bit Haiku</td></tr>
<tr><td><code>i686-unknown-netbsd</code></td><td>✓</td><td></td><td></td><td>NetBSD/i386 with SSE2</td></tr>
<tr><td><code>i686-unknown-openbsd</code></td><td>✓</td><td>✓</td><td>✓</td><td>32-bit OpenBSD</td></tr>
<tr><td><code>i686-uwp-windows-gnu</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>i686-uwp-windows-msvc</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>i686-wrs-vxworks</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>mips-unknown-linux-uclibc</code></td><td>✓</td><td></td><td></td><td>MIPS Linux with uClibc</td></tr>
<tr><td><code>mips64-unknown-linux-muslabi64</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>mips64el-unknown-linux-muslabi64</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>mipsel-unknown-linux-uclibc</code></td><td>✓</td><td></td><td></td><td>MIPS (LE) Linux with uClibc</td></tr>
<tr><td><code>mipsisa32r6-unknown-linux-gnu</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>mipsisa32r6el-unknown-linux-gnu</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>mipsisa64r6-unknown-linux-gnuabi64</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>mipsisa64r6el-unknown-linux-gnuabi64</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>msp430-none-elf</code></td><td>*</td><td></td><td></td><td>16-bit MSP430 microcontrollers</td></tr>
<tr><td><code>nvptx64-nvidia-cuda</code></td><td>**</td><td></td><td></td><td>--emit=asm generates PTX code that <a href="https://github.com/japaric-archived/nvptx#targets">runs on NVIDIA GPUs</a></td></tr>
<tr><td><code>nvptx64-nvidia-cuda</code></td><td>**</td><td></td><td></td><td>--emit=asm generates PTX code that <a href="https://github.com/japaric-archived/nvptx#targets">runs on NVIDIA GPUs</a></td></tr>
<tr><td><code>powerpc-unknown-linux-musl</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>powerpc-unknown-netbsd</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>powerpc-wrs-vxworks</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>powerpc-wrs-vxworks-spe</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>powerpc64-unknown-freebsd</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>powerpc64-unknown-linux-musl</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>powerpc64-wrs-vxworks</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>powerpc64le-unknown-linux-musl</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>riscv32i-unknown-none-elf</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>sparc64-unknown-netbsd</code></td><td>✓</td><td>✓</td><td></td><td>NetBSD/sparc64</td></tr>
<tr><td><code>sparc64-unknown-openbsd</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>thumbv7a-pc-windows-msvc</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>thumbv8m.base-none-eabi</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>thumbv8m.main-none-eabi</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>thumbv8m.main-none-eabihf</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>wasm32-experimental-emscripten</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>x86_64-pc-solaris</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>x86_64-pc-windows-msvc</code></td><td>✓</td><td></td><td></td><td>64-bit Windows XP support</td></tr>
<tr><td><code>x86_64-unknown-bitrig</code></td><td>✓</td><td>✓</td><td></td><td>64-bit Bitrig</td></tr>
<tr><td><code>x86_64-unknown-dragonfly</code></td><td>✓</td><td>✓</td><td>✓</td><td>64-bit DragonFlyBSD</td></tr>
<tr><td><code>x86_64-unknown-haiku</code></td><td>✓</td><td>✓</td><td>✓</td><td>64-bit Haiku</td></tr>
<tr><td><code>x86_64-unknown-hermit</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>x86_64-unknown-l4re-uclibc</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>x86_64-unknown-openbsd</code></td><td>✓</td><td>✓</td><td>✓</td><td>64-bit OpenBSD</td></tr>
<tr><td><code>x86_64-unknown-uefi</code></td><td>?</td><td></td><td></td><td></td></tr>
<tr><td><code>x86_64-uwp-windows-gnu</code></td><td>✓</td><td></td><td></td><td></td></tr>
<tr><td><code>x86_64-uwp-windows-msvc</code></td><td>✓</td><td></td><td></td><td></td></tr>
<tr><td><code>x86_64-wrs-vxworks</code></td><td>?</td><td></td><td></td><td></td></tr>
</tbody></table>
<p>* These are bare-metal microcontroller targets that only have access to the
core library, not std.</p>
<p>** There’s backend support for these targets but no target built into rustc
(yet). You’ll have to write your own target specification file (see the
links in the table). These targets only support the core library.</p>
<p>? These are targets that haven't yet been documented here. If you can shed some
light on these platforms support, please create an issue or PR on the <a href="https://github.com/rust-lang/rust-forge">Rust
Forge repo</a>.</p>
<p>But those aren't the only platforms Rust can compile to! Those are the ones with
built-in target definitions and/or standard library support. When linking only
to the core library, Rust can also target &quot;bare metal&quot; in the x86, ARM, MIPS,
and PowerPC families, though it may require defining custom target
specifications to do so. All such scenarios are tier 3.</p>
<h1><a class="header" href="#preparing-release-notes" id="preparing-release-notes">Preparing Release Notes</a></h1>
<p>The release notes for the next release should be compiled at the beginning of
the beta cycle, 6 weeks ahead of the release.</p>
<p>Clone the <a href="https://github.com/rust-lang/relnotes">relnotes</a> utility. This program pulls all pull requests made against
<code>rust-lang/rust</code> and <code>rust-lang/cargo</code> within the latest release cycle and
prints out a markdown document containing all the pull requests, categorised
into their respective sections where possible, and prints the document to
<code>stdout</code>.</p>
<p>Only pull requests that impact stable users of Rust should be included.
Generally, more exciting items go toward the top of sections. Most items are
simply links to the PR that landed them; some that need more explanation have
additional, unlinked text; anything supported by an RFC has an additional RFC
link. Reuse the PR titles or write descriptions as needed for clarity.</p>
<p>Try to keep the language of the document independent of en-US or en-UK, when it
can't be avoided defer to en-US grammar and syntax.</p>
<h1><a class="header" href="#the-rust-release-process" id="the-rust-release-process">The Rust Release Process</a></h1>
<p>Here's how Rust is currently released:</p>
<h2><a class="header" href="#promote-beta-to-stable-t-3-days-monday" id="promote-beta-to-stable-t-3-days-monday">Promote beta to stable (T-3 days, Monday)</a></h2>
<p>Promote beta to stable. Temporarily turn off GitHub branch protection for the
<code>stable</code> branch in rust-lang/rust repo. In your local Rust repo:</p>
<pre><code class="language-sh">$ git fetch rust-lang
$ git push rust-lang rust-lang/beta:stable -f
</code></pre>
<p>Re-enable branch protection for the <code>stable</code> branch. Send a PR to rust-lang/rust
on the stable branch making the following changes:</p>
<ul>
<li>Update <code>src/ci/run.sh</code> to pass <code>channel=stable</code>, not <code>channel=beta</code>.</li>
</ul>
<p>Once the PR is sent, r+ it and give it a high <code>p=1000</code>.</p>
<p>The stable build will <strong>not</strong> deploy automatically to prod. The
rust-central-station repository is configured to upload to <strong>dev</strong> every hour if
it detects a change. You should be able to browse changes in dev.</p>
<p>As soon as this build is done post a message to irlo asking for testing. The
index is
https://dev-static-rust-lang-org.s3.amazonaws.com/dist/2015-09-17/index.html and
our URL is then https://dev-static.rust-lang.org/dist/2015-09-17/index.html.</p>
<p>Test rustup with</p>
<pre><code class="language-sh">RUSTUP_DIST_SERVER=https://dev-static.rust-lang.org rustup update stable
</code></pre>
<p>If something goes wrong, and we rebuild stable artifacts, you'll need to
invalidate the dev-static bucket for RCS to re-release it.</p>
<ol>
<li>Download https://dev-static.rust-lang/dist/channel-rust-1.35.0.toml The
version number must be less than the current release, but otherwise doesn't
matter.</li>
<li>Rename the file locally to channel-rust-stable.toml</li>
<li>Upload the file to the dev-static bucket into the dist folder, replacing
channel-rust-stable.toml.</li>
<li>Go to CloudFront in AWS, to the dev-static bucket, and issue an invalidation
for &quot;/dist/channel-rust-stable.toml&quot;. This is necessary until
https://github.com/rust-lang/rust-central-station/issues/49 is fixed.</li>
<li>(optional) login to central station, and run the following. This starts the
dev-static promotion immediately, vs. waiting till the next hour.</li>
</ol>
<pre><code class="language-bash">docker exec -d -it rcs bash -c 'promote-release /tmp/stable stable /data/secrets-dev.toml 2&gt;&amp;1 | logger --tag release-stable'
</code></pre>
<h2><a class="header" href="#promote-master-to-beta-t-2-days-tuesday" id="promote-master-to-beta-t-2-days-tuesday">Promote master to beta (T-2 days, Tuesday)</a></h2>
<p>Create a new branch on <code>rust-lang/cargo</code> for the new beta. Here, <code>rust-lang</code> is
the remote for https://github.com/rust-lang/rust.git. Replace <code>YY</code> with the
minor version of master. First determine the branch point for cargo in
<code>rust-lang/rust</code>, and then create a new branch:</p>
<pre><code class="language-sh">$ cd rust
$ git fetch rust-lang
$ CARGO_SHA=`git rev-parse rust-lang/master:src/tools/cargo`
$ cd src/tools/cargo
$ git branch rust-1.YY.0 $CARGO_SHA
$ git push origin rust-1.YY.0
</code></pre>
<p>You'll need to temporarily disable branch protection on GitHub to push the new
branch.</p>
<p>In theory one day we'll do the same for rust-lang/rls, but for now we haven't
done this yet.</p>
<p>Temporarily disable banch protection on GitHub for the <code>beta</code> branch of the Rust
repo. Promote rust-lang/rust's master branch to beta as with yesterday:</p>
<pre><code class="language-sh">$ git fetch rust-lang
$ git push rust-lang rust-lang/master:beta -f
</code></pre>
<p>Re-enable branch protection on GitHub. Send a PR to the freshly created beta
branch of rust-lang/rust which:</p>
<ul>
<li>Update src/stage0.txt
<ul>
<li>Change <code>date</code> to &quot;YYYY-MM-DD&quot; where the date is the archive date the stable
build was uploaded</li>
<li>Change <code>rustc</code> to &quot;X.Y.Z&quot; where that's the version of rustc you just build</li>
<li>Change <code>cargo</code> to &quot;A.B.C&quot; where it's Cargo's version. That's typically
&quot;0.(Y+1).0&quot; wrt the rustc version.</li>
<li>Uncomment <code>dev: 1</code></li>
</ul>
</li>
<li>Update src/ci/run.sh to pass &quot;--release-channel=beta&quot;.</li>
</ul>
<p>Note that you probably don't want to update the RLS if it's working, but if it's
not working beta won't land and it'll need to get updated. After this PR merges
(through @bors) the beta should be automatically released.</p>
<h1><a class="header" href="#master-bootstrap-update-t-1-day-wednesday" id="master-bootstrap-update-t-1-day-wednesday">Master bootstrap update (T-1 day, Wednesday)</a></h1>
<p>Write a new blog post, update rust-www, and update rust-forge. Submit PRs for
tomorrow.</p>
<p>Send a PR to the master branch to:</p>
<ul>
<li>modify src/stage0.txt to bootstrap from yesterday's beta</li>
<li>modify src/bootstrap/channel.rs with the new version number</li>
</ul>
<h2><a class="header" href="#release-day-thursday" id="release-day-thursday">Release day (Thursday)</a></h2>
<p>Decide on a time to do the release, T.</p>
<ul>
<li>
<p><strong>T-30m</strong> - This is on rust-central-station:</p>
<pre><code>docker exec -d -it rcs bash -c 'promote-release /tmp/stable stable /data/secrets.toml 2&gt;&amp;1 | logger --tag release-stable-realz'
</code></pre>
<p>That'll, in the background, schedule the <code>promote-release</code> binary to run on
the production secrets (not the dev secrets). That'll sign everything, upload
it, update the html index pages, and invalidate the CDN. Note that this takes
about 30 minutes right now. Logs are in <code>/opt/rcs/logs</code>.</p>
</li>
<li>
<p><strong>T-10m</strong> - Locally, tag the new release and upload it. Use &quot;x.y.z release&quot; as
the commit message.</p>
<pre><code class="language-sh">$ git tag -u FA1BE5FE 1.3.0 $COMMIT_SHA
$ git push rust-lang 1.3.0
</code></pre>
<p>After this <a href="https://travis-ci.com/rust-lang/thanks">Update thanks.rust-lang.org</a> by triggering a build
on Travis.</p>
</li>
<li>
<p><strong>T-5m</strong> - Merge blog post.</p>
</li>
<li>
<p><strong>T</strong> - Tweet and post everything!</p>
<ul>
<li>Twitter <a href="https://twitter.com/rustlang">@rustlang</a></li>
<li>Reddit <a href="https://www.reddit.com/r/rust/">/r/rust</a></li>
<li><a href="https://news.ycombinator.com/">Hacker News</a></li>
<li><a href="https://users.rust-lang.org/">Users forum</a></li>
</ul>
</li>
<li>
<p><strong>T+5m</strong> - Tag Cargo the same way as rust-lang/rust and then run
<code>cargo publish</code> for the tag you just created. You'll first need to comment
out <code>cargo-test-macro</code> from Cargo.toml, then publish <code>crates-io</code> (in
<code>crates/crates-io</code>) and finally publish <code>cargo</code> itself.</p>
<p>To publish Cargo you may have to bump the version numbers for the crates-io and Cargo crates; there's no need to do that in a formal commit though, so your tag and the published code may differentiate in that way.</p>
</li>
<li>
<p><strong>T+1hr</strong> Send a PR to the beta branch to comment out <code>dev: 1</code> again and
update the date to download from (modifying <code>src/stage0.txt</code>).</p>
</li>
</ul>
<p>Bask in your success.</p>
<h1><a class="header" href="#update-dependencies-t1-day-friday" id="update-dependencies-t1-day-friday">Update dependencies (T+1 day, Friday)</a></h1>
<p>In the repo:</p>
<pre><code class="language-bash">$ cd src
$ cargo update
</code></pre>
<p>The very ambitious can use https://crates.io/crates/cargo-outdated and update
through breaking changes.</p>
<h2><a class="header" href="#publishing-a-nightly-based-off-a-try-build" id="publishing-a-nightly-based-off-a-try-build">Publishing a nightly based off a try build</a></h2>
<p>Sometimes a PR requires testing how it behaves when downloaded from rustup, for
example after a manifest change. In those cases it's possible to publish a new
nightly based off that PR on dev-static.rust-lang.org.</p>
<p>Once the try build finishes make sure the merge commit for your PR is at the
top of <a href="https://github.com/rust-lang/rust/commits/try">the <code>try</code> branch</a>, log into the rust-central-station server
and run this command:</p>
<pre><code>docker exec -d -it rcs bash -c 'PROMOTE_RELEASE_OVERRIDE_BRANCH=try promote-release /tmp/nightly-tmp nightly /data/secrets-dev.toml 2&gt;&amp;1 | logger --tag release-nightly-tmp'
</code></pre>
<p>If the <code>try</code> branch doesn't contain the merge commit (because a new build
started in the meantime) you can create a new branch pointing to the merge
commit and run (replacing <code>BRANCH_NAME</code> with the name of the branch):</p>
<pre><code>docker exec -d -it rcs bash -c 'PROMOTE_RELEASE_OVERRIDE_BRANCH=BRANCH_NAME promote-release /tmp/nightly-tmp nightly /data/secrets-dev.toml 2&gt;&amp;1 | logger --tag release-nightly-tmp'
</code></pre>
<p>You can follow the build progress with:</p>
<pre><code>sudo tail -n 1000 -f /var/log/syslog | grep release-nightly-tmp
</code></pre>
<p>Once the build ends it's possible to install the new nightly with:</p>
<pre><code>RUSTUP_DIST_SERVER=https://dev-static.rust-lang.org rustup toolchain install nightly
</code></pre>
<h1><a class="header" href="#rollup-procedure" id="rollup-procedure">Rollup Procedure</a></h1>
<h2><a class="header" href="#background-1" id="background-1">Background</a></h2>
<p>The Rust project has a policy that every pull request must be tested after merge
before it can be pushed to master. As PR volume increases this can scale poorly,
especially given the long (~3.5hr) current CI duration for Rust.</p>
<p>Enter rollups - changes that small, not performance sensitive, or not platform
dependent are marked with the <code>rollup</code> command to bors (<code>@bors r+ rollup</code> to
approve a PR and mark as a rollup, <code>@bors rollup</code> to mark a previously approved
PR, <code>@bors rollup-</code> to un-mark as a rollup).  'Performing a Rollup' then means
collecting these changes into one PR and merging them all at once. The rollup
command accepts three values <code>always</code>, <code>maybe</code>, and <code>never</code>. <code>@bors rollup</code> is
equivalent to <code>rollup=always</code> (which will indicate that a PR should always be
included in a rollup), and <code>@bors rollup-</code> is equivalent to <code>@bors rollup=maybe</code>
which is used to indicate that someone should try rollup the PR. <code>rollup=never</code>
indicates that a PR should never be included in a rollup, this should generally
only be used for PRs which are large additions or changes which could cause
breakage or large perf changes.</p>
<p>You can see the list of rollup PRs on Rust's <a href="https://buildbot2.rust-lang.org/homu/queue/rust">Homu queue</a>, they are
listed at the bottom of the 'approved' queue with a priority of 'rollup' meaning
they will not be merged by themselves until everything in front of them in the
queue has been merged.</p>
<h2><a class="header" href="#making-a-rollup" id="making-a-rollup">Making a Rollup</a></h2>
<ol>
<li>Using the interface on <a href="https://buildbot2.rust-lang.org/homu/queue/rust">Homu queue</a>, select a few pull requests and then use
&quot;rollup&quot; button to make one. (The text about fairness can be ignored.)</li>
<li>Use the <code>@bors r+ rollup=never p=&lt;NUMBER_OF_PRS_IN_ROLLUP&gt;</code> command in the
pull request thread.</li>
<li>Mark the pull request with the label <code>rollup</code>.</li>
<li>If the rollup fails, use the logs rust-highfive (really it is
rust-log-analyzer) provides to bisect the failure to a specific PR and do
<code>@bors r-</code>. If the PR is running, you need to do <code>@bors r- retry</code>. Otherwise,
your rollup succeeded. If it did, proceed to the next rollup (every now and
then let <code>rollup=never</code> and toolstate PRs progress).</li>
<li>Recreate the rollup without the offending PR starting again from <strong>1.</strong></li>
</ol>
<h2><a class="header" href="#selecting-pull-requests" id="selecting-pull-requests">Selecting Pull Requests</a></h2>
<p>This is something you will learn to improve over time. Some basic tips include
(from obvious to less):</p>
<ol>
<li>Avoid <code>rollup=never</code> PRs (these are red in the interface).</li>
<li>Include all PRs marked with <code>rollup=always</code> (these are green). Try to check
if some of the pull requests in this list shouldn't be rolled up — in the
interest of time you can do so sometimes after you've made the rollup PR.</li>
<li>Avoid pull requests that touch the CI configuration or bootstrap.
(Unless the CI PRs have been marked as <code>rollup</code>. -- see 2.)</li>
<li>Avoid having too many large diff pull requests in the same rollup.</li>
<li>Avoid having too many submodule updates in the same rollup (especially LLVM).
(Updating LLVM frequently forces most devs to rebuild LLVM which is not fun.)</li>
<li>Do not include toolstate PRs like those fixing Miri, Clippy, etc.</li>
<li>Do include docs PRs (they should hopefully be marked as green).</li>
</ol>
<h2><a class="header" href="#failed-rollups" id="failed-rollups">Failed rollups</a></h2>
<p>If the rollup has failed, run the <code>@bors retry</code> command if the
failure was spurious (e.g. due to a network problem or a timeout). If it wasn't spurious,
find the offending PR and throw it out by copying a link to the rust-highfive comment,
and writing <code>Failed in &lt;link_to_comment&gt;, @bors r-</code>. Hopefully,
the author or reviewer will give feedback to get the PR fixed or confirm that it's not
at fault.</p>
<p>Once you've removed the offending PR, re-create your rollup without it (see 1.).
Sometimes however, it is hard to find the offending PR. If so, use your intuition
to avoid the PRs that you suspect are the problem and recreate the rollup.
Another strategy is to raise the priority of the PRs you suspect,
mark them as <code>rollup=never</code> and let bors test them standalone to dismiss
or confirm your hypothesis.</p>
<p>If a rollup continues to fail you can run the <code>@bors rollup=never</code> command to
never rollup the PR in question.</p>
<h1><a class="header" href="#triage-procedure" id="triage-procedure">Triage Procedure</a></h1>
<h2><a class="header" href="#pull-request-triage" id="pull-request-triage">Pull Request Triage</a></h2>
<h3><a class="header" href="#status-tags" id="status-tags">Status Tags</a></h3>
<ul>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+sort%3Aupdated-asc+label%3AS-waiting-on-author+-label%3AI-nominated+-label%3Aneeds-fcp">S-waiting-on-author</a> - Author needs to make changes to address reviewer
comments, or merge conflicts/test failures are present. This also covers more
obscure cases, like a PR being blocked on another, or waiting for a <a href="https://github.com/rust-lang-nursery/crater">crater</a>
run -- it is the author's responsibility to push the PR forward.</li>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+sort%3Aupdated-asc+label%3AS-waiting-on-review+-label%3AI-nominated+-label%3Aneeds-fcp">S-waiting-on-review</a> - Review is incomplete</li>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-team+sort%3Aupdated-desc">S-waiting-on-team</a> - A T- label is marked, and team has been cc-ed for
feedback.</li>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-bors+sort%3Aupdated-asc">S-waiting-on-bors</a> - Currently approved, waiting to merge. Managed by <a href="https://github.com/rust-lang/homu">Bors</a>.</li>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-crater+sort%3Aupdated-asc">S-waiting-on-crater</a> - Waiting to see what the impact the PR will have on the
ecosystem</li>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-bikeshed+sort%3Aupdated-asc">S-waiting-on-bikeshed</a> - Waiting on the consensus over a minor detail</li>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-perf+sort%3Aupdated-asc">S-waiting-on-perf</a> - Waiting on the results of a perf run</li>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-blocked+sort%3Aupdated-asc">S-blocked</a> - Waiting for another PR to be merged or for discussion to be
resolved</li>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+label%3AS-blocked-closed+sort%3Aupdated-asc">S-blocked-closed</a> - Closed because resolving the block is expected to take a
long time</li>
<li><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+label%3AS-inactive-closed+sort%3Aupdated-asc">S-inactive-closed</a> - Closed due to inactivity.</li>
</ul>
<h3><a class="header" href="#procedure" id="procedure">Procedure</a></h3>
<p><strong>IMPORTANT:</strong> Whenever you do PR triage, please fill out the following form:
<a href="https://goo.gl/forms/YKYVFYjBq28Hm3qQ2">goo.gl/forms/YKYVFYjBq28Hm3qQ2</a>. If you
want to create a bookmark for yourself, you can adapt
<a href="https://docs.google.com/forms/d/e/1FAIpQLSfdcbG9tSX49LuY9h1NCLKb6oU4tGalB3PrkN6yIHHWaptUbw/viewform?entry.1711461865=YOUR_GITHUB_USERNAME">this link</a>
to prefill your GitHub username.</p>
<p><em>Note:</em> When you are pinging people in triage comments, you should mention that
you are doing triage in the comment you post. For example, start your comments
with something like &quot;Ping from triage ...&quot;.&quot;</p>
<p>First ensure that the status tag matches the current state of the PR. Change the
tag if necessary, and apply the procedure for the new tag.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprno3aassigneeunassigned-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprno3aassigneeunassigned-prsa"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+no%3Aassignee">Unassigned PRs</a></a></h4>
<p>All PRs that have no assignee (except rollups) should be assigned to a random
member of the responsible team.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsutf8e29c93qis3aopen20is3apr20sort3aupdated-asc20-label3as-inactive20-label3as-waiting-on-author20-label3as-waiting-on-team20-label3as-waiting-on-bors20-label3as-waiting-on-crater20-label3as-waiting-on-team20-label3as-waiting-on-review20-label3as-blocked20-label3as-waiting-on-bikeshed20-label3as-waiting-on-fcp20-label3as-waiting-on-perfunlabeled-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsutf8e29c93qis3aopen20is3apr20sort3aupdated-asc20-label3as-inactive20-label3as-waiting-on-author20-label3as-waiting-on-team20-label3as-waiting-on-bors20-label3as-waiting-on-crater20-label3as-waiting-on-team20-label3as-waiting-on-review20-label3as-blocked20-label3as-waiting-on-bikeshed20-label3as-waiting-on-fcp20-label3as-waiting-on-perfunlabeled-prsa"><a href="https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen%20is%3Apr%20sort%3Aupdated-asc%20-label%3AS-inactive%20-label%3AS-waiting-on-author%20-label%3AS-waiting-on-team%20-label%3AS-waiting-on-bors%20-label%3AS-waiting-on-crater%20-label%3AS-waiting-on-team%20-label%3AS-waiting-on-review%20-label%3AS-blocked%20-label%3AS-waiting-on-bikeshed%20-label%3AS-waiting-on-fcp%20-label%3AS-waiting-on-perf">Unlabeled PRs</a></a></h4>
<p>All unlabeled PRs should be processed. The steps below are not mutually
exclusive, any number of them may apply.</p>
<p>When <strong>no review has happened</strong>, if the PR is a work in progress (e.g., test
failures, merge conflict) mark <code>S-waiting-on-author</code>. Otherwise, mark
<code>S-waiting-on-review</code>. If no human has checked in yet and you don't recognise
the submitter as a regular contributor, leave a comment saying something like
&quot;Thanks for the PR! We’ll periodically check in on it to make sure that
@reviewer or someone else from the team reviews it soon.&quot;</p>
<p>At this point, all PRs must have a tag applied.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprsort3aupdated-asclabel3as-waiting-on-author-label3ai-nominated-label3aneeds-fcps-waiting-on-author-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprsort3aupdated-asclabel3as-waiting-on-author-label3ai-nominated-label3aneeds-fcps-waiting-on-author-prsa"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+sort%3Aupdated-asc+label%3AS-waiting-on-author+-label%3AI-nominated+-label%3Aneeds-fcp">S-waiting-on-author PRs</a></a></h4>
<p>PRs with, roughly, more than a week of inactivity need to be processed. These
can be found by looking at the &quot;updated X days ago&quot; on GitHub's PR list.</p>
<p>If the author hasn't responded for more than a week to a request for changes or
a status update, ping the author on GitHub asking for them to check in on the
PR's state. If they've given advance warning that they are unavailable for a
period of time and therefore won't be able to address comments, do not ping
until after that time. It is a good idea to start the message with &quot;Ping from
Triage...&quot; so that the concerned parties know it is coming from the triage team.</p>
<p>If the author has not responded to a previous ping, meaning more than 2 weeks
have passed with no activity, the PR should be closed with a message thanking
the author for their work, asking the them to reopen when they have a chance to
make the necessary changes, and warning them not to push to the PR while it is
closed as that prevents it from being reopened. Tag the PR with
<code>S-inactive-closed</code>.</p>
<p><em>TIP</em>: if an author is unavailable and you know they won't have a chance to come
to a PR for a while, you can 'bump' the PR by removing and readding the tag
(note that removing/readding requires clicking off the tag selection dropdown
between the two actions).</p>
<p>If the PR is blocked on another PR, issue, or some kind of discussion, add a
comment clearly identifying what is blocking the PR (something like &quot;This PR
appears to be blocked on #12345&quot;) and change the state to <code>S-blocked</code>. Follow
the instruction for <code>S-blocked</code> to determine whether you should also close the
PR.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprsort3aupdated-asclabel3as-waiting-on-review-label3ai-nominated-label3aneeds-fcps-waiting-on-review-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprsort3aupdated-asclabel3as-waiting-on-review-label3ai-nominated-label3aneeds-fcps-waiting-on-review-prsa"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+sort%3Aupdated-asc+label%3AS-waiting-on-review+-label%3AI-nominated+-label%3Aneeds-fcp">S-waiting-on-review PRs</a></a></h4>
<p>PRs with, roughly, more than a week of inactivity need to be processed. These
can be found by looking at the &quot;updated X days ago&quot; on GitHub's PR list.</p>
<p>If the review is complete the label should be changed from <code>S-waiting-on-review</code>
to <code>S-waiting-on-author</code>.</p>
<p>Otherwise, the reviewer should be pinged. It is a good idea to start the message
with &quot;Ping from Triage...&quot; so that the concerned parties know it is coming from
the triage team, and the message should be asking the reviewer to either review
or update a review of the PR. If the reviewer has already been pinged, meaning
more than 2 weeks have passed with no activity, another reviewer on their team
should be pinged. Note that if the reviewer has expressed that they are busy, do
not ping them until they are available again. If the PR is not already labeled
with a team (<code>T-</code>), find the team assigned to the PR's issue which should have a
<code>T-</code> label.</p>
<p>The <code>r?</code> command is needed to override a reviewer, however not all triagers will
have sufficient permissions. In this case sending a message to the <code>#triage-wg</code>
Discord or pinging @Dylan-DPC will be necessary.</p>
<p>If the PR is blocked on another PR, add a comment clearly identifying the
blocking PR (something like &quot;This PR appears to be blocked on #12345&quot;) and
change the state to <code>S-blocked</code>.</p>
<p>If the pr is tagged with <code>final-comment-period</code> it does not need to be triaged unless the process has stalled for a reasonable period of time. These PRs have a form from RFCbot that looks like:</p>
<blockquote>
<p>Team member <strong>@Donald</strong> has proposed to merge this. The next step is review by the rest of the tagged team members:</p>
<ul>
<li><input disabled="" type="checkbox"/>
@Huey</li>
<li><input disabled="" type="checkbox" checked=""/>
@Dewey</li>
<li><input disabled="" type="checkbox"/>
@Louie</li>
</ul>
</blockquote>
<p>At this point, ping the appropriate people to check their boxes to sign off on the PR.</p>
<p>If <em>this</em> stalls nominate the PR for prioritizing at the next team triage meeting by marking it with <code>I-nominated</code>.</p>
<p>PRs tagged with <code>finshed-final-comment-period</code> are eligible for triage.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-waiting-on-teamsort3aupdated-descs-waiting-on-team-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-waiting-on-teamsort3aupdated-descs-waiting-on-team-prsa"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-team+sort%3Aupdated-desc">S-waiting-on-team PRs</a></a></h4>
<p>PRs active within the last 4 days or inactive for greater than 2 weeks need to
be processed. These can be found by looking at the &quot;updated X days ago&quot; on
GitHub's PR list.</p>
<p>First, ensure that the status tag matches the current state of the PR. Change
the tag if necessary, and apply the procedure for the new tag now. Verify that
there is a T- tag for all PRs that remain in this category.</p>
<p>If the PR has been inactive for greater than 2 weeks, add the <code>I-nominated</code>
label and ping the team, requesting a new assignee or other appropriate action.</p>
<p>If there has been recent activity, the team might have taken some action meaning
the state has changed but the label has not yet been updated. Therefore, we also
check the most recent ones.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-waiting-on-borssort3aupdated-ascs-waiting-on-bors-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-waiting-on-borssort3aupdated-ascs-waiting-on-bors-prsa"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-bors+sort%3Aupdated-asc">S-waiting-on-bors PRs</a></a></h4>
<p><a href="https://github.com/rust-lang/homu">Bors</a> automatically manages this label but human intervention may be required
if there is an issue.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-waiting-on-cratersort3aupdated-ascs-waiting-on-crater-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-waiting-on-cratersort3aupdated-ascs-waiting-on-crater-prsa"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-crater+sort%3Aupdated-asc">S-waiting-on-crater PRs</a></a></h4>
<p>All PRs should be processed.</p>
<p>If the PR has been active in the last three days, make sure it's present on the
crater
<a href="https://docs.google.com/spreadsheets/d/1VPi_7ErvvX76fa3VqvQ3YnQmDk3bS7fYnkzvApIWkKo/edit#gid=0">spreadsheet</a>.
Fill in the link to the PR and set status as &quot;Pending&quot;.</p>
<p>If crater has been run and results include failures, change the tag to
<code>S-waiting-on-review</code> for the reviewer to be responsible for deciding what
should be done with the information provided by the failures.</p>
<p>If crater has been run and the results do not include failures, change the tag
to <code>S-waiting-on-review</code> for the reviewer to take one last look and approve.</p>
<p>If crater has not been run and it has been more than 3 days since a crater run
was requested, ping the last three distinct listed people on the spreadsheet in
the infra irc channel and request a crater run.</p>
<p>If crater has been started (the person starting should leave a comment) and it
has been more than 5 days since an update, ping the person starting the run on
IRC and GitHub.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-waiting-on-bikeshedsort3aupdated-ascs-waiting-on-bikesheda" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-waiting-on-bikeshedsort3aupdated-ascs-waiting-on-bikesheda"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-waiting-on-bikeshed+sort%3Aupdated-asc">S-waiting-on-bikeshed</a></a></h4>
<p>PRs inactive for greater than 7 days need to be processed. These can be found by
looking at the &quot;updated X days ago&quot; on GitHub's PR list.</p>
<p>Find the source of the discussion and see if it has been resolved.</p>
<p>If it has been resolved, move it back to <code>S-waiting-on-author</code> or
<code>S-waiting-on-review</code> as appropriate. Add a comment notifying the author or
reviewer that the PR is now unblocked.</p>
<p>If it has not been resolved, remove and re-add the <code>S-waiting-on-bikeshed</code> tag.
This resets the update time so the PR won't be reviewed for another week.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-blockedsort3aupdated-ascs-blocked-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aopenis3aprlabel3as-blockedsort3aupdated-ascs-blocked-prsa"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Aopen+is%3Apr+label%3AS-blocked+sort%3Aupdated-asc">S-blocked PRs</a></a></h4>
<p>Blocked PRs can remain blocked for a long time. To avoid needlessly re-triaging
them, they should be closed if the blocking issue is unlikely to be resolved
soon. If you close a blocked PR, apply the S-blocked-closed label and invite the
author to re-open the PR once the issue has been resolved. If you feel
uncomfortable just closing the PR, feel free to link to this document. As a rule
of thumb, consider these guidelines:</p>
<ul>
<li>PRs blocked on discussion (such as RFCs or WG decisions) should be closed
immediately, since those discussions generally take a long time.</li>
<li>PRs blocked on other PRs should be closed, if the blocking PR looks
like it's going to be merged soon.</li>
<li>PRs which have already been blocked for two weeks should generally be closed,
unless there is a clear indication that they will be unblocked soon.</li>
</ul>
<p>Blocked PRs which have not been closed should be triaged as follows:</p>
<p>PRs inactive for greater than 7 days need to be processed. These can be found by
looking at the &quot;updated X days ago&quot; on GitHub's PR list.</p>
<p>Find the blocking issue from the triage comment and see if it has been resolved.</p>
<p>If it has been resolved, move it back to <code>S-waiting-on-author</code> or
<code>S-waiting-on-review</code> as appropriate. Add a comment notifying the author or
reviewer that the PR is now unblocked.</p>
<p>If it has not been resolved, remove and re-add the <code>S-blocked</code> tag. This resets
the update time so the PR won't be reviewed for another week.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aprlabel3as-blocked-closedsort3aupdated-ascs-blocked-closed-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aprlabel3as-blocked-closedsort3aupdated-ascs-blocked-closed-prsa"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+label%3AS-blocked-closed+sort%3Aupdated-asc">S-blocked-closed PRs</a></a></h4>
<p>These never need to be looked at, although if you want you can go through the
PRs and see if any have been unblocked. This label is for PRs which are blocked
and have been closed because it is unlikely that the blocking issue will be
resolved soon.</p>
<h4><a class="header" href="#a-hrefhttpsgithubcomrust-langrustpullsqis3aprlabel3as-inactive-closedsort3aupdated-ascs-inactive-closed-prsa" id="a-hrefhttpsgithubcomrust-langrustpullsqis3aprlabel3as-inactive-closedsort3aupdated-ascs-inactive-closed-prsa"><a href="https://github.com/rust-lang/rust/pulls?q=is%3Apr+label%3AS-inactive-closed+sort%3Aupdated-asc">S-inactive-closed PRs</a></a></h4>
<p>These never need to be looked at. PRs which have been closed due inactivity.
This is a terminal state for the time being, primarily oriented towards easing
future work.</p>
<h2><a class="header" href="#issue-triage" id="issue-triage">Issue triage</a></h2>
<p>Issue triage is mostly much simpler. After finishing PR triage, go to the <a href="https://github.com/rust-lang/rust/issues?utf8=%E2%9C%93&amp;q=is%3Aissue%20is%3Aopen%20sort%3Acreated-asc%20-label%3AC-feature-request%20-label%3AC-enhancement%20-label%3AC-cleanup%20-label%3AC-bug%20-label%3AC-tracking-issue%20-label%3AC-future-compatibility%20-label%3AC-question%20-label%3AC-feature-accepted">list
of untagged issues</a> and add tags as you see fit. The following categories
should, ideally, be assigned to each issue:</p>
<ul>
<li>At least one <code>A-</code> tag. This represents the area of the issue, so an issue
relating to benchmarks or testing would get A-libtest. If you can't find an
appropriate tag for the issue, it's possible that creating one is the right
thing to do. Try to pick just one tag to give, unless you're giving the
A-diagnostics tag, in which case one more tag is a good idea.</li>
<li>One, and only one, <code>C-</code> tag. This represents that category of the issue.
<ul>
<li><code>C-bug</code>: Bugs. These are things like ICEs or other failures of the compiler
to do what it's supposed to in a way that breaks correct user code. It's not
always easy to tell if code is correct, and the compiler broken, though, but
tend towards assuming it's the compiler's fault: at least, we should give a
better diagnostic. Note that as of now, I-slow, and I-compile{time,mem} are
not considered bugs, rather, they are enhancements, since they do not break
user code.</li>
<li><code>C-cleanup</code>: Refactoring and cleanup work within the compiler.</li>
<li><code>C-enhancement</code>: Diagnostic improvements, primarily, or other nice to haves,
but not critical issues. Somewhat implies that this is a minor addition.</li>
<li><code>C-feature-request</code>: An addition of an impl is the primary thing here.
Sometimes minor lang features also qualify, though in general it's likely
those should be closed in favor of RFCs. It's recommended that triagers
should close issues in favor of the author opening a thread on internals or
rust-lang/rfcs for language changes that are more significant than adding an
impl.</li>
<li><code>C-feature-accepted</code>: Feature-requests that a relevant team would like to
see an implementation for before final judgement is rendered. It's likely
that such an implementation would be merged, unless breakage (e.g.,
inference-related) occurs.</li>
<li><code>C-future-compatibility</code>: Used for tracking issues for future compatibility
lints.</li>
<li><code>C-tracking-issue</code>: This is used for both feature tracking issues (feature
gates) and issues which track some question or concern of a team. These are
maintained on GitHub over internals because GH is a more stable location and
easier to refer to in the long run.</li>
</ul>
</li>
<li>At least one <code>T-</code> tag. Assign the appropriate team to the issue; sometimes
this is multiple teams, but usually falls into either dev-tools, compiler, or
libs. Sometimes the lang team needs to make a decision.</li>
<li>If necessary, add <code>I-</code> tags as you see fit. Particularly, <code>I-ICE</code> is the
dominant tag to be added.</li>
<li>If applicable, add platform tags (<code>O-</code>). It's fine to add more than one.</li>
</ul>
<p>If an issue has been tagged with an <code>E-</code> category tag, such as <code>E-help-wanted</code>
and has been taken up by someone, but there has been no activity for 7 days, ask
if they require assistance, and inform them that after 14 days this issue will
be made available to anyone. After 14 days re-add the help tag and deassign them
if necessary.</p>
<h2><a class="header" href="#state-of-rust-triage" id="state-of-rust-triage">State Of Rust Triage</a></h2>
<ol>
<li>Visit the <a href="https://github.com/rust-lang/rust/projects/8">State Of Rust</a> project page. Each card has three pieces of
information.
<ul>
<li>“Feature” — The name of the feature with a link to the tracking issue.</li>
<li>“What’s next?” — What we are waiting on to implement and stabilise the RFC.</li>
<li>“Last Update” — The last time this card has been triaged.</li>
</ul>
</li>
<li>For each card that you choose to triage:</li>
<li>Visit the respective tracking issue, and any related issues that the tracking
issue is recently mentioned in.</li>
<li>If the “What’s next?” on the card does not match what you think the current
state is, update it with the new information.</li>
<li>If the implementation of an RFC has changed since the last update, move it to
the relevant column.
<ul>
<li>If there are PRs merged that implement the RFC the card would move to
“Implemented”.</li>
<li>If there are only open PRs or the PRs don’t implement the full RFC the card
would be moved to “Implementation in progress”.</li>
<li>If there has been a decision to deprecate the RFC, move that to the
“Deprecated” column.</li>
</ul>
</li>
<li>If there have been no meaningful changes to the RFC within 21 days, ping
someone for an update on the status of the feature.
<ul>
<li>If there have been PRs implementing the RFC, ping the author(s).</li>
<li>If author has not responded within a week, or there are no relevant PRs,
ping the relevant team.</li>
<li>If there is no clear choice for the team that should be doing the
implementation, please add this to release team meeting notes (which can be
found in the <a href="https://discord.gg/rust-lang">#release Discord channel</a>).</li>
</ul>
</li>
<li>Update the date on the “Last update” and move that to the bottom of the
column.</li>
</ol>
<h1><a class="header" href="#archive" id="archive">Archive</a></h1>
<p>This section is for content that has become outdated, but that we want to keep
available to be read for historical/archival reasons.</p>
<h1><a class="header" href="#friends-of-the-tree" id="friends-of-the-tree">Friends of the Tree</a></h1>
<p><a href="http://www.rust-lang.org/team.html">The Rust Team</a> likes to occasionally
recognize people who have made outstanding contributions to The Rust Project,
its ecosystem, and its community. These people are 'Friends of the Tree',
archived here for eternal glory.</p>
<h2><a class="header" href="#2016-02-26-mitaa" id="2016-02-26-mitaa">2016-02-26 @mitaa</a></h2>
<p>This week wed'd like to nominate @mitaa as Friend of the Tree. Recently @mitaa
<a href="https://github.com/rust-lang/rust/pull/31837">has</a> <a href="https://github.com/rust-lang/rust/pull/31835">sent</a> <a href="https://github.com/rust-lang/rust/pull/31839">a</a> <a href="https://github.com/rust-lang/rust/pull/31715">wave</a> <a href="https://github.com/rust-lang/rust/pull/31626">of</a> <a href="https://github.com/rust-lang/rust/pull/31614">fixes</a> <a href="https://github.com/rust-lang/rust/pull/31602">to</a>
<a href="https://github.com/rust-lang/rust/pull/31596">rustdoc</a> (yes those are all separate links) with even more on the way!
Rustdoc has historically been a tool in need of some love, and the extra help in
fixing bugs is especially appreciated. Thanks @mitaa!</p>
<h2><a class="header" href="#2016-02-12-jeffrey-seyfried-jseyfried" id="2016-02-12-jeffrey-seyfried-jseyfried">2016-02-12 Jeffrey Seyfried (@jseyfried)</a></h2>
<p><strong>This week's friend of the tree is Jeffrey Seyfried (@jseyfried)!</strong></p>
<p>Jeffrey Seyfried (@jseyfried) has made some awesome contributions to name
resolution. He has fixed a ton of bugs, reported previously unknown edge cases,
and done some big refactorings, all of which have helped improve a complex and
somewhat neglected part of the compiler.</p>
<h2><a class="header" href="#2015-12-04-vadim-petrochenkov-petrochenkov" id="2015-12-04-vadim-petrochenkov-petrochenkov">2015-12-04 Vadim Petrochenkov @petrochenkov</a></h2>
<p>This week we'd like to nominate @petrochenkov for Friend of the Tree. Vadim has
been doing some absolutely amazing compiler work recently such as <a href="https://github.com/rust-lang/rust/pull/29726">fixing
privacy bugs</a>, <a href="https://github.com/rust-lang/rust/pull/29748">fixing hygiene bugs</a>, <a href="https://github.com/rust-lang/rust/pull/29383">fixing pattern bugs</a>,
<a href="https://github.com/rust-lang/rust/pull/29952">paving the way</a> and <a href="https://github.com/rust-lang/rust/pull/30206">implementing <code>#[deprecated]</code></a>,
<a href="https://github.com/rust-lang/rust/pull/29973">fixing and closing many privacy holes</a>, <a href="https://github.com/rust-lang/rust/pull/30087">refactoring</a>
<a href="https://github.com/rust-lang/rust/pull/30095">and</a> <a href="https://github.com/rust-lang/rust/pull/30145">improving</a> the HIR, and reviving <a href="https://github.com/rust-lang/rust/pull/30184">the old type ascription
PR</a>. The list of outstanding bugs and projects in the compiler is
growing ever smaller now; thanks @petrochenkov!</p>
<h2><a class="header" href="#2015-11-16-peter-atashian-windowsbunny-retep998" id="2015-11-16-peter-atashian-windowsbunny-retep998">2015-11-16 Peter Atashian (WindowsBunny, retep998)</a></h2>
<p>In his own words, WindowsBunny is &quot;a hopping encyclopedia of all the issues
windows users might run into and how to solve them.&quot; One of the heroes that make
Rust work on Windows, he actively pushes the frontiers of what Rust can do on
the platform. He is also notably the maintainer of the
<a href="https://crates.io/crates/winapi">winapi</a> family of crates, a comprehensive set
of bindings to the Windows system APIs. You da bunny, WindowsBunny. Also, a
friend of the tree.</p>
<p><a href="https://internals.rust-lang.org/t/subteam-reports-2015-11-16/2910">Source</a>.</p>
<h2><a class="header" href="#2015-10-31-marcus-klaas" id="2015-10-31-marcus-klaas">2015-10-31 Marcus Klaas</a></h2>
<p>Today @nrc would like to nominated @marcusklaas as Friend of the Tree:</p>
<p>Marcus is one of the primary authors of
<a href="https://github.com/nrc/rustfmt">rustfmt</a>. He has been involved since the early
days and is now the
<a href="https://github.com/nrc/rustfmt/graphs/contributors">top contributor</a>. He has
fixed innumerable bugs, implemented new features, reviewed a tonne of PRs, and
contributed to the design of the project. Rustfmt would not be the software it
is today without his hard work; he is indeed a Friend Of The Tree.</p>
<h2><a class="header" href="#2015-10-16-ryan-prichard" id="2015-10-16-ryan-prichard">2015-10-16 Ryan Prichard</a></h2>
<p>nmatsakis would also like to declare Ryan Prichard a <strong>Friend of the Tree</strong>.
Over the last few months, Ryan has been comparing the Rust compiler's parsing
behavior with that of the rust-grammar project, which aims to create a LALR(1)
grammar for parsing Rust. Ryan has found a number of inconsistencies and bugs
between the two. This kind of work is useful for two reasons: it finds bugs,
obviously, which are often hard to uncover any other way. Second, it helps pave
the way for a true Rust reference grammar outside of the compiler source itself.
So Ryan Prichard, thanks!</p>
<h2><a class="header" href="#2015-10-02-vikrant-chaudhary" id="2015-10-02-vikrant-chaudhary">2015-10-02 Vikrant Chaudhary</a></h2>
<p><a href="https://github.com/nasa42">Vikrant Chaudhary (nasa42)</a> is an individual who
believes in the Rust community. Since June he has been contributing to
<a href="http://this-week-in-rust.org">This Week in Rust</a>, coordinating its publication
on
<a href="https://users.rust-lang.org/t/this-week-in-rust-editors-thread/1806/51">urlo</a>,
and stirring up contributions. He recently rolled out an overhaul to the site's
design that brings it more inline with the main website. Today Vikrant is the
main editor on the weekly newsletter, assisted by
<a href="http://github.com/llogiq">llogiq</a> and other contributors. Thanks for keeping
TWiR running, Vikrant, you friend of the tree.</p>
<p><a href="https://internals.rust-lang.org/t/subteam-reports-2015-10-02/2716">Source</a>.</p>
<h2><a class="header" href="#2015-07-24-tshepang-lekhonkhobe" id="2015-07-24-tshepang-lekhonkhobe">2015-07-24 Tshepang Lekhonkhobe</a></h2>
<p><a href="http://github.com/Gankro">@Gankro</a> has nominated
<a href="http://github.com/tshepang">@tshepang</a> for Friend of the Tree this week:</p>
<p>Over the last year Tshepang has landed over 100 improvements to our
documentation. Tshepang saw where documentation was not, and said &quot;No. This will
not do.&quot;</p>
<p>We should all endeavor to care about docs as much as Tshepang.</p>
<p><a href="https://internals.rust-lang.org/t/subteam-reports-2015-07-24/2397">Source</a>.</p>
<h2><a class="header" href="#2015-05-19-chris-morgan" id="2015-05-19-chris-morgan">2015-05-19 Chris Morgan</a></h2>
<p>I'd like to nominate Chris Morgan (@chris-morgan) for Friend of the Tree today.
Chris recently redesigned the play.rust-lang.org site for the 1.0 release,
giving the site a more modern and rustic feel to it. Chris has been contributing
to Rust for quite some time now, his first contribution dating back to July 2013
and also being one of the early pioneers in the space of HTTP libraries written
in Rust. Chris truly is a friend of the tree!</p>
<h2><a class="header" href="#2015-03-24-andrew-gallant-burntsushi" id="2015-03-24-andrew-gallant-burntsushi">2015-03-24 Andrew Gallant (BurntSushi)</a></h2>
<p><a href="https://github.com/burntsushi">BurntSushi</a> is an individual who practically needs no introduction. He's
written many of the world's most popular crates, including <a href="https://github.com/docopt/docopt.rs">docopt.rs</a>, <a href="https://github.com/rust-lang/regex">regex</a>,
<a href="https://github.com/BurntSushi/quickcheck">quickcheck</a>, <a href="https://github.com/BurntSushi/rust-cbor">cbor</a>, and <a href="https://github.com/BurntSushi/byteorder">byteorder</a>. Don't forget his CSV swiss-army-knife,
<a href="https://github.com/BurntSushi/xsv">xsv</a>, built on <a href="https://github.com/BurntSushi/rust-csv">rust-csv</a>. Feedback from his early work on libraries helped
informed the evolution of Rust during a critical time in its development, and
BurntSushi continues to churn out the kind of Rust gems that can only come from
someone who is a skilled friendofthetree.</p>
<h2><a class="header" href="#2015-03-03-manish-goregaokar-manishearth" id="2015-03-03-manish-goregaokar-manishearth">2015-03-03 Manish Goregaokar (Manishearth)</a></h2>
<p>Manish started working on Servo as part of the GSoC program in 2014, where he
implemented XMLHttpRequest. Since then he's become in integral part of the Servo
team while finishing his university studies and organizing Rust community
events. In 2015 he took an interest in bors' queue and started making rollup PRs
to accelerate the integration process. Nursing the PR queue is the kind of
time-consuming labor that creates friends of the tree like Manish, the rollup
friend of the tree.</p>
<h2><a class="header" href="#2015-02-17-toby-scrace" id="2015-02-17-toby-scrace">2015-02-17 Toby Scrace</a></h2>
<p>Today I would like to nominate Toby Scrace as Friend of the Tree. Toby emailed
me over the weekend about a login vulnerability on crates.io where you could log
in to whomever the previously logged in user was regardless of whether the
GitHub authentication was successful or not. I very much appreciate Toby
emailing me privately ahead of time, and I definitely feel that Toby has earned
becoming Friend of the Tree.</p>
<h2><a class="header" href="#2015-02-10-jonathan-reem-reem" id="2015-02-10-jonathan-reem-reem">2015-02-10 Jonathan Reem (reem)</a></h2>
<p>Jonathan Reem has been making an impact on Rust since May 2014. His primary
contribution has been as the main author of the prominent <a href="https://github.com/iron/iron">Iron</a> web
framework, though he has also created several other popular projects including
the testing framework <a href="https://github.com/reem/stainless">stainless</a>. His practical experience with these projects
has led to several improvements in upstream rust, most notably his complete
rewrite of the <code>TaskPool</code> type. Reem is doing everything he can to advance the
Rust cause.</p>
<h2><a class="header" href="#2015-01-20-barosl-lee-barosl" id="2015-01-20-barosl-lee-barosl">2015-01-20 Barosl Lee (barosl)</a></h2>
<p>Today I would like to nominate Barosl Lee (@barosl) for Friend of the Tree.
Barosl has recently rewritten our bors cron job in a new project called <a href="https://github.com/barosl/homu">homu</a>.
Homu has a number of benefits including:</p>
<ul>
<li>Zero &quot;down time&quot; between testing different PRs (compared to 30+ minutes for
bors!)</li>
<li>A new rollup button to create separate rollup PRs from other PRs.</li>
<li>Multiple repositories are supported (Cargo and Rust are on the same page)</li>
</ul>
<p>Homu was recently deployed for rust-lang/rust thanks to a number of issues being
closed out by Barosl, and it's been working fantastically so far! Barosl has
also been super responsive to any new issues cropping up. Barosl truly is a
Friend of the Tree!</p>
<h2><a class="header" href="#2015-01-13-kang-seonghoon-lifthrasiir-yurume" id="2015-01-13-kang-seonghoon-lifthrasiir-yurume">2015-01-13 Kang Seonghoon (lifthrasiir, Yurume)</a></h2>
<p>Seonghoon has been an active member of the Rust community since early 2013, and
although he has made a number of valuable contributions to Rust itself, his
greatest work has been in developing key libraries out of tree. <a href="https://github.com/lifthrasiir/rust-encoding">rust-encoding</a>,
one of the most popular crates in Cargo, performs character encoding, and
<a href="https://github.com/lifthrasiir/rust-chrono">rust-chrono</a> date / time handling, both of which fill critical holes in the
functionality of the standard library. <a href="https://github.com/lifthrasiir/rust-strconv">rust-strconv</a> is a prototype of
efficient numerical string conversions that is a candidate for future inclusion
in the standard library. He maintains a <a href="https://lifthrasiir.github.io/rustlog/">blog</a> where he discusses his
work.</p>
<h2><a class="header" href="#2015-01-06-jorge-aparicio-japaric" id="2015-01-06-jorge-aparicio-japaric">2015-01-06 Jorge Aparicio (japaric)</a></h2>
<p>I nominate Jorge Aparicio (japaric) for Friend of the Tree (for the second time,
no less!). japaric has done tremendous work porting the codebase to use the new
language features that are now available. First, he converted APIs in the
standard library to take full advantage of DST after it landed. Next, he
converted APIs to use unboxed closures. Then, he converted a large portion of
the libraries to use associated types. Finally, he removed boxed closures from
the compiler entirely. He has also worked to roll out RFCs changing the
overloaded operators and comparison traits, including both their definitions and
their impact on the standard library. And this list excludes a number of smaller
changes, like deprecating older syntax. The alpha release would not be where it
is without him; Japaric is simply one of the best friends the tree has ever had.</p>
<h2><a class="header" href="#2014-12-30-kevin-ballard-kballard-eridius" id="2014-12-30-kevin-ballard-kballard-eridius">2014-12-30 Kevin Ballard (kballard, Eridius)</a></h2>
<p>This is a belated recognition of Kevin Ballard (aka @kballard, aka Eridius) as a
friend of the tree. Kevin put a lot of work into Unicode issues in Rust,
especially as related to platform-specific constraints. He wrote the current
path module in part to accommodate these constraints, and participated in the
recent redesign of the module. He has also been a dedicated and watchful
reviewer. Thanks, Kevin, for your contributions!</p>
<h2><a class="header" href="#2014-12-16-gábor-lehel-glaebhoerl" id="2014-12-16-gábor-lehel-glaebhoerl">2014-12-16 Gábor Lehel (glaebhoerl)</a></h2>
<p>Gabor's major contributions to Rust have been in the area of language design. In
the last year he has produced a number of very high quality RFCs, and though
many of them of not yet been accepted, his ideas are often thought-provoking and
have had a strong influence on the direction of the language. His <a href="https://github.com/rust-lang/rfcs/pull/243">trait based
exception handling RFC</a> was particularly innovative, as well that <a href="https://github.com/rust-lang/rfcs/pull/146">for
future-proofing checked arithmetic</a>. Gabor is an exceedingly clever
Friend of the Tree.</p>
<h2><a class="header" href="#2014-11-11-brian-koropoff-unwound" id="2014-11-11-brian-koropoff-unwound">2014-11-11 Brian Koropoff (unwound)</a></h2>
<p>In the last few weeks, he has fixed many, many tricky ICEs all over the
compiler, but particularly in the area of unboxed closures and the borrow
checker. He has also completely rewritten how unboxed closures interact with
monomorphization and had a huge impact on making them usable. Brian Koropoff is
truly a Friend of the Tree.</p>
<h2><a class="header" href="#2014-10-07-alexis-beingessner-gankro" id="2014-10-07-alexis-beingessner-gankro">2014-10-07 Alexis Beingessner (Gankro)</a></h2>
<p>Alexis Beingessner (aka @Gankro) began contributing to Rust in July, and has
already had a major impact on several library-related areas. His main focus has
been collections. He completely rewrote BTree, providing a vastly more complete
and efficient implementation. He proposed and implemented the new Entry API.
He's written extensive new documentation for the collections crate. He pitched
in on collections reform.</p>
<p>And he added collapse-all to rustdoc!</p>
<p>Alexis is, without a doubt, a FOTT.</p>
<h2><a class="header" href="#2014-09-02-jorge-aparicio-japaric" id="2014-09-02-jorge-aparicio-japaric">2014-09-02 Jorge Aparicio (japaric)</a></h2>
<p>Jorge has made several high-impact contributions to the wider Rust community. He
is the primary author of rustbyexample.com, and last week published &quot;eulermark&quot;,
a comparison of language performance on project Euler problems, which happily
showed Rust performing quite well. As part of his benchmarking work he has
ported the 'criterion' benchmarking framework to Rust.</p>
<h2><a class="header" href="#2014-07-29-björn-steinbrink-dotdash-doener" id="2014-07-29-björn-steinbrink-dotdash-doener">2014-07-29 Björn Steinbrink (dotdash, doener)</a></h2>
<p>Contributing since April 2013. Björn has done many optimizations for Rust,
including removing allocation bloat in iterators, fmt, and managed boxes;
optimizing <code>fail!</code>; adding strategic inlining in the libraries; speeding up data
structures in the compiler; eliminating quadratic blowup in translation, and
other IR bloat problems.</p>
<p>He's really done an amazing number of optimizations to Rust.</p>
<p>Most recently he earned huge kudos by teaching LLVM about the lifetime of
variables, allowing Rust to make much more efficient use of the stack.</p>
<p>Björn is a total FOTT.</p>
<h2><a class="header" href="#2014-07-22-jonas-hietala-treeman" id="2014-07-22-jonas-hietala-treeman">2014-07-22 Jonas Hietala (treeman)</a></h2>
<p>Jonas Hietala, aka @treeman, has been contributing a large amount of
documentation examples recently for modules such as hashmap, treemap,
priority_queue, collections, bigint, and vec. He has also additionally been
fixing UI bugs in the compiler such as those related to format!</p>
<p>Jonas continues to add new examples/documentation every day, making
documentation more approachable and understandable for all newcomers. Jonas
truly is a friend of the tree!</p>
<h2><a class="header" href="#2014-07-08-sven-nilson-bvssvni-long_void" id="2014-07-08-sven-nilson-bvssvni-long_void">2014-07-08 Sven Nilson (bvssvni, long_void)</a></h2>
<p>Sven Nilson has done a great deal of work to build up the Rust crate ecosystem,
starting with the well-regarded rust-empty project that provides boilerplate
build infrastructure and - crucially - integrates well with other tools like
Cargo.</p>
<p>His Piston project is one of the most promising Rust projects, and its one that
integrates a number of crates, stressing Rust's tooling at just the right time:
when we need to start learning how to support large-scale external projects.</p>
<p>Sven is a friend of the tree.</p>
<h2><a class="header" href="#2014-06-24-jakub-wieczorek-jakub-" id="2014-06-24-jakub-wieczorek-jakub-">2014-06-24 Jakub Wieczorek (jakub-)</a></h2>
<p>jakub-, otherwise known as Jakub Wieczorek, has recently been working very hard
to improve and fix lots of match-related functionality, a place where very few
dare to venture! Most of this code appears to be untouched for quite some time
now, and it's receiving some well-deserved love now.</p>
<p>Jakub has fixed 10 bugs this month alone, many of which have been long-standing
problems in the compiler. He has also been very responsive in fixing bugs as
well as triaging issues that come up from fun match assertions.</p>
<p>Jakub truly is a friend of the tree!</p>
<h2><a class="header" href="#2014-04-22-klutzy" id="2014-04-22-klutzy">2014-04-22 klutzy</a></h2>
<p>klutzy has been doing an amazing amount of Windows work for years now. He picks
up issues that affect our quality on Windows and picks them off 1 by 1. It's
tedious and doesn't get a ton of thanks, but is hugely appreciated by us. As
part of the Korean community, he has also done a lot of work for the local
community there. He is a friend of the tree. Thank you!</p>
<ul>
<li>Rust on Windows crusader</li>
<li>Fixed issues with x86 C ABI struct arguments</li>
<li>Fixed multiple issues with non-US locales</li>
</ul>
<h2><a class="header" href="#2014-03-18-clark-gaebel-cgaebel" id="2014-03-18-clark-gaebel-cgaebel">2014-03-18 Clark Gaebel (cgaebel)</a></h2>
<p>This week's friend of the tree is Clark Gaebel. He just landed a huge first
contribution to Rust. He dove in and made our hashmaps significantly faster by
implementing Robin Hood hashing. He is an excellent friend of the tree.</p>
<h2><a class="header" href="#2014-02-25-erick-tryzelaar-erickt" id="2014-02-25-erick-tryzelaar-erickt">2014-02-25 Erick Tryzelaar (erickt)</a></h2>
<ul>
<li>Contributing since May 2011</li>
<li>Wrote the serialization crate</li>
<li>Organizes the bay area Rust meetups</li>
<li>Just rewrote the Hash trait</li>
</ul>
<h2><a class="header" href="#2014-02-11-flavio-percoco-flaper87" id="2014-02-11-flavio-percoco-flaper87">2014-02-11 Flavio Percoco (FlaPer87)</a></h2>
<ul>
<li>Contributing since September</li>
<li>Does issue triage</li>
<li>Organizing community events in Italy</li>
<li>Optimized the 'pow' function</li>
<li>Recently been fixing lots of small but important bugs</li>
</ul>
<h2><a class="header" href="#2014-01-27---jeff-olson-olsonjefferey" id="2014-01-27---jeff-olson-olsonjefferey">2014-01-27 - Jeff Olson (olsonjefferey)</a></h2>
<ul>
<li>Contributing since February 2012</li>
<li>Did the original libuv integration</li>
<li>Implemented our second attempt at I/O, first using libuv</li>
<li>Ported parts of the C++ runtime to Rust</li>
<li>Implemented file I/O for the newest runtime</li>
<li>Last week published an article about file I/O on the Safari books blog</li>
</ul>
<h2><a class="header" href="#2014-01-21---steven-fackler-sfackler" id="2014-01-21---steven-fackler-sfackler">2014-01-21 - Steven Fackler (sfackler)</a></h2>
<ul>
<li>Contributing since last May</li>
<li>CMU grad</li>
<li>Lots of library improvements, Base64, Bitv, I/O</li>
<li>Rustdoc improvements</li>
<li>Mut/RefCell</li>
<li>std::io::util</li>
<li>external module loading</li>
</ul>
<h2><a class="header" href="#2014-01-14---eduard-burtescu-eddyb" id="2014-01-14---eduard-burtescu-eddyb">2014-01-14 - Eduard Burtescu (eddyb)</a></h2>
<ul>
<li>Contributing since October</li>
<li>Working on the compiler, including trans</li>
<li>Reduced rustc memory usage</li>
<li>Optimized vector operations</li>
<li>Helping refactor the compiler to eliminate use of deprecated features</li>
<li>Cleaned up ancient code in the compiler</li>
<li>Removed our long-standing incorrect use of the environment argument to pass
the self param</li>
</ul>
<h2><a class="header" href="#2014-01-07---vadim-chugunov-vadimcn" id="2014-01-07---vadim-chugunov-vadimcn">2014-01-07 - Vadim Chugunov (vadimcn)</a></h2>
<ul>
<li>Contributing since June</li>
<li>Fixed numerous bugs on Windows</li>
<li>Fixing broken tests</li>
<li>Improved compatibility with newer mingw versions</li>
<li>Eliminated our runtime C++ dependency by implementing unwinding through
libunwind</li>
</ul>
<h1><a class="header" href="#rust-release-history" id="rust-release-history">Rust Release history</a></h1>
<p>This is an archive of Rust release artifacts from 0.1–1.7.0. Each release is
signed with the Rust <a href="https://www.rust-lang.org/rust-key.gpg.ascii">GPG signing key</a> (<a href="https://www.rust-lang.org/rust-key-old.gpg.ascii">older key</a>, <a href="https://www.rust-lang.org/rust-key-very-old.gpg.ascii">even
older key</a>).</p>
<h2><a class="header" href="#170" id="170">1.7.0</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2016/03/02/Rust-1.7.html">Announcement</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/stable/RELEASES.md#version-170-2016-03-03">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rustc-1.7.0-src.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rustc-1.7.0-src.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-pc-windows-gnu.exe">Windows x86_64 .exe gnu installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-pc-windows-gnu.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-pc-windows-gnu.msi">Windows x86_64 .msi gnu installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-pc-windows-gnu.msi.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-pc-windows-msvc.exe">Windows x86_64 .exe MSVC installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-pc-windows-msvc.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-pc-windows-msvc.msi">Windows x86_64 .msi MSVC installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-pc-windows-msvc.msi.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-pc-windows-gnu.exe">Windows i686 .exe gnu installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-pc-windows-gnu.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-pc-windows-gnu.msi">Windows i686 .msi gnu installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-pc-windows-gnu.msi.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-pc-windows-msvc.exe">Windows i686 .exe MSVC installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-pc-windows-msvc.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-pc-windows-msvc.msi">Windows i686 .msi MSVC installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-pc-windows-msvc.msi.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-unknown-linux-gnu.tar.gz">Linux x86_64 tarball</a> (<a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-unknown-linux-gnu.tar.gz">Linux i686 tarball</a> (<a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-apple-darwin.pkg">Mac OS X i686 pkg</a> (<a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-apple-darwin.tar.gz">Mac OS X i686 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-1.7.0-i686-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-apple-darwin.pkg">Mac OS X x86_64 pkg</a> (<a href="https://static.rust-lang.org/dist/rust-1.7.0-x86_64-apple-darwin.pkg.asc">signature</a>)</li>
</ul>
<h2><a class="header" href="#160" id="160">1.6.0</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2016/01/21/Rust-1.6.html">Announcement</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/stable/RELEASES.md#version-160-2016-01-21">Release notes</a></li>
</ul>
<h2><a class="header" href="#150" id="150">1.5.0</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2015/12/10/Rust-1.5.html">Announcement</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/stable/RELEASES.md#version-150-2015-12-10">Release notes</a></li>
</ul>
<h2><a class="header" href="#140" id="140">1.4.0</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2015/10/29/Rust-1.4.html">Announcement</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/8ab8581f6921bc7a8e3fa4defffd2814372dcb15/RELEASES.md#version-140-october-2015">Release notes</a></li>
</ul>
<h2><a class="header" href="#130" id="130">1.3.0</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2015/09/17/Rust-1.3.html">Announcement</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-130-september-2015">Release notes</a></li>
</ul>
<h2><a class="header" href="#120" id="120">1.2.0</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2015/08/06/Rust-1.2.html">Announcement</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-120-2015-08-07">Release notes</a></li>
</ul>
<h2><a class="header" href="#110" id="110">1.1.0</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2015/06/25/Rust-1.1.html">Announcement</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-110-2015-06-25">Release notes</a></li>
</ul>
<h2><a class="header" href="#100" id="100">1.0.0</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2015/05/15/Rust-1.0.html">Announcement</a></li>
<li><a href="https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-100-2015-05-15">Release notes</a></li>
</ul>
<h2><a class="header" href="#100-beta" id="100-beta">1.0.0-beta</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2015/04/03/Rust-1.0-beta.html">Announcement</a></li>
</ul>
<h2><a class="header" href="#100-alpha2" id="100-alpha2">1.0.0-alpha.2</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2015/02/20/Rust-1.0-alpha2.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/1.0.0-alpha.2/RELEASES.md">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-pc-windows-gnu.exe">Windows x86_64 .exe installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-pc-windows-gnu.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-pc-windows-gnu.exe">Windows i686 .exe installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-pc-windows-gnu.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-pc-windows-gnu.msi">Windows x86_64 .msi installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-pc-windows-gnu.msi.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-pc-windows-gnu.msi">Windows i686 .msi installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-pc-windows-gnu.msi.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-unknown-linux-gnu.tar.gz">Linux x86_64 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-unknown-linux-gnu.tar.gz">Linux i686 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-apple-darwin.pkg">Mac OS X x86_64 pkg</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-apple-darwin.pkg">Mac OS X i686 pkg</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-apple-darwin.tar.gz">Mac OS X x86_64 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-x86_64-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-apple-darwin.tar.gz">Mac OS X i686 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.2-i686-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/1.0.0-alpha.2/index.html">Documentation</a></li>
</ul>
<h2><a class="header" href="#100-alpha" id="100-alpha">1.0.0-alpha</a></h2>
<ul>
<li><a href="http://blog.rust-lang.org/2015/01/09/Rust-1.0-alpha.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/1.0.0-alpha/RELEASES.md">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-x86_64-pc-windows-gnu.exe">Windows x86_64 installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-x86_64-pc-windows-gnu.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-i686-pc-windows-gnu.exe">Windows i686 installer</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-i686-pc-windows-gnu.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-x86_64-unknown-linux-gnu.tar.gz">Linux x86_64 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-x86_64-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-i686-unknown-linux-gnu.tar.gz">Linux i686 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-i686-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-x86_64-apple-darwin.pkg">Mac OS X x86_64 pkg</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-x86_64-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-i686-apple-darwin.pkg">Mac OS X i686 pkg</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-i686-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-x86_64-apple-darwin.tar.gz">Mac OS X x86_64 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-x86_64-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-i686-apple-darwin.tar.gz">Mac OS X i686 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-1.0.0-alpha-i686-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/1.0.0-alpha/index.html">Documentation</a></li>
</ul>
<h1><a class="header" href="#rust-0x" id="rust-0x">Rust 0.x</a></h1>
<p>In addition to the included short-form release in the mailing list, each
0.x release has a longer explanation in the release notes.</p>
<h2><a class="header" href="#0120" id="0120">0.12.0</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2014-October/011267.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/0.12.0/RELEASES.md">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.12.0.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.12.0.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.12.0-x86_64-w64-mingw32.exe">Windows x86_64 installer</a>
(<a href="https://static.rust-lang.org/dist/rust-0.12.0-x86_64-w64-mingw32.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.12.0-i686-w64-mingw32.exe">Windows i686 installer</a>
(<a href="https://static.rust-lang.org/dist/rust-0.12.0-i686-w64-mingw32.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.12.0-x86_64-unknown-linux-gnu.tar.gz">Linux x86_64 tarball</a> (<a href="https://static.rust-lang.org/dist/rust-0.12.0-x86_64-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.12.0-i686-unknown-linux-gnu.tar.gz">Linux i686 tarball</a> (<a href="https://static.rust-lang.org/dist/rust-0.12.0-i686-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.12.0-x86_64-apple-darwin.pkg">Mac OS X x86_64 pkg</a>
(<a href="https://static.rust-lang.org/dist/rust-0.12.0-x86_64-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.12.0-i686-apple-darwin.pkg">Mac OS X i686 pkg</a> (<a href="https://static.rust-lang.org/dist/rust-0.12.0-i686-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.12.0-x86_64-apple-darwin.tar.gz">Mac OS X x86_64 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-0.12.0-x86_64-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.12.0-i686-apple-darwin.tar.gz">Mac OS X i686 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-0.12.0-i686-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/0.12.0/index.html">Documentation</a></li>
</ul>
<h2><a class="header" href="#0110" id="0110">0.11.0</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2014-July/010655.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/0.11.0/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.11.0.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.11.0.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.11.0-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.11.0-install.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.11.0-x86_64-unknown-linux-gnu.tar.gz">Linux x86_64 tarball</a> (<a href="https://static.rust-lang.org/dist/rust-0.11.0-x86_64-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.11.0-i686-unknown-linux-gnu.tar.gz">Linux i686 tarball</a> (<a href="https://static.rust-lang.org/dist/rust-0.11.0-i686-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.11.0-x86_64-apple-darwin.pkg">Mac OS X x86_64 pkg</a>
(<a href="https://static.rust-lang.org/dist/rust-0.11.0-x86_64-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.11.0-i686-apple-darwin.pkg">Mac OS X i686 pkg</a> (<a href="https://static.rust-lang.org/dist/rust-0.11.0-i686-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.11.0-x86_64-apple-darwin.tar.gz">Mac OS X x86_64 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-0.11.0-x86_64-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.11.0-i686-apple-darwin.tar.gz">Mac OS X i686 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-0.11.0-i686-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/0.11.0/index.html">Documentation</a></li>
</ul>
<h2><a class="header" href="#010" id="010">0.10</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2014-April/009387.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/0.10/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.10.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.10.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.10-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.10-install.exe.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.10-x86_64-unknown-linux-gnu.tar.gz">Linux x86_64 tarball</a> (<a href="https://static.rust-lang.org/dist/rust-0.10-x86_64-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.10-i686-unknown-linux-gnu.tar.gz">Linux i686 tarball</a> (<a href="https://static.rust-lang.org/dist/rust-0.10-i686-unknown-linux-gnu.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.10-x86_64-apple-darwin.pkg">Mac OS X x86_64 pkg</a> (<a href="https://static.rust-lang.org/dist/rust-0.10-x86_64-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.10-i686-apple-darwin.pkg">Mac OS X i686 pkg</a> (<a href="https://static.rust-lang.org/dist/rust-0.10-i686-apple-darwin.pkg.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.10-x86_64-apple-darwin.tar.gz">Mac OS X x86_64 tarball</a>
(<a href="https://static.rust-lang.org/dist/rust-0.10-x86_64-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.10-i686-apple-darwin.tar.gz">Mac OS X i686 tarball</a> (<a href="https://static.rust-lang.org/dist/rust-0.10-i686-apple-darwin.tar.gz.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.10/index.html">Documentation</a></li>
</ul>
<h2><a class="header" href="#09" id="09">0.9</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2014-January/007753.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/0.9/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.9.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.9.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.9-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.9-install.exe.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.9/index.html">Documentation</a></li>
</ul>
<h2><a class="header" href="#08" id="08">0.8</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2013-September/005804.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/0.8/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.8.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.8.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.8-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.8-install.exe.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.8/tutorial.html">Tutorial</a>
<ul>
<li><a href="http://doc.rust-lang.org/doc/0.8/tutorial-borrowed-ptr.html">borrowed pointers</a> |
<a href="http://doc.rust-lang.org/doc/0.8/tutorial-conditions.html">conditions</a> | <a href="http://doc.rust-lang.org/doc/0.8/tutorial-container.html">containers</a>
| <a href="http://doc.rust-lang.org/doc/0.8/tutorial-ffi.html">ffi</a> | <a href="http://doc.rust-lang.org/doc/0.8/tutorial-macros.html">macros</a> |
<a href="http://doc.rust-lang.org/doc/0.8/tutorial-rustpkg.html">rustpkg</a> | <a href="http://doc.rust-lang.org/doc/0.8/tutorial-tasks.html">tasks</a></li>
</ul>
</li>
<li><a href="http://doc.rust-lang.org/doc/0.8/rust.html">Manual</a> (<a href="http://doc.rust-lang.org/doc/0.8/rust.pdf">PDF</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.8/rustpkg.html">Rustpkg manual</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.8/std/index.html">Standard library docs</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.8/extra/index.html">Extra library docs</a></li>
</ul>
<h2><a class="header" href="#07" id="07">0.7</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2013-July/004667.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/release-0.7/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.7.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.7.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.7-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.7-install.exe.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.7/tutorial.html">Tutorial</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.7/rust.html">Manual</a> (<a href="http://doc.rust-lang.org/doc/0.7/rust.pdf">PDF</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.7/std/index.html">Standard library docs</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.7/extra/index.html">Extra library docs</a></li>
</ul>
<h2><a class="header" href="#06" id="06">0.6</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2013-April/003427.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/release-0.6/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.6.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.6.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.6-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.6-install.exe.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.6/tutorial.html">Tutorial</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.6/rust.html">Manual</a> (<a href="http://doc.rust-lang.org/doc/0.6/rust.pdf">PDF</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.6/core/index.html">Core library docs</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.6/std/index.html">Standard library docs</a></li>
</ul>
<h2><a class="header" href="#05" id="05">0.5</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2012-December/002787.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/release-0.5/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.5.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.5.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.5-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.5-install.exe.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.5/tutorial.html">Tutorial</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.5/rust.html">Manual</a> (<a href="http://doc.rust-lang.org/doc/0.5/rust.pdf">PDF</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.5/core/index.html">Core library docs</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.5/std/index.html">Standard library docs</a></li>
</ul>
<h2><a class="header" href="#04" id="04">0.4</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2012-October/002489.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/release-0.4/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.4.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.4.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.4-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.4-install.exe.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.4/tutorial.html">Tutorial</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.4/rust.html">Manual</a> (<a href="http://doc.rust-lang.org/doc/0.4/rust.pdf">PDF</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.4/core/index.html">Core library docs</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.4/std/index.html">Standard library docs</a></li>
</ul>
<h2><a class="header" href="#031" id="031">0.3.1</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2012-July/002152.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/release-0.3.1/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.3.1.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.3.1.tar.gz.asc">signature</a>)</li>
</ul>
<p>This was an OS X bugfix release.</p>
<h2><a class="header" href="#03" id="03">0.3</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2012-July/002087.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/release-0.3/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.3.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.3.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.3-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.3-install.exe.asc">signature</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.3/tutorial.html">Tutorial</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.3/rust.html">Manual</a> (<a href="http://doc.rust-lang.org/doc/0.3/rust.pdf">PDF</a>)</li>
<li><a href="http://doc.rust-lang.org/doc/0.3/core/index.html">Core library docs</a></li>
<li><a href="http://doc.rust-lang.org/doc/0.3/std/index.html">Standard library docs</a></li>
</ul>
<h2><a class="header" href="#02" id="02">0.2</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2012-March/001511.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/release-0.2/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.2.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.2.tar.gz.asc">signature</a>)</li>
<li><a href="https://static.rust-lang.org/dist/rust-0.2-install.exe">Windows installer</a> (<a href="https://static.rust-lang.org/dist/rust-0.2-install.exe.asc">signature</a>)</li>
</ul>
<h2><a class="header" href="#01" id="01">0.1</a></h2>
<ul>
<li><a href="https://mail.mozilla.org/pipermail/rust-dev/2012-January/001256.html">Announcement</a></li>
<li><a href="https://github.com/mozilla/rust/blob/release-0.1/RELEASES.txt">Release notes</a></li>
<li><a href="https://static.rust-lang.org/dist/rust-0.1.tar.gz">Source code</a> (<a href="https://static.rust-lang.org/dist/rust-0.1.tar.gz.asc">signature</a>)</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="js/moment.min.js"></script>
        
        <script type="text/javascript" src="js/index.js"></script>
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
